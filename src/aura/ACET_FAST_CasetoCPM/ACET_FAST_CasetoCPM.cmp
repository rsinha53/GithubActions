<aura:component controller="ACET_FAST_CasetoCPMCtrl" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickActionWithoutHeader" access="global">
    
    <!-- Attributes -->
    <aura:attribute name="cpmWrap" type="ACET_FAST_CasetoCPMCtrl.CpmWrapper"/>
    <aura:attribute name="activeSections" type="List" default="['A','B','C','D']" />
    <!-- Attributes -->
    
    <!-- Handlers-->
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>    
    <!-- Handlers-->
    
    <!-- Workspace API -->
    <lightning:workspaceAPI aura:id="workspace"/> 
    <!-- Workspace API -->
    
    <!-- Body -->
    <div id="popUpId">
        <!-- Screen 1 Case-->
        <aura:if isTrue="{!v.cpmWrap.isFirstScreen}">
            <lightning:card class="slds-text-heading_small slds-card_boundary ">
                <lightning:recordEditForm aura:id="CaseForm"  
                                          objectApiName="Case"
                                          recordId="{!v.cpmWrap.caseRec.Id}"> 
                    <lightning:messages aura:id="CPMMessage"/>
                    <!-- Heading -->
                    <div class="slds-p-around_medium">
                        <div class="slds-box" style="padding:0px;">    
                            <div class="slds-page-header">
                                <div class="slds-page-header__row">
                                    <div class="slds-page-header__col-title">
                                        <div class="slds-media">
                                            <div class="slds-media__figure" >
                                                <span class="slds-icon_container slds-icon-standard-opportunity" title="Case">
                                                    <lightning:icon iconName="standard:case" alternativeText="Case" title="Case" />
                                                    <span class="slds-assistive-text" >Case</span>
                                                </span>
                                            </div>
                                            <div class="slds-media__body">
                                                <div class="slds-page-header__name">
                                                    <div class="slds-page-header__name-title">
                                                        <h1>
                                                            <span class="slds-page-header__title slds-truncate" title="Case Overview" style="font-weight:bold;">Case Overview</span>
                                                        </h1>
                                                    </div>
                                                </div>
                                                <p class="slds-page-header__name-meta">{!v.cpmWrap.caseRec.CaseNumber}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Heading -->
                    
                    <!-- Case to CPM-->
                    <div class="slds-p-horizontal_medium">
                        <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="{!v.activeSections}">
                            <div class="slds-p-bottom_medium">
                                <lightning:accordionSection name="A" label="Case to CPM">
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="statusId"><span style="color:red">*</span>Status</label>
                                                <lightning:inputfield aura:id="statusId" 
                                                                      fieldName="Status" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.Status}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="statusId">Reference Number</label>
                                                <lightning:inputfield aura:id="refId" 
                                                                      fieldName="PC_Referral_Number__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Referral_Number__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="OwnerId">Case Owner</label>
                                                <lightning:inputfield aura:id="OwnerId" 
                                                                      variant="label-hidden"
                                                                      fieldName="OwnerId"
                                                                      disabled="true"/>
                                                
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="RetCode"><span style="color:red">*</span>Retro Reason Code</label>
                                                <lightning:inputfield aura:id="RetCode" 
                                                                      fieldName="Retro_Reason_Code__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.Retro_Reason_Code__c}"/>
                                                
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="SubDep"><span style="color:red">*</span>Submitting Department</label>
                                                <lightning:inputfield aura:id="SubDep" 
                                                                      fieldName="Submitting_Department__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.Submitting_Department__c}"/>
                                                
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="CreDate">Date/Time Opened</label>
                                                <lightning:inputfield aura:id="CreDate" 
                                                                      fieldName="CreatedDate" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.CreatedDate}"/>
                                                
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="SubDep">Submitter First name</label>
                                                <lightning:inputfield aura:id="SubNam" 
                                                                      fieldName="PC_Submitter_First_name__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Submitter_First_name__c}"/>
                                                
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="CreDate">Intake Queue Assignment Date</label>
                                                <lightning:inputfield aura:id="Intake" 
                                                                      fieldName="PC_Intake_Queue_Assignment_Date__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Intake_Queue_Assignment_Date__c}"/>
                                                
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="SubLNam">Submitter Last name</label>
                                                <lightning:inputfield aura:id="SubLNam" 
                                                                      fieldName="PC_Submitter_Last_Name__c"
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Submitter_Last_Name__c}"/>
                                                
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="Intake">Intake Coordinator Name</label>
                                                <lightning:inputfield aura:id="Intake" 
                                                                      fieldName="PC_Intake_Coordinator_Name__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Intake_Coordinator_Name__c}"/>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </lightning:accordionSection>
                            </div>
                            <div class="slds-p-bottom_medium">
                                <lightning:accordionSection name="B" label="Topic Information">
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12 hideLabel">
                                            <div class="slds-p-right_medium">
                                                <label for="TopicId"><span style="color:red">*</span>Topic</label>
                                                <lightning:select name="Topic" 
                                                                  aura:id="TopicId"
                                                                  label="Topic"
                                                                  value="{!v.cpmWrap.caseRec.Topic__c}"
                                                                  variant="label-hidden"
                                                                  onchange="{!c.HandleTopic}">
                                                    <option value="">--Select--</option>
                                                    <aura:iteration  items="{!v.cpmWrap.topicList}" var="topic">
                                                        <option value="{!topic}">{!topic}</option>
                                                    </aura:iteration >
                                                </lightning:select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12 hideLabel">
                                            <div class="slds-p-right_medium">
                                                <label for="TypeId">Type</label>
                                                <lightning:select name="Type" 
                                                                  aura:id="TypeId"
                                                                  label="Type"
                                                                  value="{!v.cpmWrap.caseRec.Type__c}"
                                                                  variant="label-hidden"
                                                                  onchange="{!c.HandleType}"
                                                                  disabled="{!v.cpmWrap.caseRec.Topic__c==''}">
                                                    <option value="">--Select--</option>
                                                    <aura:iteration  items="{!v.cpmWrap.typeList}" var="type">
                                                        <option value="{!type}">{!type}</option>
                                                    </aura:iteration >
                                                </lightning:select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12 hideLabel">
                                            <div class="slds-p-right_medium">
                                                <label for="SubtypeId">Sub Type</label>
                                                <lightning:select name="Sub Type" 
                                                                  aura:id="SubtypeId"
                                                                  label="Sub Type"
                                                                  value="{!v.cpmWrap.caseRec.Subtype__c}"
                                                                  variant="label-hidden"
                                                                  disabled="{!v.cpmWrap.caseRec.Type__c==''}">
                                                    <option value="">--Select--</option>
                                                    <aura:iteration  items="{!v.cpmWrap.subTypeList}" var="subType">
                                                        <option value="{!subType}">{!subType}</option>
                                                    </aura:iteration >
                                                </lightning:select>
                                            </div>
                                        </div>
                                    </div>
                                </lightning:accordionSection>
                            </div>
                            <div class="slds-p-bottom_medium">
                                <lightning:accordionSection name="C" label="Contact Information">
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="statusId"><span style="color:red">*</span>Contact Type</label>
                                                <lightning:inputfield aura:id="ConId" 
                                                                      fieldName="PC_Contact_Type__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Contact_Type__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="statusId">Internal Contact Name</label>
                                                <lightning:inputfield aura:id="Typ" 
                                                                      fieldName="PC_Internal_Contact_Name__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Internal_Contact_Name__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="statusId">External Contact Name</label>
                                                <lightning:inputfield aura:id="ext" 
                                                                      fieldName="PC_External_Contact_Name__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_External_Contact_Name__c}"/>
                                            </div>
                                        </div>
                                        
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="statusId">Internal Contact Phone</label>
                                                <lightning:inputfield aura:id="int" 
                                                                      fieldName="PC_Internal_Contact_Phone__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Internal_Contact_Phone__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="statusId">External Contact Phone</label>
                                                <lightning:inputfield aura:id="ext" 
                                                                      fieldName="PC_External_Contact_Phone__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_External_Contact_Phone__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="statusId">Internal Contact Email</label>
                                                <lightning:inputfield aura:id="int" 
                                                                      fieldName="PC_Internal_Contact_Email__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Internal_Contact_Email__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="statusId">External Contact Email</label>
                                                <lightning:inputfield aura:id="extmail" 
                                                                      fieldName="PC_External_Contact_Email__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_External_Contact_Email__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="priorityId">Priority</label>
                                                <lightning:inputfield aura:id="priorityId" 
                                                                      fieldName="Priority" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.Priority}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="statusId">Contact Name</label>
                                                <lightning:inputfield aura:id="extmail" 
                                                                      fieldName="ContactId" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.ContactId}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="statusId"><span style="color:red">*</span>Description</label>
                                                <lightning:inputfield aura:id="des" 
                                                                      fieldName="Description" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.Description}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="statusId"><span style="color:red">*</span>Case Origin</label>
                                                <lightning:inputfield aura:id="ori" 
                                                                      fieldName="Origin" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.Origin}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="statusId">Web Email</label>
                                                <lightning:inputfield aura:id="des" 
                                                                      fieldName="SuppliedEmail" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.SuppliedEmail}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="statusId"><span style="color:red">*</span>Subject</label>
                                                <lightning:inputfield aura:id="sub" 
                                                                      fieldName="Subject" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.Subject}"/>
                                            </div>
                                        </div>
                                    </div>
                                </lightning:accordionSection>
                            </div>
                            <div class="slds-p-bottom_medium">
                                <lightning:accordionSection name="D" label="Provider Information">
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="statusId"><span style="color:red">*</span>Project Description</label>
                                                <lightning:inputfield aura:id="ProId" 
                                                                      fieldName="PC_Project_Description__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Project_Description__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="statusId"><span style="color:red">*</span>Provider Type</label>
                                                <lightning:inputfield aura:id="pTyp" 
                                                                      fieldName="Provider_Type__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.Provider_Type__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="statusId">Provider Group Name/Provider Name</label>
                                                <lightning:inputfield aura:id="ext" 
                                                                      fieldName="PC_Provider_Name__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Provider_Name__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="statusId"><span style="color:red">*</span>Provider ID</label>
                                                <lightning:inputfield aura:id="int" 
                                                                      fieldName="PC_Provider_ID__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Provider_ID__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="statusId"><span style="color:red">*</span>Provider TIN</label>
                                                <lightning:inputfield aura:id="ext" 
                                                                      fieldName="PC_Provider_TIN__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Provider_TIN__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="statusId"><span style="color:red">*</span>Provider State</label>
                                                <lightning:inputfield aura:id="int" 
                                                                      fieldName="PC_Provider_State__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.PC_Provider_State__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="statusId">C and S TX Product</label>
                                                <lightning:inputfield aura:id="extmail" 
                                                                      fieldName="C_S_TX_Product__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.caseRec.C_S_TX_Product__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                </lightning:accordionSection>   
                            </div>
                        </lightning:accordion>
                    </div>
                    <!-- Case to CPM -->
                    
                </lightning:recordEditForm>
            </lightning:card>
        </aura:if>
        <!-- Screen 1 Case-->
        
        <!-- Screen 2 -->
        <aura:if isTrue="{!!v.cpmWrap.isFirstScreen}">
            <lightning:card class="slds-card_boundary">
                <lightning:recordEditForm aura:id="ProjSubForm" 
                                          objectApiName="Project_Submission_Detail__c"> 
                    <lightning:messages aura:id="Message"/>
                    
                    <!-- Heading -->
                    <div class="slds-p-around_medium">
                        <div class="slds-box" style="padding:0px;">    
                            <div class="slds-page-header">
                                <div class="slds-page-header__row">
                                    <div class="slds-page-header__col-title">
                                        <div class="slds-media">
                                            <div class="slds-media__figure" >
                                                <span class="slds-icon_container slds-icon-standard-opportunity" title="Case">
                                                    <lightning:icon iconName="standard:case" alternativeText="Case" title="Case" />
                                                    <span class="slds-assistive-text">Project Submission Detail</span>
                                                </span>
                                            </div>
                                            <div class="slds-media__body">
                                                <div class="slds-page-header__name">
                                                    <div class="slds-page-header__name-title">
                                                        <h1>
                                                            <span class="slds-page-header__title slds-truncate" title="Case Overview" style="font-weight:bold;">Project Submission Detail</span>
                                                        </h1>
                                                    </div>
                                                </div>
                                                <p class="slds-page-header__name-meta">{!v.cpmWrap.caseRec.CaseNumber}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Heading -->
                    <div class="slds-p-horizontal_medium">
                        <lightning:accordion allowMultipleSectionsOpen="true" activeSectionName="{!v.activeSections}">
                            <div class="slds-p-bottom_medium">
                                <lightning:accordionSection name="A" label="Information">
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="caseId">Case</label>
                                                <lightning:inputfield aura:id="caseId" 
                                                                      fieldName="Case__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Case__c}"
                                                                      disabled="true"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="BegId">Beginning Date</label>
                                                <lightning:inputfield aura:id="BegId" 
                                                                      fieldName="Beginning_Date__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Beginning_Date__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="BProId">Beginning Process</label>
                                                <lightning:inputfield aura:id="BProId" 
                                                                      fieldName="Beginning_Process__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Beginning_Process__c}"
                                                                      />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="EndId">Ending Date</label>
                                                <lightning:inputfield aura:id="EndId" 
                                                                      fieldName="Ending_Date__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Ending_Date__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="EproId">Ending Process</label>
                                                <lightning:inputfield aura:id="EproId" 
                                                                      fieldName="Ending_Process__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Ending_Process__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="ProId">System Process Change Date</label>
                                                <lightning:inputfield aura:id="ProId" 
                                                                      fieldName="System_Process_Change_Date__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.System_Process_Change_Date__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="ClaimeId">Claim Examples</label>
                                                <lightning:inputfield aura:id="ClaimeId" 
                                                                      fieldName="Claim_Examples__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Claim_Examples__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="IsId"><span style="color:red">*</span>Issue Description</label>
                                                <lightning:inputfield aura:id="IsId" 
                                                                      fieldName="Issue_Description__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Issue_Description__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="ExId">Expected Outcome</label>
                                                <lightning:inputfield aura:id="ExId" 
                                                                      fieldName="Expected_Outcome__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Expected_Outcome__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="roeId"><span style="color:red">*</span>Root Cause Remediated </label>
                                                <lightning:inputfield aura:id="roeId" 
                                                                      fieldName="Root_Cause_Remediated__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Root_Cause_Remediated__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="daeId"><span style="color:red">*</span>Dates Within Reconsideration Timeframe </label>
                                                <lightning:inputfield aura:id="daeId" 
                                                                      fieldName="Dates_Within_Reconsideration_Timeframe__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Dates_Within_Reconsideration_Timeframe__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="remeId "><span style="color:red">*</span>Remediation Details </label>
                                                <lightning:inputfield aura:id="remeId" 
                                                                      fieldName="Remediation_Details__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Remediation_Details__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="tireId">Timely Reconsideration Details </label>
                                                <lightning:inputfield aura:id="tireId" 
                                                                      fieldName="Timely_Reconsideration_Details__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Timely_Reconsideration_Details__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="ConId">Configuration Update </label>
                                                <lightning:inputfield aura:id="ConId" 
                                                                      fieldName="Configuration_Update__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Configuration_Update__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="isstyId">Issue Type </label>
                                                <lightning:inputfield aura:id="isstyId" 
                                                                      fieldName="Issue_Type__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Issue_Type__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="reId">Referral ID</label>
                                                <lightning:inputfield aura:id="reId" 
                                                                      fieldName="Referral_ID__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Referral_ID__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="datissId">Date Issue Identified </label>
                                                <lightning:inputfield aura:id="datissId" 
                                                                      fieldName="Date_Issue_Identified__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Date_Issue_Identified__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="souId">Standard Operating Procedure Update</label>
                                                <lightning:inputfield aura:id="souId" 
                                                                      fieldName="SOP_Update__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.SOP_Update__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="IdenId"><span style="color:red">*</span>Identified By </label>
                                                <lightning:inputfield aura:id="IdenId" 
                                                                      fieldName="Issue_Identified_By__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Issue_Identified_By__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="sopId">Standard Operating Procedure Name</label>
                                                <lightning:inputfield aura:id="sopId" 
                                                                      fieldName="SOP_Name__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.SOP_Name__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium hideHelpText">
                                                <label for="uhgId">Date UHC Notified by State</label>
                                                <lightning:inputfield aura:id="uhgId" 
                                                                      fieldName="Date_UHC_Notified_by_State__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Date_UHC_Notified_by_State__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="steId">Source of Truth Type </label>
                                                <lightning:inputfield aura:id="steId" 
                                                                      fieldName="Source_of_Truth_Type__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Source_of_Truth_Type__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="CDiId">COSMOS Divisions</label>
                                                <lightning:inputfield aura:id="CDiId" 
                                                                      fieldName="COSMOS_Divisions__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.COSMOS_Divisions__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium">
                                                <label for="sdId">Source of Truth Date </label>
                                                <lightning:inputfield aura:id="sdId" 
                                                                      fieldName="Source_of_Truth_Date__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Source_of_Truth_Date__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="caseId">COSMOS Panels</label>
                                                <lightning:inputfield aura:id="caseId" 
                                                                      fieldName="COSMOS_Panels__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.COSMOS_Panels__c}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-grid slds-wrap slds-p-top_medium">
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-right_medium hideHelpText">
                                                <label for="souid">Source of Truth Detail </label>
                                                <lightning:inputfield aura:id="souid" 
                                                                      fieldName="Source_of_Truth_Detail__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Source_of_Truth_Detail__c}"/>
                                            </div>
                                        </div>
                                        <div class="slds-col slds-size_6-of-12">
                                            <div class="slds-p-left_medium">
                                                <label for="CoId">Contact Preference</label>
                                                <lightning:inputfield aura:id="CoId" 
                                                                      fieldName="Contact_Preference__c" 
                                                                      variant="label-hidden"
                                                                      value="{!v.cpmWrap.projectSubRec.Contact_Preference__c}"/>
                                            </div>
                                        </div>
                                    </div>                            
                                </lightning:accordionSection>
                            </div>
                        </lightning:accordion>
                    </div>
                </lightning:recordEditForm> 
            </lightning:card>
        </aura:if>
        <!-- Screen 2 -->
        
        
        <!-- Buttons -->
        <div class="slds-docked-form-footer">
            <div class="slds-p-around_medium">
                <lightning:button aura:Id="previousId" variant="brand-outline" label="Previous" title="Previous" onclick="{!c.handlePrevious}" disabled="{!v.cpmWrap.isFirstScreen}"/>
                <lightning:button aura:Id="nextId" variant="brand-outline" label="Next" title="Next" onclick="{!c.handleNext}" disabled="{!!v.cpmWrap.isFirstScreen}"/>
                <aura:if isTrue="{!!v.cpmWrap.isFirstScreen}" >
                    <lightning:button aura:Id="submitFormId" variant="brand" label="Send To CPM" title="Send To CPM" onclick="{!c.validateFields}" />
                </aura:if>
            </div>
        </div>
    </div>
    <!-- Body -->
    
    <aura:html tag="style">
        .slds-modal__container{
        width: 80%;
        max-width: 80rem;
        height:80%;
        max-height: 80rem;
        }
        .toastMessage.forceActionsText{
        white-space : pre-line !important;
        }
    </aura:html>
</aura:component>