@isTest
    public class ACETLGT_CoveragesControllerTest {
      @IsTest
        Public static void LightningCoveragesFamMethod()
        {
            User memberAgent = TestDataFactory.getUser('ACET Member'); 
             Map<String, String> mapISLWSConfigs = new Map<String, String>(); 
                mapISLWSConfigs.put('ISLConAccessToken', 'e9b3f2b1-8863-49ec-9ff8-40da25961ef5');
                mapISLWSConfigs.put('OILHttpHeaderAccept', 'application/json;charset=UTF-8');
                mapISLWSConfigs.put('OILHttpHeaderActor', 'ACET');
                mapISLWSConfigs.put('OILHttpHeaderScope', 'read');
                mapISLWSConfigs.put('ISLOAuthContentType', 'application/x-www-form-urlencoded');
                mapISLWSConfigs.put('ISLOAuthGrantType', 'client_credentials');
                mapISLWSConfigs.put('dev_ISLOAuthClientId', 'ISLStageConClientId');
                mapISLWSConfigs.put('dev_ISLOAuthClientSecret', 'ISLStageConClientSecret');
                mapISLWSConfigs.put('dev_ISLOAuthEndpoint', 'https://api-stg.optum.com:8443');
                 mapISLWSConfigs.put('dev_GetFamilyMembersEndpoint', '/api/alpha/eisl/individuals/familymembership/v2.0/read');           
                 mapISLWSConfigs.put('dev_GetEmployerGroupEndpoint', '/api/alpha/eisl/organizations/employergroups/v4.0/read');           
                mapISLWSConfigs.put('OILTimeout', '3000'); 
               
            List<ISL_Webservice_Config__c> lstISLWSConfigs = ACETTestDataUtility.CreateISLWebserviceConfigurations(mapISLWSConfigs);
           
               MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', '{"getFamilyMembershipResponse":{"individual":[{"individualIdentifier":"492265628","name":{"firstName":"MACKENZIE","lastName":"ONORATI","middleName":"","nameSuffix":""},"birthDate":"2012-04-12","genderCode":"M","genderDescription":"Male","socialSecurityNumber":"802876040","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"4083 56TH AVE NE","addressLine2":"","city":"STAMFORD","postalCode":"06922","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"1168520","groupName":"GRAHAM CAPITAL MANAGEMENT LP","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"MNS0000003","benefitPlanName":"Graham Cap Mgt - KACTOHP61R - NON-63055","benefitType":"MD","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"19","relationshipDescription":"Child","memberIdCardSerialNumber":"97161070003","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000037","benefitPlanName":"LG $5/$25/$40","benefitType":"RX","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"19","relationshipDescription":"Child","memberIdCardSerialNumber":"97161070003","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"03","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"492265628","type":"enrolleeEID"},{"id":"100000031216","type":"subscriberSystemId"},{"id":"100000031242","type":"enrolleeSystemID"},{"id":"654651892","type":"subscriberSurrogateKey"},{"id":"654651883","type":"enrolleeSurrogateKey"}]}]},{"individualIdentifier":"492293043","name":{"firstName":"TRANG","lastName":"ONORATI","middleName":"","nameSuffix":""},"birthDate":"2013-10-15","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"314975443","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"4083 56TH AVE NE","addressLine2":"","city":"STAMFORD","postalCode":"06922","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"1168520","groupName":"GRAHAM CAPITAL MANAGEMENT LP","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"MNS0000003","benefitPlanName":"Graham Cap Mgt - KACTOHP61R - NON-63055","benefitType":"MD","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"19","relationshipDescription":"Child","memberIdCardSerialNumber":"97161070004","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000037","benefitPlanName":"LG $5/$25/$40","benefitType":"RX","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"19","relationshipDescription":"Child","memberIdCardSerialNumber":"97161070004","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"03","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"492293043","type":"enrolleeEID"},{"id":"100000031216","type":"subscriberSystemId"},{"id":"100000031245","type":"enrolleeSystemID"},{"id":"654651892","type":"subscriberSurrogateKey"},{"id":"654679255","type":"enrolleeSurrogateKey"}]}]},{"individualIdentifier":"492280979","name":{"firstName":"TAMA","lastName":"ONORATI","middleName":"","nameSuffix":""},"birthDate":"1977-02-24","genderCode":"M","genderDescription":"Male","socialSecurityNumber":"","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"4083 56TH AVE NE","addressLine2":"","city":"STAMFORD","postalCode":"06922","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"1168520","groupName":"GRAHAM CAPITAL MANAGEMENT LP","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"MNS0000003","benefitPlanName":"Graham Cap Mgt - KACTOHP61R - NON-63055","benefitType":"MD","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"01","relationshipDescription":"Spouse","memberIdCardSerialNumber":"97161070001","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000037","benefitPlanName":"LG $5/$25/$40","benefitType":"RX","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"01","relationshipDescription":"Spouse","memberIdCardSerialNumber":"97161070001","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"03","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"492280979","type":"enrolleeEID"},{"id":"100000031216","type":"subscriberSystemId"},{"id":"100000031231","type":"enrolleeSystemID"},{"id":"654651892","type":"subscriberSurrogateKey"},{"id":"654667179","type":"enrolleeSurrogateKey"}]}]},{"individualIdentifier":"492265644","name":{"firstName":"SOILA","lastName":"ONORATI","middleName":"","nameSuffix":""},"birthDate":"2011-02-01","genderCode":"M","genderDescription":"Male","socialSecurityNumber":"047171607","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"4083 56TH AVE NE","addressLine2":"","city":"STAMFORD","postalCode":"06922","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"1168520","groupName":"GRAHAM CAPITAL MANAGEMENT LP","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"MNS0000003","benefitPlanName":"Graham Cap Mgt - KACTOHP61R - NON-63055","benefitType":"MD","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"19","relationshipDescription":"Child","memberIdCardSerialNumber":"97161070002","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000037","benefitPlanName":"LG $5/$25/$40","benefitType":"RX","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"19","relationshipDescription":"Child","memberIdCardSerialNumber":"97161070002","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"03","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"492265644","type":"enrolleeEID"},{"id":"100000031216","type":"subscriberSystemId"},{"id":"100000031236","type":"enrolleeSystemID"},{"id":"654651892","type":"subscriberSurrogateKey"},{"id":"654651860","type":"enrolleeSurrogateKey"}]}]},{"individualIdentifier":"492265646","name":{"firstName":"LORINA","lastName":"ONORATI","middleName":"","nameSuffix":""},"birthDate":"1979-08-27","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"056628382","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"4083 56TH AVE NE","addressLine2":"","city":"STAMFORD","postalCode":"06922","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"1168520","groupName":"GRAHAM CAPITAL MANAGEMENT LP","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"MNS0000003","benefitPlanName":"Graham Cap Mgt - KACTOHP61R - NON-63055","benefitType":"MD","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"97161070000","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1738484","benefitBundleOptionDescription":"","benefitEffectiveDate":"2018-10-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000037","benefitPlanName":"LG $5/$25/$40","benefitType":"RX","coverageLevelCode":"FAM","product":{"productIdentifier":"PM00000006"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"97161070000","subscriberIdCardSerialNumber":"97161070000","eligibilityStatusCode":"A","cancelReasonTypeCode":"","memberDirectBillingInd":"false","linkedSubscriberId":"","planType":"03","coverageLevelList":[{"covLevelCode":"FAM","covLevelDesc":"Family","covLevelEffDate":"2018-10-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{"providerIdentifiers":[{"id":"P4152441","type":"PUL"},{"id":"D400002428","type":"1C"},{"id":"D400054474","type":"1C"},{"id":"832901320","type":"SSN"},{"id":"1441688","type":"MPI"},{"id":"P4416275","type":"PUL"},{"id":"1669542999","type":"NPI"},{"id":"831446190354151913","type":"LTK"}],"assignmentType":"OBGYN","effectiveDate":"2018-10-01","expirationDate":"9999-12-31","firstName":"CAROL","lastName":"FUCIGNA","networkId":"7","organizationLocationId":"0","locationAffiliationId":"39421107","address1":"1351 WASHINGTON BLVD","address2":"","address3":"","address4":"","address5":"","city":"STAMFORD","state":"CT","postalCode":"06902-2419","country":"US"},{"providerIdentifiers":[{"id":"603408","type":"1C"},{"id":"494146193657144226","type":"LTK"},{"id":"1457350522","type":"NPI"},{"id":"1260481","type":"MPI"},{"id":"P5517882","type":"PUL"},{"id":"750922259","type":"SSN"}],"assignmentType":"PCP","effectiveDate":"2019-09-06","expirationDate":"9999-12-31","firstName":"TODD","lastName":"AARON","networkId":"7","organizationLocationId":"0","locationAffiliationId":"37312757","address1":"850 PAPER MILL RD","address2":"","address3":"","address4":"","address5":"","city":"GLENSIDE","state":"PA","postalCode":"19038-7833","country":"US"}],"identifiers":[{"id":"492265646","type":"enrolleeEID"},{"id":"100000031216","type":"subscriberSystemId"},{"id":"100000031216","type":"enrolleeSystemID"},{"id":"654651892","type":"subscriberSurrogateKey"},{"id":"654651892","type":"enrolleeSurrogateKey"}]}]}]}}');
            OILResponse.TokenExpired = false;        
            MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
            Test.setMock(HttpCalloutMock.class, MockHttpRes);  
            
            System.runAs(memberAgent){
                
                list<ACETRelationshipCodes__c> rCodes = new list<ACETRelationshipCodes__c> ();
            rCodes.add(new ACETRelationshipCodes__c (Name = '18',Description__c = 'Self'));
            rCodes.add(new ACETRelationshipCodes__c (Name = '01',Description__c = 'Spouse'));
            rCodes.add(new ACETRelationshipCodes__c (Name = '19',Description__c = 'Child'));
            insert rCodes;      
            Test.startTest();
                    ACETLGT_CoveragesController fammem= new ACETLGT_CoveragesController(); 
           
                ACETLGT_CoveragesController.getFamilyMembershipResults('654651892','654651892','1168520','10/1/2018','10/1/2018','MNS0000003', '97161070000','492265646');
                ACETLGT_CoveragesController.getFamilyMembershipResults('test','test','test','test','test','test', 'test','test');
                ACETLGT_CoveragesController.getFamilyMembershipResults('@@@','@@','@@@','@@@','@@','@@@', '@@@','@@');
                Test.stopTest();
                
            }
            
        }
    
    @IsTest
        Public static void LightningCoveragesGroupMethod()
        {
            User thisUser = [Select Id From User Where Id =:UserInfo.getUserId()];
           User memberAgent;
         System.runAs(thisUser){
             memberAgent = TestDataFactory.getUser('ACET Member'); 
             Map<String, String> mapISLWSConfigs = new Map<String, String>(); 
                mapISLWSConfigs.put('ISLConAccessToken', 'e9b3f2b1-8863-49ec-9ff8-40da25961ef5');
                mapISLWSConfigs.put('OILHttpHeaderAccept', 'application/json;charset=UTF-8');
                mapISLWSConfigs.put('OILHttpHeaderActor', 'ACET');
                mapISLWSConfigs.put('OILHttpHeaderScope', 'read');
                mapISLWSConfigs.put('ISLOAuthContentType', 'application/x-www-form-urlencoded');
                mapISLWSConfigs.put('ISLOAuthGrantType', 'client_credentials');
                mapISLWSConfigs.put('dev_ISLOAuthClientId', 'ISLStageConClientId');
                mapISLWSConfigs.put('dev_ISLOAuthClientSecret', 'ISLStageConClientSecret');
                mapISLWSConfigs.put('dev_ISLOAuthEndpoint', 'https://api-stg.optum.com:8443');
                 mapISLWSConfigs.put('dev_GetFamilyMembersEndpoint', '/api/alpha/eisl/individuals/familymembership/v2.0/read');           
                 mapISLWSConfigs.put('dev_GetEmployerGroupEndpoint', '/api/alpha/eisl/organizations/employergroups/v4.0/read');           
                mapISLWSConfigs.put('OILTimeout', '3000'); 
               
            List<ISL_Webservice_Config__c> lstISLWSConfigs = ACETTestDataUtility.CreateISLWebserviceConfigurations(mapISLWSConfigs);
            insert lstISLWSConfigs;
            //
                 MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', '{"getEmployerGroup":{"getEmployerGroupResponse":{"employerGroup":{"groupNumber":"1168520","groupName":"GRAHAM CAPITAL MANAGEMENT LP","sourceSysCode":"CIRRUS","taxIdentificationNumber":["061398337"],"sizeDefinitionCode":"02","sizeDefinitionDescription":"Large Business","enrollmentType":"EDI Only","parentGroup":{"id":"0"},"childGroup":[],"alphaParentGroup":{"id":"1168520","name":"GRAHAM CAPITAL MANAGEMENT LP"},"riskManagementIndicator":"false","erisaIndicator":"true","groupLevelHoldIndicator":"false","groupLevelHold":[{"groupHoldCode":"MIG_EL","groupHoldShortDescription":"Migration Eligibility Hold","groupHoldEffectiveDates":"2018-06-25","groupHoldExpirationDates":"2018-08-02","groupHoldTransactionDate":"2018-08-02","groupHoldCreatedByUserId":"SYSTEM"},{"groupHoldCode":"MIG_FF","groupHoldShortDescription":"Migration Fulfillment Hold","groupHoldEffectiveDates":"2018-06-25","groupHoldExpirationDates":"2018-10-22","groupHoldTransactionDate":"2018-10-23","groupHoldCreatedByUserId":"SYSTEM"},{"groupHoldCode":"FULFIL","groupHoldShortDescription":"Hold Fulfillment","groupHoldEffectiveDates":"2018-10-30","groupHoldExpirationDates":"2018-10-30","groupHoldTransactionDate":"2018-10-31","groupHoldCreatedByUserId":"SYSTEM"},{"groupHoldCode":"MIG_ID","groupHoldShortDescription":"Migration Hold ID Cards","groupHoldEffectiveDates":"2018-06-25","groupHoldExpirationDates":"2018-09-15","groupHoldTransactionDate":"2018-09-16","groupHoldCreatedByUserId":"SYSTEM"}],"employeeCounts":[{"employeeCountDescription":"Part-Time","employeeCount":"0","reportingYear":"2018","transactionDate":"2018-06-25"},{"employeeCountDescription":"Retired","employeeCount":"0","reportingYear":"2018","transactionDate":"2018-06-25"},{"employeeCountDescription":"Total Count of Full Time Employees","employeeCount":"200","reportingYear":"2018","transactionDate":"2018-06-25"},{"employeeCountDescription":"Union Non-Eligible","employeeCount":"0","reportingYear":"2018","transactionDate":"2018-06-25"},{"employeeCountDescription":"Other","employeeCount":"0","reportingYear":"2018","transactionDate":"2018-06-25"},{"employeeCountDescription":"Union Eligible","employeeCount":"0","reportingYear":"2018","transactionDate":"2018-06-25"},{"employeeCountDescription":"Total Eligible","employeeCount":"200","reportingYear":"2018","transactionDate":"2018-06-25"}],"groupSettings":[{"cobAttestationFrequency":"0","cobAttestationDenyGracePeriod":"0","religiousExemptionTypeDescription":"Not a Religious Exempt Group","effectiveDate":"2018-10-01","expirationDate":"9999-12-31"}],"groupAddress":[{"addressTypeCode":"PHY","addressTypeDescription":"Physical Address","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America","salesOfficeCode":"339","salesOfficeDescription":"Hartford/oth","effectiveDate":"2018-10-01","expirationDate":"9999-12-31"}],"groupContact":[{"roleType":"2","roleDescription":"Billing Contact","primaryIndicatorCode":"false","primaryIndicatorDescription":"Secondary","firstName":"ANN","lastName":"FIORE","startDate":"2018-10-01","endDate":"2018-10-01","assignmentStartDate":"2018-10-01","assignmentEndDate":"9999-12-31","phone":[{"phoneType":"B","telephoneNumber":"203-899-3400"}],"address":[{"addressTypeCode":"B","addressTypeDescription":"Billing","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"}]},{"roleType":"1","roleDescription":"Benefit Administrator","primaryIndicatorCode":"false","primaryIndicatorDescription":"Secondary","firstName":"PIERSON &","lastName":"SMITH","startDate":"2018-10-01","endDate":"9999-12-31","assignmentStartDate":"2018-10-01","assignmentEndDate":"9999-12-31","phone":[{"phoneType":"B","telephoneNumber":"203-853-2727"}],"address":[{"addressTypeCode":"B","addressTypeDescription":"Billing","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"}]},{"roleType":"8","roleDescription":"SBC Contact","primaryIndicatorCode":"true","primaryIndicatorDescription":"Primary","firstName":"BONNIE","lastName":"GEPPERT","startDate":"2018-10-01","endDate":"9999-12-31","assignmentStartDate":"2018-10-01","assignmentEndDate":"9999-12-31","phone":[{"phoneType":"B","telephoneNumber":"716-819-5620"}],"email":[{"communicationTypeCode":"EML","electronicAddress":"Bonnie.Geppert@key.insurance"}],"address":[{"addressTypeCode":"B","addressTypeDescription":"Billing","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"}]},{"roleType":"1","roleDescription":"Benefit Administrator","primaryIndicatorCode":"true","primaryIndicatorDescription":"Primary","firstName":"SARA","lastName":"KROCHKO","startDate":"2018-10-01","endDate":"9999-12-31","assignmentStartDate":"2018-10-01","assignmentEndDate":"9999-12-31","phone":[{"phoneType":"B","telephoneNumber":"203-899-3400"}],"email":[{"communicationTypeCode":"EML","electronicAddress":"skrochko@grahamcapital.com"}],"address":[{"addressTypeCode":"B","addressTypeDescription":"Billing","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"},{"addressTypeCode":"PHY","addressTypeDescription":"Physical Address","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"}]},{"roleType":"2","roleDescription":"Billing Contact","primaryIndicatorCode":"true","primaryIndicatorDescription":"Primary","firstName":"SARA","lastName":"KROCHKO","startDate":"2018-10-01","endDate":"9999-12-31","assignmentStartDate":"2018-10-01","assignmentEndDate":"9999-12-31","phone":[{"phoneType":"B","telephoneNumber":"203-899-3400"}],"email":[{"communicationTypeCode":"EML","electronicAddress":"skrochko@grahamcapital.com"}],"address":[{"addressTypeCode":"B","addressTypeDescription":"Billing","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"},{"addressTypeCode":"PHY","addressTypeDescription":"Physical Address","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"}]},{"firstName":"JENNIFER","lastName":"HARGRAVE","assignmentStartDate":"2018-10-01","assignmentEndDate":"9999-12-31","phone":[{"phoneType":"B","telephoneNumber":"203-899-3489"},{"phoneType":"F","telephoneNumber":"203-899-3595"}],"email":[{"communicationTypeCode":"EML","electronicAddress":"jhargrave@grahamcapital.com"}],"address":[{"addressTypeCode":"B","addressTypeDescription":"Billing","addressLine1":"ROCKLEDGE FINANCIAL CENTER","addressLine2":"40 HIGHLAND AVE","addressCity":"NORWALK","addressPostalCode":"06853","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"}]},{"firstName":"BONNIE","lastName":"GEPPERT","assignmentStartDate":"2018-10-01","assignmentEndDate":"9999-12-31","phone":[{"phoneType":"B","telephoneNumber":"203-975-5700"}],"address":[{"addressTypeCode":"SL","addressTypeDescription":"Service Location Address","addressLine1":"STAMFORD HARBOR PARK","addressLine2":"333 LUDLOW STREET","addressCity":"STAMFORD","addressPostalCode":"06902","addressStateCode":"CT","addressCountryCode":"US","addressCountryDescription":"United States of America"}]},{"roleType":"6","roleDescription":"Third Party Administrator","primaryIndicatorCode":"true","primaryIndicatorDescription":"Primary","firstName":"B","lastName":"SWIFT","startDate":"2018-10-01","endDate":"9999-12-31","assignmentStartDate":"2018-10-01","assignmentEndDate":"9999-12-31"}],"groupSupportTeamContact":[{"roleType":"EEA","roleDescription":"Electronic Eligibility Analyst","firstName":"LANDY","lastName":"VARTANIAN","startDate":"2018-09-06","endDate":"9999-12-31","phone":[{"phoneType":"W","phoneTypeDescription":"Work","telephoneNumber":"952-406-6431"}],"email":[{"communicationTypeCode":"EML","electronicAddress":"landy.vartanian@uhc.com"}]},{"roleType":"DCSM","roleDescription":"Dedicated Client Service Manager","firstName":"SUSAN","lastName":"FOLLANSBEE","middleName":"J","startDate":"2018-10-01","endDate":"9999-12-31","phone":[{"phoneType":"W","phoneTypeDescription":"Work","telephoneNumber":"603-224-8141"},{"phoneType":"W","phoneTypeDescription":"Work","telephoneNumber":"763-283-4137"}],"email":[{"communicationTypeCode":"EML","electronicAddress":"sfollans@uhc.com"}]}],"groupInsuringRules":[{"cobraAdministrativeIndicator":"0","continuationResponsibilityType":"Member Group","insuranceContinuationType":"COBRA","onshoreRestriction":"All Services Offshore","insuringRulesEffectiveDates":"2018-10-01","insuringRulesExpirationDates":"9999-12-31","pcpRadomization":"01","survivingSpouseIndicator":"false","newBornAutoAddIndicator":"true","countNewbornForCoverageLevelCodeIndicator":"false"}],"customerAccount":[{"planBillingGroupNumber":"1328 1323 1322 1329 1325 1326 1327 1324","originalContractDate":"1994-10-01","migrationIndicator":"true","customerAccountOption":[{"customerAccountOptionId":"110520","customerAccountOptionDescription":"GRAHAM CAPITAL MANAGEMENT LP","customerAccountOptionType":"12 Months","statusCode":"I","statusDescription":"Inactive","exchangeTypeDescription":"Non-Exchange","startDate":"2018-10-01","renewalDate":"2019-10-01","terminationDate":"2019-09-30","stateOfIssueCode":"CT","stateOfIssueDescription":"CONNECTICUT","openEnrollmentStartDate":"2018-09-01","openEnrollmentEndDate":"2018-09-30","enrollmentInsuringRulesPopulationIndicator":"false","defineOpenEnrollmentbyPopulationIndicator":"false","customerAccountGroupPopulation":[],"customerAccountInsuringRules":[{"dependentCutOff":"26","dependentCutOffType":"Last Day of Plan Year","studentMaximumAge":"26","studentmaximumAgeType":"Last Day of Plan Year","waiveRehiredIndefiniteIndicator":"false","waiveWaitingPeriodForNewHireIndicator":"false","waiveRehiredWithinCount":"60","waiveRehiredWithinType":"D","terminationLagType":"002","terminationLagDescription":"Last Day of Event Month","overrideRetroBenefitAddIndicator":"false","overrideRetroBenefitAddDays":"","overrideRetroBenefitChangeIndicator":"false","overrideRetroBenefitTerminationIndicator":"false","insuringRuleEffectiveDates":"2018-10-01","insuringRuleExpirationDates":"2019-09-30","nonStandardWaitingPeriodIndicator":"false","waitingPeriodRules":[{"waitingPeriodType":"Date of Event","qualifyingEvent":"Adoption"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Benefit Selection"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Birth"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"COBRA"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Late Enrollee"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Marriage"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Plan Change"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Re-enrollment"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Rehire"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Special Enrollment"},{"waitingPeriodType":"FOFM after Specified Duration","waitingDurationType":"Days","waitingDurationValue":"30","qualifyingEvent":"Initial Enrollment"}]}],"customerPurchase":[{"memberGroupContractPlanOptionID":"160523","fundingArrangementCode":"01","fundingArrangementDescription":"Fully Insured","coverageStartDate":"2018-10-01","coverageExpirationDate":"2019-09-30","benefitBundleOptionID":"1738484","timePeriodQualifier":"Calendar Year","benefitBasePlan":"MNS0000003","benefitPlanDescription":"CT FREEDOM  1350/100 DIRECT HSA","gatedProductIndicator":"0","lineOfBusiness":[{"name":"Key Account","description":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)"}],"hsaVendorId":"1048481","hsaVendorName":"Optum Bank","networkScheduleId":["FREEDOM_CHOICEPLUS"],"domesticPartnerIndicator":"false","benefitServiceArea":"OXFORD_TRI_STATE","reportingCodes":[{"underwritingReportingCode":"100U","underwritingReportingDescription":"Active"}],"billingSchedule":[{"ratingMethodology":"02","contractTypeCode":"3","contractTypeDescription":"PCH","amount":"1195.25","flatRateAmt":"0.00","billItemType":"COB_PREM"},{"ratingMethodology":"02","contractTypeCode":"2","contractTypeDescription":"C","amount":"1472.62","flatRateAmt":"0.00","billItemType":"COB_PREM"},{"ratingMethodology":"02","contractTypeCode":"4","contractTypeDescription":"F","amount":"2087.18","flatRateAmt":"0.00","billItemType":"COB_PREM"},{"ratingMethodology":"02","contractTypeCode":"1","contractTypeDescription":"S","amount":"720.46","flatRateAmt":"0.00","billItemType":"COB_PREM"}]},{"memberGroupContractPlanOptionID":"160524","fundingArrangementCode":"01","fundingArrangementDescription":"Fully Insured","coverageStartDate":"2018-10-01","coverageExpirationDate":"2019-09-30","benefitBundleOptionID":"1738489","timePeriodQualifier":"Calendar Year","benefitBasePlan":"MNS0000019","benefitPlanDescription":"CT FREEDOM 30/30/0/100 ACCESS","gatedProductIndicator":"0","lineOfBusiness":[{"name":"Key Account","description":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)"}],"hsaVendorId":"0","networkScheduleId":["FREEDOM_CHOICEPLUS"],"domesticPartnerIndicator":"false","benefitServiceArea":"OXFORD_TRI_STATE","reportingCodes":[{"underwritingReportingCode":"100U","underwritingReportingDescription":"Active"}],"billingSchedule":[{"ratingMethodology":"02","contractTypeCode":"3","contractTypeDescription":"PCH","amount":"1318.85","flatRateAmt":"0.00","billItemType":"COB_PREM"},{"ratingMethodology":"02","contractTypeCode":"2","contractTypeDescription":"C","amount":"1624.91","flatRateAmt":"0.00","billItemType":"COB_PREM"},{"ratingMethodology":"02","contractTypeCode":"4","contractTypeDescription":"F","amount":"2303.03","flatRateAmt":"0.00","billItemType":"COB_PREM"},{"ratingMethodology":"02","contractTypeCode":"1","contractTypeDescription":"S","amount":"794.97","flatRateAmt":"0.00","billItemType":"COB_PREM"}]}],"statusHistory":[{}]},{"customerAccountOptionId":"110520","customerAccountOptionDescription":"GRAHAM CAPITAL MANAGEMENT LP","customerAccountOptionType":"12 Months","statusCode":"A","statusDescription":"Active","exchangeTypeDescription":"Non-Exchange","startDate":"2018-10-01","renewalDate":"2019-10-01","terminationDate":"2019-09-30","stateOfIssueCode":"CT","stateOfIssueDescription":"CONNECTICUT","openEnrollmentStartDate":"2018-09-01","openEnrollmentEndDate":"2018-09-30","enrollmentInsuringRulesPopulationIndicator":"false","defineOpenEnrollmentbyPopulationIndicator":"false","customerAccountGroupPopulation":[],"customerAccountInsuringRules":[{"dependentCutOff":"26","dependentCutOffType":"Last Day of Plan Year","studentMaximumAge":"26","studentmaximumAgeType":"Last Day of Plan Year","waiveRehiredIndefiniteIndicator":"false","waiveWaitingPeriodForNewHireIndicator":"false","waiveRehiredWithinCount":"60","waiveRehiredWithinType":"D","terminationLagType":"002","terminationLagDescription":"Last Day of Event Month","overrideRetroBenefitAddIndicator":"false","overrideRetroBenefitAddDays":"","overrideRetroBenefitChangeIndicator":"false","overrideRetroBenefitTerminationIndicator":"false","insuringRuleEffectiveDates":"2018-10-01","insuringRuleExpirationDates":"2019-09-30","nonStandardWaitingPeriodIndicator":"false","waitingPeriodRules":[{"waitingPeriodType":"Date of Event","qualifyingEvent":"Adoption"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Benefit Selection"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Birth"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"COBRA"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Late Enrollee"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Marriage"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Plan Change"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Re-enrollment"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Rehire"},{"waitingPeriodType":"Date of Event","qualifyingEvent":"Special Enrollment"},{"waitingPeriodType":"FOFM after Specified Duration","waitingDurationType":"Days","waitingDurationValue":"30","qualifyingEvent":"Initial Enrollment"}]}],"customerPurchase":[{"memberGroupContractPlanOptionID":"160524","fundingArrangementCode":"01","fundingArrangementDescription":"Fully Insured","coverageStartDate":"2018-10-01","coverageExpirationDate":"2019-09-30","benefitBundleOptionID":"1738489","timePeriodQualifier":"Calendar Year","benefitBasePlan":"MNS0000019","benefitPlanDescription":"CT FREEDOM 30/30/0/100 ACCESS","gatedProductIndicator":"0","lineOfBusiness":[{"name":"Key Account","description":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)"}],"hsaVendorId":"0","networkScheduleId":["FREEDOM_CHOICEPLUS"],"domesticPartnerIndicator":"false","benefitServiceArea":"OXFORD_TRI_STATE","reportingCodes":[{"underwritingReportingCode":"100U","underwritingReportingDescription":"Active"}],"billingSchedule":[{"ratingMethodology":"02","contractTypeCode":"3","contractTypeDescription":"PCH","amount":"1318.85","flatRateAmt":"0.00","billItemType":"PREMIUM"},{"ratingMethodology":"02","contractTypeCode":"2","contractTypeDescription":"C","amount":"1624.91","flatRateAmt":"0.00","billItemType":"PREMIUM"},{"ratingMethodology":"02","contractTypeCode":"4","contractTypeDescription":"F","amount":"2303.03","flatRateAmt":"0.00","billItemType":"PREMIUM"},{"ratingMethodology":"02","contractTypeCode":"1","contractTypeDescription":"S","amount":"794.97","flatRateAmt":"0.00","billItemType":"PREMIUM"}]},{"memberGroupContractPlanOptionID":"160523","fundingArrangementCode":"01","fundingArrangementDescription":"Fully Insured","coverageStartDate":"2018-10-01","coverageExpirationDate":"2019-09-30","benefitBundleOptionID":"1738484","timePeriodQualifier":"Calendar Year","benefitBasePlan":"MNS0000003","benefitPlanDescription":"CT FREEDOM  1350/100 DIRECT HSA","gatedProductIndicator":"0","lineOfBusiness":[{"name":"Key Account","description":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)"}],"hsaVendorId":"1048481","hsaVendorName":"Optum Bank","networkScheduleId":["FREEDOM_CHOICEPLUS"],"domesticPartnerIndicator":"false","benefitServiceArea":"OXFORD_TRI_STATE","reportingCodes":[{"underwritingReportingCode":"100U","underwritingReportingDescription":"Active"}],"billingSchedule":[{"ratingMethodology":"02","contractTypeCode":"3","contractTypeDescription":"PCH","amount":"1195.25","flatRateAmt":"0.00","billItemType":"PREMIUM"},{"ratingMethodology":"02","contractTypeCode":"2","contractTypeDescription":"C","amount":"1472.62","flatRateAmt":"0.00","billItemType":"PREMIUM"},{"ratingMethodology":"02","contractTypeCode":"4","contractTypeDescription":"F","amount":"2087.18","flatRateAmt":"0.00","billItemType":"PREMIUM"},{"ratingMethodology":"02","contractTypeCode":"1","contractTypeDescription":"S","amount":"720.46","flatRateAmt":"0.00","billItemType":"PREMIUM"}]}],"statusHistory":[{}]}]}]}}}}');
            OILResponse.TokenExpired = false;        
            MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
            Test.setMock(HttpCalloutMock.class, MockHttpRes);
                      }
            System.runAs(memberAgent){
                
                //Setting relationship codes        
            list<ACETRelationshipCodes__c> rCodes = new list<ACETRelationshipCodes__c> ();
            rCodes.add(new ACETRelationshipCodes__c (Name = '18',Description__c = 'Self'));
            rCodes.add(new ACETRelationshipCodes__c (Name = '01',Description__c = 'Spouse'));
            rCodes.add(new ACETRelationshipCodes__c (Name = '19',Description__c = 'Child'));
            insert rCodes;      
                Test.startTest();
                ACETLGT_CoveragesController groupmem= new ACETLGT_CoveragesController (); 
           
                ACETLGT_CoveragesController.getGroupDetailsResults('1168520','10/1/2018','09/30/2019','MNS0000003','1738484', 'Member', true,'160523');
                Test.stopTest();
                
            }
            
        }
                                                                                                                                     
                                                                                                                                     
        @IsTest
        Public static void LightningCoveragesGroupMultiPopMethod()
        {
            User thisUser = [Select Id From User Where Id =:UserInfo.getUserId()];
        User memberAgent;
         System.runAs(thisUser){
             memberAgent = TestDataFactory.getUser('ACET Member'); 
             Map<String, String> mapISLWSConfigs = new Map<String, String>(); 
                mapISLWSConfigs.put('ISLConAccessToken', 'e9b3f2b1-8863-49ec-9ff8-40da25961ef5');
                mapISLWSConfigs.put('OILHttpHeaderAccept', 'application/json;charset=UTF-8');
                mapISLWSConfigs.put('OILHttpHeaderActor', 'ACET');
                mapISLWSConfigs.put('OILHttpHeaderScope', 'read');
                mapISLWSConfigs.put('ISLOAuthContentType', 'application/x-www-form-urlencoded');
                mapISLWSConfigs.put('ISLOAuthGrantType', 'client_credentials');
                mapISLWSConfigs.put('dev_ISLOAuthClientId', 'ISLStageConClientId');
                mapISLWSConfigs.put('dev_ISLOAuthClientSecret', 'ISLStageConClientSecret');
                mapISLWSConfigs.put('dev_ISLOAuthEndpoint', 'https://api-stg.optum.com:8443');
                 mapISLWSConfigs.put('dev_GetFamilyMembersEndpoint', '/api/alpha/eisl/individuals/familymembership/v2.0/read');           
                 mapISLWSConfigs.put('dev_GetEmployerGroupEndpoint', '/api/alpha/eisl/organizations/employergroups/v4.0/read');           
                mapISLWSConfigs.put('OILTimeout', '3000'); 
               
            List<ISL_Webservice_Config__c> lstISLWSConfigs = ACETTestDataUtility.CreateISLWebserviceConfigurations(mapISLWSConfigs);
            insert lstISLWSConfigs;
            //
            StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'TestLGT_GetEmpResponse_MultiPop'];
            String GetEmpGrpRes = GetDummyResp.Body.toString();
            System.debug('%%%%%%% test' + GetEmpGrpRes);
            MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', GetEmpGrpRes);
            OILResponse.TokenExpired = false;        
            MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
            Test.setMock(HttpCalloutMock.class, MockHttpRes);
         }
            
            System.runAs(memberAgent){
                
                //Setting relationship codes        
            list<ACETRelationshipCodes__c> rCodes = new list<ACETRelationshipCodes__c> ();
            rCodes.add(new ACETRelationshipCodes__c (Name = '18',Description__c = 'Self'));
            rCodes.add(new ACETRelationshipCodes__c (Name = '01',Description__c = 'Spouse'));
            rCodes.add(new ACETRelationshipCodes__c (Name = '19',Description__c = 'Child'));
            insert rCodes;
            list<ACETOnshoreIndicatorVerbiage__c> onsres = new list<ACETOnshoreIndicatorVerbiage__c> ();
            onsres.add(new ACETOnshoreIndicatorVerbiage__c (Name = 'All Services Offshore',Code__c=1,Code_Description__c = '01', Hover_Help_Description__c ='No restriction; services allowed onshore and offshore.'));
            onsres.add(new ACETOnshoreIndicatorVerbiage__c (Name = 'Customer Touchpoints',Code__c=5,Code_Description__c = '05', Hover_Help_Description__c ='All customer interactions onshore; all other services offshore.'));
            onsres.add(new ACETOnshoreIndicatorVerbiage__c (Name = 'All Services Onshore except IT',Code__c=7,Code_Description__c = '07', Hover_Help_Description__c ='Only IT services allowed offshore; all other services onshore.'));
            onsres.add(new ACETOnshoreIndicatorVerbiage__c (Name = 'All Services Onshore',Code__c=8,Code_Description__c = '08', Hover_Help_Description__c ='No services allowed offshore.'));
            insert onsres;
             
                Test.startTest();
                ACETLGT_CoveragesController groupmem= new ACETLGT_CoveragesController (); 
           
                ACETLGT_CoveragesController.getGroupDetailsResults('1188482','10/19/2019','09/30/2020','M000000745','1018480', 'Member', true,'PO100005');
                ACETLGT_CoveragesController.getGroupDetailsResults('1188482','10/19/2018','09/30/2019','M000000782','1528477', 'Member', true,'240507');
                ACETLGT_CoveragesController.getGroupDetailsResults('1188482','10/19/2020','09/30/2021','M000000750','1018486', 'Member', true,'PO1000010');
                
                Test.stopTest();
                
            }
            
        }
        
        @IsTest
        Public static void LightningCoveragesGroupSinglePopMethod()
        {
            User thisUser = [Select Id From User Where Id =:UserInfo.getUserId()];
        User memberAgent;
         System.runAs(thisUser){
             memberAgent = TestDataFactory.getUser('ACET Member'); 
             Map<String, String> mapISLWSConfigs = new Map<String, String>(); 
                mapISLWSConfigs.put('ISLConAccessToken', 'e9b3f2b1-8863-49ec-9ff8-40da25961ef5');
                mapISLWSConfigs.put('OILHttpHeaderAccept', 'application/json;charset=UTF-8');
                mapISLWSConfigs.put('OILHttpHeaderActor', 'ACET');
                mapISLWSConfigs.put('OILHttpHeaderScope', 'read');
                mapISLWSConfigs.put('ISLOAuthContentType', 'application/x-www-form-urlencoded');
                mapISLWSConfigs.put('ISLOAuthGrantType', 'client_credentials');
                mapISLWSConfigs.put('dev_ISLOAuthClientId', 'ISLStageConClientId');
                mapISLWSConfigs.put('dev_ISLOAuthClientSecret', 'ISLStageConClientSecret');
                mapISLWSConfigs.put('dev_ISLOAuthEndpoint', 'https://api-stg.optum.com:8443');
                 mapISLWSConfigs.put('dev_GetFamilyMembersEndpoint', '/api/alpha/eisl/individuals/familymembership/v2.0/read');           
                 mapISLWSConfigs.put('dev_GetEmployerGroupEndpoint', '/api/alpha/eisl/organizations/employergroups/v4.0/read');           
                mapISLWSConfigs.put('OILTimeout', '3000'); 
               
            List<ISL_Webservice_Config__c> lstISLWSConfigs = ACETTestDataUtility.CreateISLWebserviceConfigurations(mapISLWSConfigs);
            insert lstISLWSConfigs;
            //
            StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'TestLGT_GetEmpResponse_SinglePop'];
            String GetEmpGrpRes = GetDummyResp.Body.toString();
            System.debug('%%%%%%% test' + GetEmpGrpRes);
            MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', GetEmpGrpRes);
            OILResponse.TokenExpired = false;        
            MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
            Test.setMock(HttpCalloutMock.class, MockHttpRes);
         }
            
            System.runAs(memberAgent){
                
                //Setting relationship codes        
            list<ACETRelationshipCodes__c> rCodes = new list<ACETRelationshipCodes__c> ();
            rCodes.add(new ACETRelationshipCodes__c (Name = '18',Description__c = 'Self'));
            rCodes.add(new ACETRelationshipCodes__c (Name = '01',Description__c = 'Spouse'));
            rCodes.add(new ACETRelationshipCodes__c (Name = '19',Description__c = 'Child'));
            insert rCodes;
            list<ACETOnshoreIndicatorVerbiage__c> onsres = new list<ACETOnshoreIndicatorVerbiage__c> ();
            onsres.add(new ACETOnshoreIndicatorVerbiage__c (Name = 'All Services Offshore',Code__c=1,Code_Description__c = '01', Hover_Help_Description__c ='No restriction; services allowed onshore and offshore.'));
            onsres.add(new ACETOnshoreIndicatorVerbiage__c (Name = 'Customer Touchpoints',Code__c=5,Code_Description__c = '05', Hover_Help_Description__c ='All customer interactions onshore; all other services offshore.'));
            onsres.add(new ACETOnshoreIndicatorVerbiage__c (Name = 'All Services Onshore except IT',Code__c=7,Code_Description__c = '07', Hover_Help_Description__c ='Only IT services allowed offshore; all other services onshore.'));
            onsres.add(new ACETOnshoreIndicatorVerbiage__c (Name = 'All Services Onshore',Code__c=8,Code_Description__c = '08', Hover_Help_Description__c ='No services allowed offshore.'));
            insert onsres;
             
                Test.startTest();
                ACETLGT_CoveragesController groupmem= new ACETLGT_CoveragesController (); 
           
                ACETLGT_CoveragesController.getGroupDetailsResults('1279842','7/1/2019','6/30/2020','MNS0000006','1518484', 'Member', true,'PO100008');
                ACETLGT_CoveragesController.getGroupDetailsResults('1279842','7/1/2020','6/30/2021','MNS0000007','1518485', 'Member', true,'PO100009');
                ACETLGT_CoveragesController.getGroupDetailsResults('1279842','7/1/2018','6/30/2019','MNS0000005','1518483', 'Member', true,'PO100007');
                ACETLGT_CoveragesController.getGroupDetailsResults('','','','','', '', true,'');
                
                Test.stopTest();
                
            }
            
        }
    
    }