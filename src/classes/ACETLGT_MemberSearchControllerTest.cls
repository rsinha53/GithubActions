@IsTest
public class ACETLGT_MemberSearchControllerTest {
    @IsTest
    Public static void membernotfoundcontrollertestmethod()
    {
        test.starttest();
        ACETLGT_MemberNotFoundController.createInteraction('InteractionType','OriginatorType','EmployerName','LastName','FirstName','PhoneNumber',system.today(),'State','Zip','GroupNum','NotFoundFLowName');
        ACETLGT_MemberNotFoundController.getUser();
        test.stopTest();
    }
	@IsTest
    Public static void LightningMemberSearchMethod1()
    {
        //String result=LightningForgotPasswordController.forgotPassword('test@test.test', 'http://www.checkemailfake');
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp = '{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"492291870","name":{"firstName":"Maira","lastName":"Mayer","middleName":"","nameSuffix":""},"birthDate":"1951-09-18","genderCode":"F","address":{"typeCode":"P","addressLine1":"123 Maira Road","addressLine2":"","city":"Saddle Brook","postalCode":"07663","stateCode":"NJ","countryCode":"US","countryDescription":"United States of America"},"socialSecurityNumber":"815321814","telephone":[{"phoneType":"1","phoneNumber":"732 580 6260"},{"phoneType":"2","phoneNumber":"732 580 6260"},{"phoneType":"3","phoneNumber":"732 580 6260"}],"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000203194","type":"subscriberSystemID"},{"id":"492291870","type":"subscriberIndividualIdentifier"},{"id":"654678050","type":"subscriberSurrogateKey"}],"groupNumber":"1275798","groupName":"ACETGTDRSC11 20190626092026","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/50/2500/100 PPO HSA 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"237923-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203194","type":"subscriberSystemID"},{"id":"492291870","type":"subscriberIndividualIdentifier"},{"id":"654678050","type":"subscriberSurrogateKey"}],"groupNumber":"1275798","groupName":"ACETGTDRSC11 20190626092026","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237923-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203194","type":"subscriberSystemID"},{"id":"492291870","type":"subscriberIndividualIdentifier"},{"id":"654678050","type":"subscriberSurrogateKey"}],"groupNumber":"1275798","groupName":"ACETGTDRSC11 20190626092026","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237923-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203194","type":"subscriberSystemID"},{"id":"492291870","type":"subscriberIndividualIdentifier"},{"id":"654678050","type":"subscriberSurrogateKey"}],"groupNumber":"1275798","groupName":"ACETGTDRSC11 20190626092026","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237923-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"815321814","type":"EAI"},{"id":"65802718100","type":"MCH"},{"id":"65802718100","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000203194","type":"enrolleeSystemID"},{"id":"492291870","type":"enrolleeIndividualIdentifier"},{"id":"654678050","type":"enrolleeSurrogateKey"}]}]}]}}';
            MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('65802718100','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
    
    @IsTest
    Public static void LightningMemberSearchMethod2()
    {
        //String result=LightningForgotPasswordController.forgotPassword('test@test.test', 'http://www.checkemailfake');
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp = '{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"492270502","name":{"firstName":"Kristi","lastName":"Russell","middleName":"","nameSuffix":""},"birthDate":"1937-09-25","genderCode":"F","address":{"typeCode":"P","addressLine1":"123 Kristi Road","addressLine2":"","city":"New York","postalCode":"10024","stateCode":"NY","countryCode":"US","countryDescription":"United States of America"},"socialSecurityNumber":"369472780","telephone":[{"phoneType":"1","phoneNumber":"732 554 7194"},{"phoneType":"2","phoneNumber":"732 554 7194"}],"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000203127","type":"subscriberSystemID"},{"id":"492270502","type":"subscriberIndividualIdentifier"},{"id":"654656728","type":"subscriberSurrogateKey"}],"groupNumber":"1275786","groupName":"ACETGTDRSC03 20190626063827","membershipEffectiveDate":"2019-09-01","membershipExpirationDate":"2019-10-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/50/2500/100 PPO HSA 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"237911-PO100001-20190901","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-09-01","contractOptionEndDate":"2020-08-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203127","type":"subscriberSystemID"},{"id":"492270502","type":"subscriberIndividualIdentifier"},{"id":"654656728","type":"subscriberSurrogateKey"}],"groupNumber":"1275786","groupName":"ACETGTDRSC03 20190626063827","membershipEffectiveDate":"2019-09-01","membershipExpirationDate":"2019-10-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237911-PO100001-20190901","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-09-01","contractOptionEndDate":"2020-08-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203127","type":"subscriberSystemID"},{"id":"492270502","type":"subscriberIndividualIdentifier"},{"id":"654656728","type":"subscriberSurrogateKey"}],"groupNumber":"1275786","groupName":"ACETGTDRSC03 20190626063827","membershipEffectiveDate":"2019-09-01","membershipExpirationDate":"2019-10-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237911-PO100001-20190901","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-09-01","contractOptionEndDate":"2020-08-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203127","type":"subscriberSystemID"},{"id":"492270502","type":"subscriberIndividualIdentifier"},{"id":"654656728","type":"subscriberSurrogateKey"}],"groupNumber":"1275786","groupName":"ACETGTDRSC03 20190626063827","membershipEffectiveDate":"2019-09-01","membershipExpirationDate":"2019-10-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237911-PO100001-20190901","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-09-01","contractOptionEndDate":"2020-08-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203127","type":"subscriberSystemID"},{"id":"492270502","type":"subscriberIndividualIdentifier"},{"id":"654656728","type":"subscriberSurrogateKey"}],"groupNumber":"1275786","groupName":"ACETGTDRSC03 20190626063827","membershipEffectiveDate":"2019-11-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000012","productName":"OHI Oxford Direct","productType":""},"benefit":{"benefitPlanId":"M000000737","benefitPlanName":"CT G FRDM NG 30/50/1750/100 PPO 19","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"237911-PO100002-20190901","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-09-01","contractOptionEndDate":"2020-08-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203127","type":"subscriberSystemID"},{"id":"492270502","type":"subscriberIndividualIdentifier"},{"id":"654656728","type":"subscriberSurrogateKey"}],"groupNumber":"1275786","groupName":"ACETGTDRSC03 20190626063827","membershipEffectiveDate":"2019-11-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000019","benefitPlanName":"DENTAL CTSM FREEDOM DIRECT 12","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237911-PO100002-20190901","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-09-01","contractOptionEndDate":"2020-08-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203127","type":"subscriberSystemID"},{"id":"492270502","type":"subscriberIndividualIdentifier"},{"id":"654656728","type":"subscriberSurrogateKey"}],"groupNumber":"1275786","groupName":"ACETGTDRSC03 20190626063827","membershipEffectiveDate":"2019-11-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000019","benefitPlanName":"VISION CTSM FREEDOM DIRECT 12","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237911-PO100002-20190901","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-09-01","contractOptionEndDate":"2020-08-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000203127","type":"subscriberSystemID"},{"id":"492270502","type":"subscriberIndividualIdentifier"},{"id":"654656728","type":"subscriberSurrogateKey"}],"groupNumber":"1275786","groupName":"ACETGTDRSC03 20190626063827","membershipEffectiveDate":"2019-11-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000002","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237911-PO100002-20190901","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-09-01","contractOptionEndDate":"2020-08-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"369472780","type":"EAI"},{"id":"78046910600","type":"MCH"},{"id":"78046910600","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000203127","type":"enrolleeSystemID"},{"id":"492270502","type":"enrolleeIndividualIdentifier"},{"id":"654656728","type":"enrolleeSurrogateKey"}]}]}]}}]}]}]}}';
        MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Contact con = TestDataFactory.createContact();
        
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('78046910600','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
    @IsTest
    Public static void LightningMemberSearchMethod3()
    {
        //String result=LightningForgotPasswordController.forgotPassword('test@test.test', 'http://www.checkemailfake');
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp='{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"492471475","name":{"firstName":"Columbus","lastName":"Dunn","middleName":"","nameSuffix":""},"birthDate":"1997-10-19","genderCode":"F","address":{"typeCode":"P","addressLine1":"123 Columbus Road","addressLine2":"","city":"Hartford","postalCode":"06103","stateCode":"CT","countryCode":"US","countryDescription":"United States of America"},"socialSecurityNumber":"486992469","telephone":[{"phoneType":"1","phoneNumber":"732 286 1641"},{"phoneType":"2","phoneNumber":"732 286 1641"}],"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279577","groupName":"ACETGTDRSC31 20190701093426","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/50/2500/100 PPO HSA 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"241677-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279577","groupName":"ACETGTDRSC31 20190701093426","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241677-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279577","groupName":"ACETGTDRSC31 20190701093426","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241677-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279577","groupName":"ACETGTDRSC31 20190701093426","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241677-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"486992469","type":"EAI"},{"id":"40777432100","type":"MCH"},{"id":"40777432100","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000365639","type":"enrolleeSystemID"},{"id":"492471475","type":"enrolleeIndividualIdentifier"},{"id":"654729775","type":"enrolleeSurrogateKey"}]},{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279599","groupName":"ACETGTDRSC34 20190701113842","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-09-30","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/50/2500/100 PPO HSA 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"241699-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Inactive","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"},{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279599","groupName":"ACETGTDRSC34 20190701113842","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-09-30","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241699-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Inactive","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"},{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279599","groupName":"ACETGTDRSC34 20190701113842","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-09-30","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241699-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Inactive","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"},{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279599","groupName":"ACETGTDRSC34 20190701113842","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-09-30","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241699-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Inactive","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"},{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279599","groupName":"ACETGTDRSC34 20190701113842","membershipEffectiveDate":"2019-10-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000012","productName":"OHI Oxford Direct","productType":""},"benefit":{"benefitPlanId":"M000000737","benefitPlanName":"CT G FRDM NG 30/50/1750/100 PPO 19","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"241699-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Inactive","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"},{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279599","groupName":"ACETGTDRSC34 20190701113842","membershipEffectiveDate":"2019-10-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000019","benefitPlanName":"DENTAL CTSM FREEDOM DIRECT 12","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241699-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Inactive","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"},{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279599","groupName":"ACETGTDRSC34 20190701113842","membershipEffectiveDate":"2019-10-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000019","benefitPlanName":"VISION CTSM FREEDOM DIRECT 12","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241699-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Inactive","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"},{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000365639","type":"subscriberSystemID"},{"id":"492471475","type":"subscriberIndividualIdentifier"},{"id":"654729775","type":"subscriberSurrogateKey"}],"groupNumber":"1279599","groupName":"ACETGTDRSC34 20190701113842","membershipEffectiveDate":"2019-10-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000002","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"241699-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Inactive","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"},{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"486992469","type":"EAI"},{"id":"66089628400","type":"MCH"},{"id":"66089628400","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000365639","type":"enrolleeSystemID"},{"id":"492471475","type":"enrolleeIndividualIdentifier"},{"id":"654729775","type":"enrolleeSurrogateKey"}]}]}]}}';
            MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('486992469','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
    
    @IsTest
    Public static void LightningMemberSearchMethod4()
    {
        //String result=LightningForgotPasswordController.forgotPassword('test@test.test', 'http://www.checkemailfake');
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp='{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"497724670","name":{"firstName":"Jolene","lastName":"Carrillo","middleName":"","nameSuffix":""},"birthDate":"1989-11-27","genderCode":"F","address":{"typeCode":"P","addressLine1":"123 Jolene Road","addressLine2":"","city":"Hartford","postalCode":"06103","stateCode":"CT","countryCode":"US","countryDescription":"United States of America"},"socialSecurityNumber":"256185083","telephone":[{"phoneType":"1","phoneNumber":"732 674 2793"},{"phoneType":"2","phoneNumber":"732 674 2793"}],"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2018-03-01","membershipExpirationDate":"2018-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000022","productName":"CT OHP Oxford HMO - Non-Gated","productType":""},"benefit":{"benefitPlanId":"M000000744","benefitPlanName":"CT S FRDM NG 30/50/3000/100 HMO HSA 18","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"250304-PO100001-20180101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2018-01-01","contractOptionEndDate":"2018-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2018-03-01","membershipExpirationDate":"2018-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000011","benefitPlanName":"DENTAL CTSM SMART HSA 02","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100001-20180101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2018-01-01","contractOptionEndDate":"2018-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2018-03-01","membershipExpirationDate":"2018-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000011","benefitPlanName":"VISION CTSM SMART HSA 02","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100001-20180101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2018-01-01","contractOptionEndDate":"2018-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2018-03-01","membershipExpirationDate":"2018-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100001-20180101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2018-01-01","contractOptionEndDate":"2018-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000006","productName":"CT NJ NY OHI Oxford Direct HSA","productType":""},"benefit":{"benefitPlanId":"M000000729","benefitPlanName":"CT G FRDM NG 1500/100 PPO HSA 19","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"250304-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]},{"customerPurchaseId":"250304-PO100002-20200101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000027","benefitPlanName":"DENTAL CTSM HSA DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]},{"customerPurchaseId":"250304-PO100002-20200101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000027","benefitPlanName":"VISION CTSM HSA DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]},{"customerPurchaseId":"250304-PO100002-20200101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]},{"customerPurchaseId":"250304-PO100002-20200101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"256185083","type":"EAI"},{"id":"9982358800","type":"MCH"},{"id":"99882358800","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100003929228","type":"enrolleeSystemID"},{"id":"497724670","type":"enrolleeIndividualIdentifier"},{"id":"659976484","type":"enrolleeSurrogateKey"}]}]}]}}';
            MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('12345677890','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
    @IsTest
    Public static void LightningMemberSearchMethod5()
    {
        //String result=LightningForgotPasswordController.forgotPassword('test@test.test', 'http://www.checkemailfake');
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp='{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"497724670","name":{"firstName":"Jolene","lastName":"Carrillo","middleName":"","nameSuffix":""},"birthDate":"1989-11-27","genderCode":"F","address":{"typeCode":"P","addressLine1":"123 Jolene Road","addressLine2":"","city":"Hartford","postalCode":"06103","stateCode":"CT","countryCode":"US","countryDescription":"United States of America"},"socialSecurityNumber":"256185083","telephone":[{"phoneType":"1","phoneNumber":"732 674 2793"},{"phoneType":"2","phoneNumber":"732 674 2793"}],"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2018-03-01","membershipExpirationDate":"2018-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000022","productName":"CT OHP Oxford HMO - Non-Gated","productType":""},"benefit":{"benefitPlanId":"M000000744","benefitPlanName":"CT S FRDM NG 30/50/3000/100 HMO HSA 18","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"250304-PO100001-20180101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2018-01-01","contractOptionEndDate":"2018-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2018-03-01","membershipExpirationDate":"2018-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000011","benefitPlanName":"DENTAL CTSM SMART HSA 02","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100001-20180101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2018-01-01","contractOptionEndDate":"2018-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2018-03-01","membershipExpirationDate":"2018-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000011","benefitPlanName":"VISION CTSM SMART HSA 02","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100001-20180101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2018-01-01","contractOptionEndDate":"2018-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2018-03-01","membershipExpirationDate":"2018-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100001-20180101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2018-01-01","contractOptionEndDate":"2018-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000006","productName":"CT NJ NY OHI Oxford Direct HSA","productType":""},"benefit":{"benefitPlanId":"M000000729","benefitPlanName":"CT G FRDM NG 1500/100 PPO HSA 19","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"250304-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]},{"customerPurchaseId":"250304-PO100002-20200101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000027","benefitPlanName":"DENTAL CTSM HSA DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]},{"customerPurchaseId":"250304-PO100002-20200101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000027","benefitPlanName":"VISION CTSM HSA DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]},{"customerPurchaseId":"250304-PO100002-20200101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100003929228","type":"subscriberSystemID"},{"id":"497724670","type":"subscriberIndividualIdentifier"},{"id":"659976484","type":"subscriberSurrogateKey"}],"groupNumber":"1288354","groupName":"ACET_TDR_MG2","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"250304-PO100002-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]},{"customerPurchaseId":"250304-PO100002-20200101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"256185083","type":"EAI"},{"id":"9982358800","type":"MCH"},{"id":"99882358800","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100003929228","type":"enrolleeSystemID"},{"id":"497724670","type":"enrolleeIndividualIdentifier"},{"id":"659976484","type":"enrolleeSurrogateKey"}]}]}]}}';
            MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('12345677890','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
    @IsTest
    Public static void LightningMemberSearchMethod6()
    {
        //String result=LightningForgotPasswordController.forgotPassword('test@test.test', 'http://www.checkemailfake');
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp='{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"492267513","name":{"firstName":"Hildred Cone","lastName":"Fisher","middleName":"","nameSuffix":""},"birthDate":"2005-10-03","genderCode":"M","address":{"typeCode":"P","addressLine1":"123 Mandi Road","addressLine2":"","city":"Sea Girt","postalCode":"08750","stateCode":"NJ","countryCode":"US","countryDescription":"United States of America"},"socialSecurityNumber":"365474565","telephone":[{"phoneType":"1","phoneNumber":"732 277 6639"},{"phoneType":"2","phoneNumber":"732 277 6639"}],"memberships":[{"sourceSysCode":"CR","coverages":[],"identifiers":[{"id":"76323571600","type":"MCH"},{"id":"76323571600","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000213407","type":"enrolleeSystemID"},{"id":"492267513","type":"enrolleeIndividualIdentifier"},{"id":"654653763","type":"enrolleeSurrogateKey"}]},{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"ECH","product":{"productIdentifier":"PM00000008","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000189","benefitPlanName":"NJ P FRDM NG 15/45/100 PPO 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"01193315602","type":"MCH"},{"id":"01193315600","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000213407","type":"enrolleeSystemID"},{"id":"492267513","type":"enrolleeIndividualIdentifier"},{"id":"654653763","type":"enrolleeSurrogateKey"}]}]}]}}';
            MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('12345677890','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
    @IsTest
    Public static void LightningMemberSearchMethod7()
    {
        //String result=LightningForgotPasswordController.forgotPassword('test@test.test', 'http://www.checkemailfake');
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp = '{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"492267513","name":{"firstName":"Hildred Cone","lastName":"Fisher","middleName":"","nameSuffix":""},"birthDate":"2005-10-03","genderCode":"M","address":{"typeCode":"P","addressLine1":"123 Mandi Road","addressLine2":"","city":"Sea Girt","postalCode":"08750","stateCode":"NJ","countryCode":"US","countryDescription":"United States of America"},"socialSecurityNumber":"365474565","telephone":[{"phoneType":"1","phoneNumber":"732 277 6639"},{"phoneType":"2","phoneNumber":"732 277 6639"}],"memberships":[{"sourceSysCode":"CR","coverages":[],"identifiers":[{"id":"76323571600","type":"MCH"},{"id":"76323571600","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000213407","type":"enrolleeSystemID"},{"id":"492267513","type":"enrolleeIndividualIdentifier"},{"id":"654653763","type":"enrolleeSurrogateKey"}]},{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"ECH","product":{"productIdentifier":"PM00000008","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000189","benefitPlanName":"NJ P FRDM NG 15/45/100 PPO 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-08-30","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"ECH","product":{"productIdentifier":"PM00000008","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000189","benefitPlanName":"NJ P FRDM NG 15/45/100 PPO 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000051","benefitPlanName":"Dental Flex 03 F","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000051","benefitPlanName":"Vision Flex 03 F","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000170","benefitPlanName":"$0D $5/$25/$50","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"01193315602","type":"MCH"},{"id":"01193315600","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000213407","type":"enrolleeSystemID"},{"id":"492267513","type":"enrolleeIndividualIdentifier"},{"id":"654653763","type":"enrolleeSurrogateKey"}]}]}]}}';
            MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('12345677890','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
    
    @IsTest
    Public static void LightningMemberSearchMethod8()
    {
        //String result=LightningForgotPasswordController.forgotPassword('test@test.test', 'http://www.checkemailfake');
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp = '{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"492267513","name":{"firstName":"Hildred Cone","lastName":"Fisher","middleName":"","nameSuffix":""},"birthDate":"2005-10-03","genderCode":"M","address":{"typeCode":"P","addressLine1":"123 Mandi Road","addressLine2":"","city":"Sea Girt","postalCode":"08750","stateCode":"NJ","countryCode":"US","countryDescription":"United States of America"},"socialSecurityNumber":"365474565","telephone":[{"phoneType":"1","phoneNumber":"732 277 6639"},{"phoneType":"2","phoneNumber":"732 277 6639"}],"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000213407","type":"subscriberSystemID"},{"id":"492267513","type":"subscriberIndividualIdentifier"},{"id":"654653763","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-05-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000008","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000189","benefitPlanName":"NJ P FRDM NG 15/45/100 PPO 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213407","type":"subscriberSystemID"},{"id":"492267513","type":"subscriberIndividualIdentifier"},{"id":"654653763","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-05-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000051","benefitPlanName":"Dental Flex 03 F","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213407","type":"subscriberSystemID"},{"id":"492267513","type":"subscriberIndividualIdentifier"},{"id":"654653763","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-05-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000051","benefitPlanName":"Vision Flex 03 F","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213407","type":"subscriberSystemID"},{"id":"492267513","type":"subscriberIndividualIdentifier"},{"id":"654653763","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-05-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000170","benefitPlanName":"$0D $5/$25/$50","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"76323571600","type":"MCH"},{"id":"76323571600","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000213407","type":"enrolleeSystemID"},{"id":"492267513","type":"enrolleeIndividualIdentifier"},{"id":"654653763","type":"enrolleeSurrogateKey"}]},{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"ECH","product":{"productIdentifier":"PM00000008","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000189","benefitPlanName":"NJ P FRDM NG 15/45/100 PPO 19","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000051","benefitPlanName":"Dental Flex 03 F","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000051","benefitPlanName":"Vision Flex 03 F","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000213403","type":"subscriberSystemID"},{"id":"492285825","type":"subscriberIndividualIdentifier"},{"id":"654672010","type":"subscriberSurrogateKey"}],"groupNumber":"1275718","groupName":"BRMS_UAT_108240504 20190626100833","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-04-30","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000170","benefitPlanName":"$0D $5/$25/$50","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"237843-PO100001-20190101","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2019-01-01","contractOptionEndDate":"2019-12-31"}]}]},"relationshipCode":"19","relationshipDescription":"Child","privacyIndicator":"N","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"01193315602","type":"MCH"},{"id":"01193315600","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000213407","type":"enrolleeSystemID"},{"id":"492267513","type":"enrolleeIndividualIdentifier"},{"id":"654653763","type":"enrolleeSurrogateKey"}]}]}]}}';
        MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Contact con = TestDataFactory.createContact();
        
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('12345677890','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
    
    @IsTest
    Public static void LightningMemberSearchMethodSpecialtyBenefits()
    {
        User memberAgent = TestDataFactory.getUser('ACET Member'); 
        String resp = '{"findIndividualMembershipsResponse":{"individuals":[{"individualIdentifier":"567685704","name":{"firstName":"Elvira-Subs","lastName":"Forbes","middleName":"","nameSuffix":""},"birthDate":"1987-10-09","genderCode":"M","address":{"typeCode":"P","addressLine1":"193 Dennis Road","addressLine2":"Suite 613","city":"Hartford","postalCode":"06103","stateCode":"CT","countryCode":"US","countryDescription":""},"socialSecurityNumber":"669275749","telephone":[{}],"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000001","productName":"Standalone Dental - IND"},"benefit":{"benefitPlanId":"I0690","benefitPlanName":"Dental Voluntary I0690","planOptionID":"DN100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196597-DN100002","customerPurchaseVersions":[{"customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"DN","contractOptionTypeDescription":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO"},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/60/2500/100 PPO HSA 20","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersions":[{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"MD","contractOptionTypeDescription":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000326","benefitPlanName":"SG $10/$60/50% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersions":[{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"MD","contractOptionTypeDescription":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersions":[{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"MD","contractOptionTypeDescription":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersions":[{"customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"MD","contractOptionTypeDescription":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1002","benefitPlanName":"Vision 100% ER Paid V1002","planOptionID":"VS100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196598-VS100002","customerPurchaseVersions":[{"customerPurchaseVersionId":"4","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}]}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"VS","contractOptionTypeDescription":"Vision"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000004","productName":"Standalone Dental - PPO"},"benefit":{"benefitPlanId":"1P364","benefitPlanName":"Dental Contributory 1P364","planOptionID":"DN100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196599-DN100001","customerPurchaseVersions":[{"customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}]}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"DN","contractOptionTypeDescription":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000012","productName":"OHI Oxford Direct"},"benefit":{"benefitPlanId":"M000000782","benefitPlanName":"CT S FRDM NG 30/75/4750/75 PPO 21","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}]}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"MD","contractOptionTypeDescription":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000328","benefitPlanName":"SG$250D $5/$60/50% to 500/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}]}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"MD","contractOptionTypeDescription":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000008","benefitPlanName":"VISION CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}]}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"MD","contractOptionTypeDescription":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000008","benefitPlanName":"DENTAL CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersions":[{"customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}]}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"MD","contractOptionTypeDescription":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"subscriberSystemID"},{"id":"567685704","type_Z":"subscriberIndividualIdentifier"},{"id":"727385283","type_Z":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1074","benefitPlanName":"Vision 100% ER Paid V1074","planOptionID":"VS100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196600-VS100001","customerPurchaseVersions":[{"customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}]}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"},"contractOptionTypeCode":"VS","contractOptionTypeDescription":"Vision"}],"identifiers":[{"id":"97451064500","type_Z":"MCH"},{"id":"97451064500","type_Z":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100001888646","type_Z":"enrolleSystemID"},{"id":"567685704","type_Z":"enrolleeIndividualIdentifier"},{"id":"727385283","type_Z":"enrolleeSurrogateKey"}]}]}]}}';
        MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse =  new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', resp); //ACETTestDataUtility.GetMemberSearchJSON()
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
        System.runAs(memberAgent){
            //setTestData('Member');
            Contact con = TestDataFactory.createContact();
        
            Test.startTest();
            
            ACETLGT_MemberSearchController memSearch= new ACETLGT_MemberSearchController(); 
            
            //getSearchResults(String memberId, String firstName, String lastName, String dob, String state, String zip, String intType)
            ACETLGT_MemberSearchController.getSearchResults('97451064500','','','','','','Phone Call');
            ACETLGT_MemberSearchController.createInteraction('interactionType', 'ACET Member');
            ACETLGT_MemberSearchController.getUser();
            Test.stopTest();
            
        }
        
    }
}