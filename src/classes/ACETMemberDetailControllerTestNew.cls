@isTest(seealldata = false)//test 
private class ACETMemberDetailControllerTestNew{
    private static final String memId = '97451064500';
     private static testMethod void findmembershiptest() {
            ACETMemberDetail md = new ACETMemberDetail();
             ACETFindMembershipWebservice  service = new ACETFindMembershipWebservice();         
                  service.findMembership('123456',md);

         MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse1 = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', ACETTestDataUtility.findMembershipResponceJSONTest());
         OILResponse1.TokenExpired = false;        
         MockHttpCalloutResponseGenerator MockHttpRes1 = new MockHttpCalloutResponseGenerator(null, OILResponse1);
         Test.setMock(HttpCalloutMock.class, MockHttpRes1);           
                  service.findMembership('123456',md);
            
        }
    
     private static testMethod void findmembershiptesterrorcode() {
            ACETMemberDetail md = new ACETMemberDetail();
             ACETFindMembershipWebservice  service = new ACETFindMembershipWebservice();         
                  service.findMembership('123456',md);

         MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse1 = new MockHttpCalloutResponseGenerator.MockHttpResponse(500, 'OK', '');
         OILResponse1.TokenExpired = false;        
         MockHttpCalloutResponseGenerator MockHttpRes1 = new MockHttpCalloutResponseGenerator(null, OILResponse1);
         Test.setMock(HttpCalloutMock.class, MockHttpRes1);           
                  service.findMembership('123456',md);
            
             MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse2 = new MockHttpCalloutResponseGenerator.MockHttpResponse(501, 'OK', '');
         OILResponse1.TokenExpired = false;        
         MockHttpCalloutResponseGenerator MockHttpRes2 = new MockHttpCalloutResponseGenerator(null, OILResponse2);
         Test.setMock(HttpCalloutMock.class, MockHttpRes2);           
                  service.findMembership('123456',md);
        }
    
   
    
    
    private static void setTestData(String flow){
        
        Interaction__c inte = TestDataFactory.createInteraction();
        
        RecordType newRecord = [SELECT Id FROM RecordType WHERE Name = 'Person Account' and SObjectType = 'Account'];
        
        Account accountTest = new Account();
        accountTest.FirstName = 'Kelly';
        accountTest.LastName = 'Ruby';
        accountTest.EID__c = 'PIN2';
        accountTest.EID__pc = 'PIN2';
        accountTest.RecordTypeId = newRecord.Id;
        insert accountTest;

    Account acc = [SELECT Id,personcontactid from Account where Id=:accountTest.Id];
        Contact con = [SELECT Id,LastName,FirstName,EID__c,AccountId from Contact where Id=:acc.personcontactid];
                
        ApexPages.currentPage().getParameters().put('InteractionId',inte.id);
        ApexPages.currentPage().getParameters().put('Id','154907825 ');
        ApexPages.currentPage().getParameters().put('individualIdentifier','154907825');
        ApexPages.currentPage().getParameters().put('SRK','73452645');                 
        ApexPages.currentPage().getParameters().put('IsMember','true');
        //String vccdParams = '{"producerId":"123456789","idStr":"0012345","questionTypeCode":"MA","callerANI":"ANI123","TFN":"123456789"}';
        String vccdParams = '{"callerType":"test","idStr":"0012345","QuestionType":"MA","callerANI":"ANI123","TFN":"123456789","MemberDOB":"01/01/2017","CallerID":"123456789","TaxID":"123456789","npi":"123456789","MemberID":"123456789","ClaimID":"123456789","AuthorizationNumber":"123456789","ReferralNumber":"123456789"}';
        ApexPages.currentPage().getParameters().put('vccdParams',vccdParams);
        //ApexPages.currentPage().getParameters().put('id',con.id);
       // ApexPages.currentPage().getParameters().put('Id','73452645');
        ApexPages.currentPage().getParameters().put('firstName','Kelly');
        ApexPages.currentPage().getParameters().put('IsMember ','false');
        ApexPages.currentPage().getParameters().put('lastName','Ruby');
        ApexPages.currentPage().getParameters().put('sourceOriginator','Phone');
        ApexPages.currentPage().getParameters().put('subjectdob','1/1/2010');
        
       List<ISL_Webservice_Config__c> ISLWebserviceCSList = new List<ISL_Webservice_Config__c>();
               ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('roleid', 'cre'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('appid', 'ACET'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('clientid', 'clientid'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('ISLConAccessToken', 'dfb379c2-06b7-46c4-8c6f-bbc390d1b854'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('OILHttpHeaderAccept', 'application/json;charset=UTF-8'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('OILHttpHeaderActor', 'ACET'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('OILHttpHeaderScope', 'read'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('ISLOAuthContentType', 'application/x-www-form-urlencoded'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('ISLOAuthGrantType', 'client_credentials'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_ISLOAuthClientId', 'ISLStageConClientId'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_ISLOAuthClientSecret', 'ISLStageConClientSecret'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_ISLOAuthEndpoint', 'https://api-stg.optum.com:8443'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_GetMemberEndpoint', '/GetIndividualService'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_GetMembershipEndpoint', '/api/alpha/eisl/individuals/membership/v3.0/read'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_SearchMembershipEndpoint', '/FindMemberShipService'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_GetFamilyMembersEndpoint', '/api/alpha/eisl/individuals/familymembership/v2.0/read'));
      ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_GetCustomerPurchaseEndpoint', '/api/test/cdm/cust/c360/customer-purchases/v2.0'));

        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_GetEmployerGroupEndpoint', '/api/alpha/eisl/organizations/employergroups/v3.0/read'));
        
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_GetIndividualEndpoint', '/api/alpha/eisl/individuals/v2.0/read'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_FindMembershipEndpoint', '/api/alpha/eisl/individuals/membership/v2.0/search'));
        
        
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('dev_ISLOAuthTokenEndpoint', '/auth/oauth/v2/token'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('OILTimeout', '3000'));
        ISLWebserviceCSList.add(TestDataFactory.CreateISLWebserviceCS('SRKCounter', '1'));   
        insert ISLWebserviceCSList;
        //interaction and highlight panel       
                
        ACETHighlightsPanelAdditionalInfo AdditionalInfo = new ACETHighlightsPanelAdditionalInfo();
        AdditionalInfo.DOB = '12/27/2009';
        AdditionalInfo.SitusState = '12/27/2009';
        AdditionalInfo.EffectiveDate = '12/27/2009';
        AdditionalInfo.EndDate = '12/27/2009';
        AdditionalInfo.groupName  = 'Member Offshore';
        AdditionalInfo.Network    = 'Test';
        AdditionalInfo.OriginatorRelationship  = 'Test';
        AdditionalInfo.PolicyNumber  = 'UHC1234';
        AdditionalInfo.Product  = 'Product Test';
        AdditionalInfo.productType  = 'Care Service';
        AdditionalInfo.Relationship  = 'Primary';     
        
        //Setting relationship codes        
        ACETRelationshipCodes__c rCodes = new ACETRelationshipCodes__c (Name = '18',Description__c = 'Self');
        insert rCodes;      
        
        ACETOrgNameToSwivelEndpointMap__c durl = new ACETOrgNameToSwivelEndpointMap__c();
        durl.Swivel_Endpoint__c = 'test';
        durl.name = 'dev_ICUEConsumerDashboard';
        insert durl;

        ACETOrgNameToSwivelEndpointMap__c setting = new ACETOrgNameToSwivelEndpointMap__c();
        setting.Name = 'dev_ICUE';
        setting.Swivel_Endpoint__c = 'https://www.google.com';
        insert setting;
        
        /* US659454
        Restricted_Policy_Number__c rpn = new Restricted_Policy_Number__c ();
        rpn.Name = '702030';
        rpn.Global_Restricted__c = true;
        rpn.UHG_Restricted__c = false;
        
        insert rpn;
        */ //US659454
                
    }
      
    private static testMethod void testContinuation1() {
     Test.startTest();
     setTestData('Member');
      ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
      //memberDetailController.changeOriginator();
      memberDetailController.getloggedinProfileName();
        Continuation conti = (Continuation)memberDetailController.CallWSonPageLoad();
        Map<String, HttpRequest> requests = conti.getRequests();
        memberDetailController.IsGroupFlow = true;
      //  Interaction__c inte = TestDataFactory.createInteraction();
       // inte.Originator_Type__c = 'others';
        
         
      //  ApexPages.currentPage().getParameters().put('InteractionId',inte.id);
        ApexPages.currentPage().getParameters().put('IsMember ','false');
       // ApexPages.currentPage().getParameters().put('isFromProducer','true');
       memberDetailController.init(); 
        HttpResponse response;
        HttpRequest request;
        memberDetailController.CallWSonPageLoadCallback();
        for(String RequestLabel: requests.keyset()){
            request = requests.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug('2323request'+ request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/v2.0/read')) {
                system.debug('2323inside GetIndividualService');
                response.setBody('{"getIndividualResponse":{"individual":{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","holdEligInd":"false","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"phone":[{}],"email":[{}],"employment":[{"employmentStatus":"B","employeeIdentifier":"","employmentStartDate":"2017-01-01","retirementDate":"9999-12-31"}],"language":[{}],"otherContact":[{}],"dependentDisabilityList":[{}],"identifiers":[{"id":"637882060","type":"SRK"}]}}}');
                system.debug('1response'+response);
            }      
           // else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v2.0/search')) {
            else {
             
                system.debug('2323inside findMembershipsResponse');
              // response.setbody('{"findMembershipsResponse":{"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000120654","type":"subscriberSystemID"},{"id":"541838151","type":"subscriberIndividualIdentifier"},{"id":"703203458","type":"subscriberSurrogateKey"}],"groupNumber":"1280801","groupName":"CONCEPTS OF INDEPENDENCE","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000028","productName":"OHI EPO Non Gated","productType":""},"benefit":{"benefitPlanId":"M000000579","benefitPlanName":"NY 25/40/500/100 EPO","planOptionID":"PO100003","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"242601-1014406-8636686-PO100003"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford"},"relationshipCode":"18","privacyIndicator":"N","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000120654","type":"subscriberSystemID"},{"id":"541838151","type":"subscriberIndividualIdentifier"},{"id":"703203458","type":"subscriberSurrogateKey"}],"groupNumber":"1280801","groupName":"CONCEPTS OF INDEPENDENCE","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"","product":{"productIdentifier":"PM00000031","productName":"Oxford Non-Gated POS","productType":""},"benefit":{"benefitPlanId":"MR00000082","benefitPlanName":"NY ER $200 Rider No Ded Rider","planOptionID":"PO100003","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"242601-1014406-8636686-PO100003"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford"},"relationshipCode":"18","privacyIndicator":"N","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000120654","type":"subscriberSystemID"},{"id":"541838151","type":"subscriberIndividualIdentifier"},{"id":"703203458","type":"subscriberSurrogateKey"}],"groupNumber":"1280801","groupName":"CONCEPTS OF INDEPENDENCE","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000255","benefitPlanName":"$50D $10/$25/$50","planOptionID":"PO100003","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"242601-1014406-8636686-PO100003"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford"},"relationshipCode":"18","privacyIndicator":"N","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"052828192","type":"EAI"},{"id":"1374973001","type":"PS"},{"id":"93697375600","type":"MCH"},{"id":"93697375600","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000120654","type":"enrolleeSystemID"},{"id":"541838151","type":"enrolleeIndividualIdentifier"},{"id":"703203458","type":"enrolleeSurrogateKey"}]}],"pagination":{"pageNumber":"1","pageSize":"50","recordCount":"1","totalCount":"1","totalPages":"1"}}}');
                response.setbody('{"findMembershipsCustomerPurchaseResponse":{"memberships":[{"sourceSysCode":"CR","identifiers":[{"id":"97451064500","type":"MCH"},{"id":"97451064500","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100001888646","type":"enrolleSystemID"},{"id":"567685704","type":"enrolleeIndividualIdentifier"},{"id":"727385283","type":"enrolleeSurrogateKey"}],"coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000001","productName":"Standalone Dental - IND"},"benefit":{"benefitPlanId":"I0690","benefitPlanName":"Dental Voluntary I0690","planOptionID":"DN100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196597-DN100002","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO"},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/60/2500/100 PPO HSA 20","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000326","benefitPlanName":"SG $10/$60/50% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1002","benefitPlanName":"Vision 100% ER Paid V1002","planOptionID":"VS100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196598-VS100002","customerPurchaseVersionId":"4","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"VS","contractOptionTypeDesc":"Vision"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000004","productName":"Standalone Dental - PPO"},"benefit":{"benefitPlanId":"1P364","benefitPlanName":"Dental Contributory 1P364","planOptionID":"DN100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196599-DN100001","customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000012","productName":"OHI Oxford Direct"},"benefit":{"benefitPlanId":"M000000782","benefitPlanName":"CT S FRDM NG 30/75/4750/75 PPO 21","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000328","benefitPlanName":"SG$250D $5/$60/50% to 500/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000008","benefitPlanName":"VISION CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000008","benefitPlanName":"DENTAL CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1074","benefitPlanName":"Vision 100% ER Paid V1074","planOptionID":"VS100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196600-VS100001","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"VS","contractOptionTypeDesc":"Vision"}]}],"pagination":{"pageNumber":0,"pageSize":50,"recordCount":50,"totalCount":1,"totalPages":1,"moreRecords":false}}}');
                system.debug('2response'+response);
            }  
             
            system.debug('2323response'+response.getBody());
            system.debug('RequestLabel >>> '+RequestLabel);
            Test.setContinuationResponse(RequestLabel, response); 
        }
        Object result = Test.invokeContinuationMethod(memberDetailController, conti);
        system.debug('memberDetailController.MemberDetail >>> '+memberDetailController.MemberDetail);
             
          memberDetailController.toggleShowCoverages();
          if(memberDetailController.MemberDetail.CoverageLines!= null){
          memberDetailController.ProferredCoverageGUID = memberDetailController.MemberDetail.CoverageLines[2].guid; 
          }    
          memberDetailController.getCallTopicOptions();     
          memberDetailController.selectPreferredCoverage();   
          memberDetailController.changeOriginator();    
          
          //call get membership function
          Continuation conti2 = (Continuation)memberDetailController.CallGetMembership();
          if(conti2 != null){
           Map<String, HttpRequest> requests2 = conti2.getRequests();
            system.debug('requests2 >> '+requests2);
        for(String RequestLabel: requests2.keyset()){
            request = requests2.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug(RequestLabel +' :: '+request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v3.0/read')) {
                system.debug('2323inside GetmemberShip');
                response.setBody('{"getMembershipResponse":{"membership":{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"637882060","type":"enrolleeSurrogateKey"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifer"},{"id":"637882060","type":"subscriberSurrogateKey"}]}}}');                
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/familymembership/v2.0/read')) {
                response.setBody('{"getFamilyMembershipResponse":{"individual":[{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"identifiers":[],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"clinicalProgram":[],"identifiers":[{"id":"474346629","type":"enrolleeEID"},{"id":"100000604013","type":"subscriberSystemId"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"637882060","type":"subscriberSurrogateKey"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}]}]}}');
            }else if(request.getEndpoint().contains('/api/test/cdm/cust/c360/customer-purchases/v2.0')) {
                response.setBody('{"customerPurchase":[{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-1824024-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"8","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2018-12-01","contractOptionExpiryDate":"2019-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]},{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-20501-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2017-12-01","contractOptionExpiryDate":"2018-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]}]}');
            }
            else if(request.getEndpoint().contains('/api/alpha/eisl/organizations/employergroups/v3.0/read')){
                
                //response.setBody('{"getEmployerGroup": {"getEmployerGroupResponse": {"employerGroup": {   "groupNumber": "1058476",   "groupName": "AZCAT ASSOCIATES, LLC",   "sourceSysCode": "CIRRUS",   "taxIdentificationNumber": ["452569099"],   "cobraAdministrativeIndicator": "01",   "onshoreRestriction": "01",   "sizeDefinitionCode": "01",   "sizeDefinitionDescription": "Small Group",   "erisaIndicator": "1",   "employeeCounts":    [            {         "employeeCountDescription": "Full-Time-Equivalent",         "employeeCount": "3"      },            {         "employeeCountDescription": "Retired",         "employeeCount": "0"      },            {         "employeeCountDescription": "Other",         "employeeCount": "0"      },            {         "employeeCountDescription": "Total Count of Full Time Employees",         "employeeCount": "3"      },            {         "employeeCountDescription": "Average Number of Eligible Employees",         "employeeCount": "4"      },            {         "employeeCountDescription": "Part-Time",         "employeeCount": "1"      },            {         "employeeCountDescription": "Union Non-Eligible",         "employeeCount": "0"      },            {         "employeeCountDescription": "Union Eligible",         "employeeCount": "0"      }   ],   "groupAddress":    [            {         "salesOfficeCode": "339",         "salesOfficeDescription": "Hartford/oth"      },            {         "addressTypeCode": "PHY",         "addressTypeDescription": "Physical Address",         "addressLine1": "36 PHEASANT LANE",         "addressCity": "GREENWICH",         "addressPostalCode": "06830",         "addressStateCode": "CT",         "addressCountryCode": "US",         "addressCountryDescription": "United States of America"      }   ],   "groupContact":    [            {         "roleType": "1",         "roleDescription": "Benefit Administrator",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            },                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      },            {         "roleType": "2",         "roleDescription": "Billing Contact",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            },                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      }   ],   "groupSupportTeamContact": [   {      "serviceTeam": "ADAMS, JULIA",      "roleType": "DCSM",      "roleDescription": "Dedicated Client Service Manager",      "startDate": "2017-07-27",      "endDate": "9999-12-31",      "email": [      {         "communicationTypeCode": "EML",         "electronicAddress": "julia_adams@uhc.com"      }]   }],   "groupPopulation": [   {      "classesCode": "105847600001",      "classesDescription": "AZCAT_POPULATION",      "openEnrollmentPopulationClassStartDate": "2017-01-01",      "openEnrollmentPopulationClassEndDate": "2017-12-31"   }],   "customerAccount": [   {      "planBillingGroupNumber": "103",      "statusCode": "V",      "statusDescription": "Validation",      "startDate": "2017-01-01",      "renewalDate": "2018-10-01",      "terminationDate": "9999-12-31",      "customerAccountInsuringRules":       [                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "FOFM after Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "First of the Following Month (FOFM)",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Date of Event",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         }      ],      "customerPurchase": [      {         "memberGroupContractPlanOptionID": "10505",         "stateOfIssueCode": "CT",         "stateOfIssueDescription": "CONNECTICUT",         "fundingArrangementCode": "01",         "fundingArrangementDescription": "Fully Insured",         "coverageStartDate": "2017-01-01",         "coverageExpirationDate": "9999-12-31",         "benefitBundleOptionID": "1168476",         "openEnrollmentStartDate": "2017-01-01",         "openEnrollmentEndDate": "2017-12-31",         "timePeriodQualifier": "Contract Year",         "benefitBasePlan": "M000000743",         "benefitPlanDescription": "CTSM FREEEDOM Direct $25/40 ER$150 OP$15",         "gatedProductIndicator": "0",         "planMetallicLevel": "Platinum",         "lineOfBusiness":          [                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            }         ],         "networkScheduleId":          [            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS"         ],         "billingSchedule":          [                        {               "ratingMethodology": "01",               "contractTypeCode": "5",               "amount": "1731.30"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "4",               "amount": "1410.24"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "1",               "amount": "1544.18"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "2",               "amount": "1909.22"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "3",               "amount": "1102.15"            }         ]      }]   }]}}}}');
                StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'Test_GetEmpResponse'];
                String GetEmpGrpRes = GetDummyResp.Body.toString();
                response.setBody(GetEmpGrpRes);
            }        
            Test.setContinuationResponse(RequestLabel, response); 
        }
        }

     }
     
    /* private static testMethod void testContinuation1TermedCoverage12() {
     
     Test.startTest();
     setTestData('Member');
      ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
      //memberDetailController.changeOriginator();
      memberDetailController.getloggedinProfileName();
        Continuation conti = (Continuation)memberDetailController.CallWSonPageLoad();
        Map<String, HttpRequest> requests = conti.getRequests();
        memberDetailController.IsGroupFlow = true;
        Interaction__c inte = TestDataFactory.createInteraction();
        inte.Originator_Type__c = 'Member';
         
  //      ApexPages.currentPage().getParameters().put('InteractionId',inte.id);
        ApexPages.currentPage().getParameters().put('IsMember ','true');
        ApexPages.currentPage().getParameters().put('isFromProducer','false'); 
        ApexPages.currentPage().getParameters().put('familyRelationshipCheck','1');
        HttpResponse response;
        HttpRequest request;
        
        for(String RequestLabel: requests.keyset()){
            request = requests.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug('2323request'+ request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/v2.0/read')) {
                system.debug('2323inside GetIndividualService');
                response.setBody('{"getIndividualResponse":{"individual":{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","holdEligInd":"false","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"phone":[{}],"email":[{}],"employment":[{"employmentStatus":"B","employeeIdentifier":"","employmentStartDate":"2017-01-01","retirementDate":"9999-12-31"}],"language":[{}],"otherContact":[{}],"dependentDisabilityList":[{}],"identifiers":[{"id":"637882060","type":"SRK"}]}}}');
                system.debug('1response'+response);
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v2.0/search')) {
                system.debug('2323inside findMembershipsResponse');
                response.setBody('{"findMembershipsResponse":{"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000119359","type":"subscriberSystemID"},{"id":"541844782","type":"subscriberIndividualIdentifier"},{"id":"703209889","type":"subscriberSurrogateKey"}],"groupNumber":"1280285","groupName":"CATHOLIC CHARITIES OF THE ARCHDIOCESE OF NEWARK","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000008","productName":"Oxford Non-Gated PPO","productType":""},"benefit":{"benefitPlanId":"M000000305","benefitPlanName":"NJ 25/40/100 CLASSIC/ACCESS","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"242085-1014016-8545314-PO100001"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford"},"relationshipCode":"18","privacyIndicator":"N","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000119359","type":"subscriberSystemID"},{"id":"541844782","type":"subscriberIndividualIdentifier"},{"id":"703209889","type":"subscriberSurrogateKey"}],"groupNumber":"1280285","groupName":"CATHOLIC CHARITIES OF THE ARCHDIOCESE OF NEWARK","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"","product":{"productIdentifier":"PM00000031","productName":"Oxford Non-Gated POS","productType":""},"benefit":{"benefitPlanId":"MR00000041","benefitPlanName":"NJ IP/OP $500/$250 NoDed/O70% D&C","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"242085-1014016-8545314-PO100001"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford"},"relationshipCode":"18","privacyIndicator":"N","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000119359","type":"subscriberSystemID"},{"id":"541844782","type":"subscriberIndividualIdentifier"},{"id":"703209889","type":"subscriberSurrogateKey"}],"groupNumber":"1280285","groupName":"CATHOLIC CHARITIES OF THE ARCHDIOCESE OF NEWARK","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"","product":{"productIdentifier":"PM00000031","productName":"Oxford Non-Gated POS","productType":""},"benefit":{"benefitPlanId":"MR00000048","benefitPlanName":"NJ ER $100 No Ded Rider","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"242085-1014016-8545314-PO100001"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford"},"relationshipCode":"18","privacyIndicator":"N","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000119359","type":"subscriberSystemID"},{"id":"541844782","type":"subscriberIndividualIdentifier"},{"id":"703209889","type":"subscriberSurrogateKey"}],"groupNumber":"1280285","groupName":"CATHOLIC CHARITIES OF THE ARCHDIOCESE OF NEWARK","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"","product":{"productIdentifier":"PM00000031","productName":"Oxford Non-Gated POS","productType":""},"benefit":{"benefitPlanId":"MR00000153","benefitPlanName":"Oxford NJ EO & REE","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"242085-1014016-8545314-PO100001"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford"},"relationshipCode":"18","privacyIndicator":"N","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"623052928","type":"EAI"},{"id":"1333715301","type":"PS"},{"id":"12490240100","type":"MCH"},{"id":"12490240100","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000119359","type":"enrolleeSystemID"},{"id":"541844782","type":"enrolleeIndividualIdentifier"},{"id":"703209889","type":"enrolleeSurrogateKey"}]}],"pagination":{"pageNumber":"1","pageSize":"50","recordCount":"1","totalCount":"1","totalPages":"1"}}}');
                system.debug('2response'+response);
            }else if(request.getEndpoint().contains('/api/test/cdm/cust/c360/customer-purchases/v2.0')) {
                response.setBody('{"customerPurchase":[{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-1824024-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"8","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2018-12-01","contractOptionExpiryDate":"2019-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]},{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-20501-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2017-12-01","contractOptionExpiryDate":"2018-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]}]}');
            }  
             
            system.debug('2323response'+response.getBody());
            system.debug('RequestLabel >>> '+RequestLabel);
            Test.setContinuationResponse(RequestLabel, response); 
        }
        
        Object result = Test.invokeContinuationMethod(memberDetailController, conti);
        //memberDetailController.MemberDetail.BundleOptionID = '1018480';
        //memberDetailController.MemberDetail.BenefitPlanId = 'M000000745';
        system.debug('memberDetailController.MemberDetail >>> '+memberDetailController.MemberDetail);
          
          memberDetailController.toggleShowCoverages();
        if(memberDetailController.MemberDetail.CoverageLines != null){
          memberDetailController.ProferredCoverageGUID = memberDetailController.MemberDetail.CoverageLines[2].guid;     
            }   
          memberDetailController.selectPreferredCoverage();       
          
          
          //call get membership function
          Continuation conti2 = (Continuation)memberDetailController.CallGetMembership();
          if(conti2 != null){
           Map<String, HttpRequest> requests2 = conti2.getRequests();
            system.debug('requests2 >> '+requests2);
        for(String RequestLabel: requests2.keyset()){
            request = requests2.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug(RequestLabel +' :: '+request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v3.0/read')) {
                system.debug('2323inside GetmemberShip');
                response.setBody('{"getMembershipResponse":{"membership":{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"637882060","type":"enrolleeSurrogateKey"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifer"},{"id":"637882060","type":"subscriberSurrogateKey"}]}}}');                
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/familymembership/v2.0/read')) {
                response.setBody('{"getFamilyMembershipResponse":{"individual":[{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"identifiers":[],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"clinicalProgram":[],"identifiers":[{"id":"474346629","type":"enrolleeEID"},{"id":"100000604013","type":"subscriberSystemId"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"637882060","type":"subscriberSurrogateKey"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}]}]}}');
            }else if(request.getEndpoint().contains('/api/test/cdm/cust/c360/customer-purchases/v2.0')) {
                response.setBody('{"customerPurchase":[{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-1824024-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"8","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2018-12-01","contractOptionExpiryDate":"2019-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]},{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-20501-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2017-12-01","contractOptionExpiryDate":"2018-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]}]}');
            }
            else if(request.getEndpoint().contains('/api/alpha/eisl/organizations/employergroups/v3.0/read')){
                
                response.setBody('{"getEmployerGroup": {"getEmployerGroupResponse": {"employerGroup": {   "groupNumber": "1058476",   "groupName": "AZCAT ASSOCIATES, LLC",   "sourceSysCode": "CIRRUS",   "taxIdentificationNumber": ["452569099"],   "cobraAdministrativeIndicator": "01",   "onshoreRestriction": "01",   "sizeDefinitionCode": "01",   "sizeDefinitionDescription": "Small Group",   "erisaIndicator": "1",   "employeeCounts":    [            {         "employeeCountDescription": "Full-Time-Equivalent",         "employeeCount": "3"      },            {         "employeeCountDescription": "Retired",         "employeeCount": "0"      },            {         "employeeCountDescription": "Other",         "employeeCount": "0"      },            {         "employeeCountDescription": "Total Count of Full Time Employees",         "employeeCount": "3"      },            {         "employeeCountDescription": "Average Number of Eligible Employees",         "employeeCount": "4"      },            {         "employeeCountDescription": "Part-Time",         "employeeCount": "1"      },            {         "employeeCountDescription": "Union Non-Eligible",         "employeeCount": "0"      },            {         "employeeCountDescription": "Union Eligible",         "employeeCount": "0"      }   ],   "groupAddress":    [            {         "salesOfficeCode": "339",         "salesOfficeDescription": "Hartford/oth"      },            {         "addressTypeCode": "PHY",         "addressTypeDescription": "Physical Address",         "addressLine1": "36 PHEASANT LANE",         "addressCity": "GREENWICH",         "addressPostalCode": "06830",         "addressStateCode": "CT",         "addressCountryCode": "US",         "addressCountryDescription": "United States of America"      }   ],   "groupContact":    [            {         "roleType": "1",         "roleDescription": "Benefit Administrator",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            },                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      },            {         "roleType": "2",         "roleDescription": "Billing Contact",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            },                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      }   ],   "groupSupportTeamContact": [   {      "serviceTeam": "ADAMS, JULIA",      "roleType": "DCSM",      "roleDescription": "Dedicated Client Service Manager",      "startDate": "2017-07-27",      "endDate": "9999-12-31",      "email": [      {         "communicationTypeCode": "EML",         "electronicAddress": "julia_adams@uhc.com"      }]   }],   "groupPopulation": [   {      "classesCode": "105847600001",      "classesDescription": "AZCAT_POPULATION",      "openEnrollmentPopulationClassStartDate": "2017-01-01",      "openEnrollmentPopulationClassEndDate": "2017-12-31"   }],   "customerAccount": [   {      "planBillingGroupNumber": "103",      "statusCode": "V",      "statusDescription": "Validation",      "startDate": "2017-01-01",      "renewalDate": "2018-10-01",      "terminationDate": "9999-12-31",      "customerAccountInsuringRules":       [                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "FOFM after Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "First of the Following Month (FOFM)",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Date of Event",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         }      ],      "customerPurchase": [      {         "memberGroupContractPlanOptionID": "10505",         "stateOfIssueCode": "CT",         "stateOfIssueDescription": "CONNECTICUT",         "fundingArrangementCode": "01",         "fundingArrangementDescription": "Fully Insured",         "coverageStartDate": "2017-01-01",         "coverageExpirationDate": "9999-12-31",         "benefitBundleOptionID": "1168476",         "openEnrollmentStartDate": "2017-01-01",         "openEnrollmentEndDate": "2017-12-31",         "timePeriodQualifier": "Contract Year",         "benefitBasePlan": "M000000743",         "benefitPlanDescription": "CTSM FREEEDOM Direct $25/40 ER$150 OP$15",         "gatedProductIndicator": "0",         "planMetallicLevel": "Platinum",         "lineOfBusiness":          [                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            }         ],         "networkScheduleId":          [            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS"         ],         "billingSchedule":          [                        {               "ratingMethodology": "01",               "contractTypeCode": "5",               "amount": "1731.30"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "4",               "amount": "1410.24"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "1",               "amount": "1544.18"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "2",               "amount": "1909.22"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "3",               "amount": "1102.15"            }         ]      }]   }]}}}}');
                //StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'Test_GetEmpResponse_Termed'];
                //String GetEmpGrpRes = GetDummyResp.Body.toString();
                //System.debug('HEREHERE GetEmpGrpRes testCont1 ' + GetEmpGrpRes);
                
               // response.setBody(GetEmpGrpRes);
            }        
            Test.setContinuationResponse(RequestLabel, response); 
        }
        }
        
        Object result2 = Test.invokeContinuationMethod(memberDetailController, conti2);       
        memberDetailController.selectPrimaryPhysician();
        memberDetailController.getNoOfMemAlert();
        memberDetailController.getMemberCaseHistory();
        PageReference pageRef = Page.ACETMemberSearch;
        Test.setCurrentPage(pageRef);        
    
       MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', ACETTestDataUtility.UpdateIndividualJSON());
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
       
        
        ApexPages.currentPage().getParameters().put('scr','12345');   
        ApexPages.currentPage().getParameters().put('ssn','1231231234'); 
        ApexPages.currentPage().getParameters().put('currentpcpId','123123');
        ApexPages.currentPage().getParameters().put('currentpcptype','OBGYN');
        ApexPages.currentPage().getParameters().put('currentpcpAssignmentType','Provider');
        ApexPages.currentPage().getParameters().put('currentpcpeffectiveEndDate','12/31/2017');
        ApexPages.currentPage().getParameters().put('currentpcpeffectiveStartDate','12/31/2017'); 
      //  ApexPages.currentPage().getParameters().put('mnf','1');
        
        
        //end of Update PCP OBGYN
        
        
        
       memberDetailController.UpdatePCPOBGYN(); 
      //  ACETWSCalloutResult calloutResult = new ACETWSCalloutResult();
      //  calloutResult = getFamilyMembers(memberDetailController.MemberDetail.MemberId,memberDetailController.MemberDetail);
        //memberDetailController.Originator = '0032100000MrAwv';
        Interaction__c inte1 = TestDataFactory.createInteraction();
        RecordType newRecord = [SELECT Id FROM RecordType WHERE Name = 'Person Account' and SObjectType = 'Account'];
        
        Account accountTest = new Account();
        accountTest.FirstName = 'Kelly';
        accountTest.LastName = 'Ruby';
        accountTest.EID__c = 'PIN';
        accountTest.EID__pc = 'PIN';
        accountTest.RecordTypeId = newRecord.Id;
        insert accountTest;

    Account acc = [SELECT Id,personcontactid from Account where Id=:accountTest.Id];
        Contact con = [SELECT Id,LastName,FirstName,EID__c,AccountId from Contact where Id=:acc.personcontactid];
        
   //     originatorObj = ACETMemberQueryUtil.con();
   //     memberDetailController.changeOriginator();     

        Test.stopTest();
     }   
     */
     private static testMethod void testContinuation1TermedNoCoverage() {
     
     Test.startTest();
     setTestData('Member');
        ApexPages.currentPage().getParameters().put('IsMember ','true');
        ApexPages.currentPage().getParameters().put('familyRelationshipCheck','1');     
      ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
      //memberDetailController.changeOriginator();
      memberDetailController.getloggedinProfileName();
        Continuation conti = (Continuation)memberDetailController.CallWSonPageLoad();
        Map<String, HttpRequest> requests = conti.getRequests();
        memberDetailController.IsGroupFlow = true;
    //    Interaction__c inte = TestDataFactory.createInteraction();
    //    inte.Originator_Type__c = 'Other';
         
  //      ApexPages.currentPage().getParameters().put('InteractionId',inte.id);
          

        HttpResponse response;
        HttpRequest request;
        
        for(String RequestLabel: requests.keyset()){
            request = requests.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug('2323request'+ request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/v2.0/read')) {
                system.debug('2323inside GetIndividualService');
                response.setBody('{"getIndividualResponse":{"individual":{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","holdEligInd":"false","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"phone":[{}],"email":[{}],"employment":[{"employmentStatus":"B","employeeIdentifier":"","employmentStartDate":"2017-01-01","retirementDate":"9999-12-31"}],"language":[{}],"otherContact":[{}],"dependentDisabilityList":[{}],"identifiers":[{"id":"637882060","type":"SRK"}]}}}');
                system.debug('1response'+response);
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v2.0/search')) {
                system.debug('2323inside findMembershipsResponse');
             //   response.setBody('{ "findMembershipsResponse": {"memberships": [{"sourceSysCode": "CR","coverages": [{}],"identifiers": [{"id": "11593523700","type": "MCH"}, {"id": "11593523700","type": "SCR"}],"enrolleeSystemSpecificIdentifiers": [{"id": "100000604013","type": "enrolleeSystemID"}, {"id": "474346629","type": "enrolleeIndividualIdentifier"}, {"id": "637882060","type": "enrolleeSurrogateKey"}]}],"pagination": {"pageNumber": "1","pageSize": "5","recordCount": "1","totalCount":1","totalPages": "1"}}}');
               response.setBody('{ "findMembershipsResponse": { "memberships": [ { "sourceSysCode": "CR", "coverages": [ { } ], "identifiers": [ { "id": "623052928", "type": "EAI" }, { "id": "1333715301", "type": "PS" }, { "id": "12490240100", "type": "MCH" }, { "id": "12490240100", "type": "SCR" } ], "enrolleeSystemSpecificIdentifiers": [ { "id": "100000119359", "type": "enrolleeSystemID" }, { "id": "541844782", "type": "enrolleeIndividualIdentifier" }, { "id": "703209889", "type": "enrolleeSurrogateKey" } ] } ], "pagination": { "pageNumber": "1", "pageSize": "50", "recordCount": "1", "totalCount": "1", "totalPages": "1" } } }');
                system.debug('2response'+response);
            }  
             
            system.debug('2323response'+response.getBody());
            system.debug('RequestLabel >>> '+RequestLabel);
            Test.setContinuationResponse(RequestLabel, response); 
        }
        
        Object result = Test.invokeContinuationMethod(memberDetailController, conti);
        //memberDetailController.MemberDetail.BundleOptionID = '1018480';
        //memberDetailController.MemberDetail.BenefitPlanId = 'M000000745';
        system.debug('memberDetailController.MemberDetail >>> '+memberDetailController.MemberDetail);
          memberDetailController.Coverages = null;
          memberDetailController.toggleShowCoverages();
          
//          memberDetailController.ProferredCoverageGUID = memberDetailController.MemberDetail.CoverageLines[2].guid;     
               
//          memberDetailController.selectPreferredCoverage();       
          
          
          //call get membership function
   /*       Continuation conti2 = (Continuation)memberDetailController.CallGetMembership();
           Map<String, HttpRequest> requests2 = conti2.getRequests();
            system.debug('requests2 >> '+requests2);
        for(String RequestLabel: requests2.keyset()){
            request = requests2.get(RequestLabel);


            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug(RequestLabel +' :: '+request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v3.0/read')) {
                system.debug('2323inside GetmemberShip');
                response.setBody('{"getMembershipResponse":{"membership":{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"637882060","type":"enrolleeSurrogateKey"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifer"},{"id":"637882060","type":"subscriberSurrogateKey"}]}}}');                
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/familymembership/v2.0/read')) {
                response.setBody('{"getFamilyMembershipResponse":{"individual":[{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"identifiers":[],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"clinicalProgram":[],"identifiers":[{"id":"474346629","type":"enrolleeEID"},{"id":"100000604013","type":"subscriberSystemId"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"637882060","type":"subscriberSurrogateKey"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}]}]}}');
            }else if(request.getEndpoint().contains('/api/alpha/eisl/organizations/employergroups/v3.0/read')){
                
                response.setBody('{"getEmployerGroup": {"getEmployerGroupResponse": {"employerGroup": {   "groupNumber": "1058476",   "groupName": "AZCAT ASSOCIATES, LLC",   "sourceSysCode": "CIRRUS",   "taxIdentificationNumber": ["452569099"],   "cobraAdministrativeIndicator": "01",   "onshoreRestriction": "01",   "sizeDefinitionCode": "01",   "sizeDefinitionDescription": "Small Group",   "erisaIndicator": "1",   "employeeCounts":    [            {         "employeeCountDescription": "Full-Time-Equivalent",         "employeeCount": "3"      },            {         "employeeCountDescription": "Retired",         "employeeCount": "0"      },            {         "employeeCountDescription": "Other",         "employeeCount": "0"      },            {         "employeeCountDescription": "Total Count of Full Time Employees",         "employeeCount": "3"      },            {         "employeeCountDescription": "Average Number of Eligible Employees",         "employeeCount": "4"      },            {         "employeeCountDescription": "Part-Time",         "employeeCount": "1"      },            {         "employeeCountDescription": "Union Non-Eligible",         "employeeCount": "0"      },            {         "employeeCountDescription": "Union Eligible",         "employeeCount": "0"      }   ],   "groupAddress":    [            {         "salesOfficeCode": "339",         "salesOfficeDescription": "Hartford/oth"      },            {         "addressTypeCode": "PHY",         "addressTypeDescription": "Physical Address",         "addressLine1": "36 PHEASANT LANE",         "addressCity": "GREENWICH",         "addressPostalCode": "06830",         "addressStateCode": "CT",         "addressCountryCode": "US",         "addressCountryDescription": "United States of America"      }   ],   "groupContact":    [            {         "roleType": "1",         "roleDescription": "Benefit Administrator",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            },                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      },            {         "roleType": "2",         "roleDescription": "Billing Contact",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            },                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      }   ],   "groupSupportTeamContact": [   {      "serviceTeam": "ADAMS, JULIA",      "roleType": "DCSM",      "roleDescription": "Dedicated Client Service Manager",      "startDate": "2017-07-27",      "endDate": "9999-12-31",      "email": [      {         "communicationTypeCode": "EML",         "electronicAddress": "julia_adams@uhc.com"      }]   }],   "groupPopulation": [   {      "classesCode": "105847600001",      "classesDescription": "AZCAT_POPULATION",      "openEnrollmentPopulationClassStartDate": "2017-01-01",      "openEnrollmentPopulationClassEndDate": "2017-12-31"   }],   "customerAccount": [   {      "planBillingGroupNumber": "103",      "statusCode": "V",      "statusDescription": "Validation",      "startDate": "2017-01-01",      "renewalDate": "2018-10-01",      "terminationDate": "9999-12-31",      "customerAccountInsuringRules":       [                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "FOFM after Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "First of the Following Month (FOFM)",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Date of Event",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         }      ],      "customerPurchase": [      {         "memberGroupContractPlanOptionID": "10505",         "stateOfIssueCode": "CT",         "stateOfIssueDescription": "CONNECTICUT",         "fundingArrangementCode": "01",         "fundingArrangementDescription": "Fully Insured",         "coverageStartDate": "2017-01-01",         "coverageExpirationDate": "9999-12-31",         "benefitBundleOptionID": "1168476",         "openEnrollmentStartDate": "2017-01-01",         "openEnrollmentEndDate": "2017-12-31",         "timePeriodQualifier": "Contract Year",         "benefitBasePlan": "M000000743",         "benefitPlanDescription": "CTSM FREEEDOM Direct $25/40 ER$150 OP$15",         "gatedProductIndicator": "0",         "planMetallicLevel": "Platinum",         "lineOfBusiness":          [                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            }         ],         "networkScheduleId":          [            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS"         ],         "billingSchedule":          [                        {               "ratingMethodology": "01",               "contractTypeCode": "5",               "amount": "1731.30"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "4",               "amount": "1410.24"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "1",               "amount": "1544.18"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "2",               "amount": "1909.22"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "3",               "amount": "1102.15"            }         ]      }]   }]}}}}');
                //StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'Test_GetEmpResponse_Termed'];
                //String GetEmpGrpRes = GetDummyResp.Body.toString();
                //System.debug('HEREHERE GetEmpGrpRes testCont1 ' + GetEmpGrpRes);
                
               // response.setBody(GetEmpGrpRes);
            }        
            Test.setContinuationResponse(RequestLabel, response); 
        } */
        
        
    //    Object result2 = Test.invokeContinuationMethod(memberDetailController, conti2);       
        memberDetailController.selectPrimaryPhysician();
        memberDetailController.getNoOfMemAlert();
        memberDetailController.getMemberCaseHistory();
        PageReference pageRef = Page.ACETMemberSearch;
        Test.setCurrentPage(pageRef);        
    
       MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', ACETTestDataUtility.UpdateIndividualJSON());
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
       
        
        ApexPages.currentPage().getParameters().put('scr','12345');   
        ApexPages.currentPage().getParameters().put('ssn','1231231234'); 
        ApexPages.currentPage().getParameters().put('currentpcpId','123123');
        ApexPages.currentPage().getParameters().put('currentpcptype','OBGYN');
        ApexPages.currentPage().getParameters().put('currentpcpAssignmentType','Provider');
        ApexPages.currentPage().getParameters().put('currentpcpeffectiveEndDate','12/31/2017');
        ApexPages.currentPage().getParameters().put('currentpcpeffectiveStartDate','12/31/2017'); 
      //  ApexPages.currentPage().getParameters().put('mnf','1');
        
        
        //end of Update PCP OBGYN
        
  

        Test.stopTest();
     }        
     
     
    /* private static testMethod void testContinuation1TermedCoverage13() {
     
     Test.startTest();
     setTestData('Other');
      ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
      //memberDetailController.changeOriginator();
      memberDetailController.getloggedinProfileName();
        Continuation conti = (Continuation)memberDetailController.CallWSonPageLoad();
        Map<String, HttpRequest> requests = conti.getRequests();
        memberDetailController.IsGroupFlow = true;
        Interaction__c inte = TestDataFactory.createInteraction();
        inte.Originator_Type__c = 'Member';
         
  //      ApexPages.currentPage().getParameters().put('InteractionId',inte.id);
        ApexPages.currentPage().getParameters().put('IsMember ','true');
        ApexPages.currentPage().getParameters().put('isFromProducer','false'); 
        ApexPages.currentPage().getParameters().put('familyRelationshipCheck','1');
        HttpResponse response;
        HttpRequest request;
        
        for(String RequestLabel: requests.keyset()){
            request = requests.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug('2323request'+ request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/v2.0/read')) {
                system.debug('2323inside GetIndividualService');
                response.setBody('{"getIndividualResponse":{"individual":{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","holdEligInd":"false","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"phone":[{}],"email":[{}],"employment":[{"employmentStatus":"B","employeeIdentifier":"","employmentStartDate":"2017-01-01","retirementDate":"9999-12-31"}],"language":[{}],"otherContact":[{}],"dependentDisabilityList":[{}],"identifiers":[{"id":"637882060","type":"SRK"}]}}}');
                system.debug('1response'+response);
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v2.0/search')) {
                system.debug('2323inside findMembershipsResponse');
              //  response.setBody('{"findMembershipsResponse":{"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO HSA","productType":""},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"D","coverageTypeDescription":"DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO HSA","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":""},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"11593523700","type":"MCH"},{"id":"11593523700","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000604013","type":"enrolleeSystemID"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}],"pagination":{"pageNumber":"1","pageSize":"5","recordCount":"1","totalCount":"1","totalPages":"1"}}}');
               response.setBody('{ "findMembershipsResponse": { "memberships": [ { "sourceSysCode": "CR", "coverages": [ { "subscriberSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "subscriberSystemID" }, { "id": "553079244", "type": "subscriberIndividualIdentifier" }, { "id": "713855694", "type": "subscriberSurrogateKey" } ], "groupNumber": "1058476", "groupName": "INGERSOLL AUTO", "membershipEffectiveDate": "2017-12-01", "membershipExpirationDate": "2019-01-31", "coverageType": "M", "coverageTypeDescription": "MEDICAL", "coverageLevelCode": "EMP", "product": { "productIdentifier": "PM00000020", "productName": "OHP HMO Non-Gated", "productType": "" }, "benefit": { "benefitPlanId": "MNS0000007", "GUID":"123ed", "benefitPlanName": "CT FREEDOM 30/50/2500/100 SMART HMO HSA", "planOptionID": "70501", "riderOnlyIndicator": "N", "customerPurchase": [ { "customerPurchaseId": "20501-1008477-1824024-70501" }, { "customerPurchaseId": "20501-1008477-20501-70501" } ], "bookOfBusinessTypeCode": "OX", "bookOfBusinessTypeDescription": "Oxford" }, "relationshipCode": "18", "privacyIndicator": "N", "relationshipDescription": "Self", "legacyAttributes": { "eligibilitySystemTypeCode": "CR", "claimSystemTypeCode": "CR" } }, { "subscriberSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "subscriberSystemID" }, { "id": "553079244", "type": "subscriberIndividualIdentifier" }, { "id": "713855694", "type": "subscriberSurrogateKey" } ], "groupNumber": "1058476", "groupName": "INGERSOLL AUTO", "membershipEffectiveDate": "2017-12-01", "membershipExpirationDate": "2019-01-31", "coverageType": "RX", "coverageTypeDescription": "PHARMACY", "coverageLevelCode": "", "product": { "productIdentifier": "PR00000001", "productName": "Pharmacy", "productType": "" }, "benefit": { "benefitPlanId": "RX00000140", "GUID":"123ed", "benefitPlanName": "LG $5/$25/$40 - HSA", "planOptionID": "70501", "riderOnlyIndicator": "Y", "customerPurchase": [ { "customerPurchaseId": "20501-1008477-1824024-70501" }, { "customerPurchaseId": "20501-1008477-20501-70501" } ], "bookOfBusinessTypeCode": "OX", "bookOfBusinessTypeDescription": "Oxford" }, "relationshipCode": "18", "privacyIndicator": "N", "relationshipDescription": "Self", "legacyAttributes": { "eligibilitySystemTypeCode": "CR", "claimSystemTypeCode": "CR" } } ], "identifiers": [ { "id": "21245904700", "type": "MCH" }, { "id": "21245904700", "type": "SCR" } ], "enrolleeSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "enrolleeSystemID" }, { "id": "553079244", "type": "enrolleeIndividualIdentifier" }, { "id": "713855694", "type": "enrolleeSurrogateKey" } ] } ], "pagination": { "pageNumber": "1", "pageSize": "50", "recordCount": "1", "totalCount": "1", "totalPages": "1" } } }');
           
                system.debug('2response'+response);
            }  
             
            system.debug('2323response'+response.getBody());
            system.debug('RequestLabel >>> '+RequestLabel);
            Test.setContinuationResponse(RequestLabel, response); 
        }
        
        Object result = Test.invokeContinuationMethod(memberDetailController, conti);
        //memberDetailController.MemberDetail.BundleOptionID = '1018480';
        //memberDetailController.MemberDetail.BenefitPlanId = 'M000000745';
        system.debug('memberDetailController.MemberDetail >>> '+memberDetailController.MemberDetail);
          
          memberDetailController.toggleShowCoverages();
          if(memberDetailController.MemberDetail.CoverageLines != null){
          memberDetailController.ProferredCoverageGUID = memberDetailController.MemberDetail.CoverageLines[1].guid;     
               }
          memberDetailController.selectPreferredCoverage();       
          
          
          //call get membership function
          Continuation conti2 = (Continuation)memberDetailController.CallGetMembership();
          if(conti2 != null){
           Map<String, HttpRequest> requests2 = conti2.getRequests();
            system.debug('requests2 >> '+requests2);
        for(String RequestLabel: requests2.keyset()){
            request = requests2.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug(RequestLabel +' :: '+request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/familymembership/v2.0/read')) {
                response.setBody('{"getFamilyMembershipResponse":{"individual":[{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"identifiers":[],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"clinicalProgram":[],"identifiers":[{"id":"474346629","type":"enrolleeEID"},{"id":"100000604013","type":"subscriberSystemId"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"637882060","type":"subscriberSurrogateKey"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}]}]}}');
            }else if(request.getEndpoint().contains('/api/test/cdm/cust/c360/customer-purchases/v2.0')) {
                response.setBody('{"customerPurchase":[{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-1824024-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"8","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2018-12-01","contractOptionExpiryDate":"2019-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]},{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-20501-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2017-12-01","contractOptionExpiryDate":"2018-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]}]}');
            }
            else if(request.getEndpoint().contains('/api/alpha/eisl/organizations/employergroups/v3.0/read')){
                
                //response.setBody('{"getEmployerGroup": {"getEmployerGroupResponse": {"employerGroup": {   "groupNumber": "1058476",   "groupName": "AZCAT ASSOCIATES, LLC",   "sourceSysCode": "CIRRUS",   "taxIdentificationNumber": ["452569099"],   "cobraAdministrativeIndicator": "01",   "onshoreRestriction": "01",   "sizeDefinitionCode": "01",   "sizeDefinitionDescription": "Small Group",   "erisaIndicator": "1",   "employeeCounts":    [            {         "employeeCountDescription": "Full-Time-Equivalent",         "employeeCount": "3"      },            {         "employeeCountDescription": "Retired",         "employeeCount": "0"      },            {         "employeeCountDescription": "Other",         "employeeCount": "0"      },            {         "employeeCountDescription": "Total Count of Full Time Employees",         "employeeCount": "3"      },            {         "employeeCountDescription": "Average Number of Eligible Employees",         "employeeCount": "4"      },            {         "employeeCountDescription": "Part-Time",         "employeeCount": "1"      },            {         "employeeCountDescription": "Union Non-Eligible",         "employeeCount": "0"      },            {         "employeeCountDescription": "Union Eligible",         "employeeCount": "0"      }   ],   "groupAddress":    [            {         "salesOfficeCode": "339",         "salesOfficeDescription": "Hartford/oth"      },            {         "addressTypeCode": "PHY",         "addressTypeDescription": "Physical Address",         "addressLine1": "36 PHEASANT LANE",         "addressCity": "GREENWICH",         "addressPostalCode": "06830",         "addressStateCode": "CT",         "addressCountryCode": "US",         "addressCountryDescription": "United States of America"      }   ],   "groupContact":    [            {         "roleType": "1",         "roleDescription": "Benefit Administrator",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            },                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      },            {         "roleType": "2",         "roleDescription": "Billing Contact",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            },                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      }   ],   "groupSupportTeamContact": [   {      "serviceTeam": "ADAMS, JULIA",      "roleType": "DCSM",      "roleDescription": "Dedicated Client Service Manager",      "startDate": "2017-07-27",      "endDate": "9999-12-31",      "email": [      {         "communicationTypeCode": "EML",         "electronicAddress": "julia_adams@uhc.com"      }]   }],   "groupPopulation": [   {      "classesCode": "105847600001",      "classesDescription": "AZCAT_POPULATION",      "openEnrollmentPopulationClassStartDate": "2017-01-01",      "openEnrollmentPopulationClassEndDate": "2017-12-31"   }],   "customerAccount": [   {      "planBillingGroupNumber": "103",      "statusCode": "V",      "statusDescription": "Validation",      "startDate": "2017-01-01",      "renewalDate": "2018-10-01",      "terminationDate": "9999-12-31",      "customerAccountInsuringRules":       [                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "FOFM after Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "First of the Following Month (FOFM)",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Date of Event",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         }      ],      "customerPurchase": [      {         "memberGroupContractPlanOptionID": "10505",         "stateOfIssueCode": "CT",         "stateOfIssueDescription": "CONNECTICUT",         "fundingArrangementCode": "01",         "fundingArrangementDescription": "Fully Insured",         "coverageStartDate": "2017-01-01",         "coverageExpirationDate": "9999-12-31",         "benefitBundleOptionID": "1168476",         "openEnrollmentStartDate": "2017-01-01",         "openEnrollmentEndDate": "2017-12-31",         "timePeriodQualifier": "Contract Year",         "benefitBasePlan": "M000000743",         "benefitPlanDescription": "CTSM FREEEDOM Direct $25/40 ER$150 OP$15",         "gatedProductIndicator": "0",         "planMetallicLevel": "Platinum",         "lineOfBusiness":          [                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            }         ],         "networkScheduleId":          [            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS"         ],         "billingSchedule":          [                        {               "ratingMethodology": "01",               "contractTypeCode": "5",               "amount": "1731.30"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "4",               "amount": "1410.24"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "1",               "amount": "1544.18"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "2",               "amount": "1909.22"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "3",               "amount": "1102.15"            }         ]      }]   }]}}}}');
                StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'Test_GetEmployerResponseMultiple'];
                String GetEmpGrpRes = GetDummyResp.Body.toString();
                System.debug('HEREHERE GetEmpGrpRes testCont1 ' + GetEmpGrpRes);
                
                response.setBody(GetEmpGrpRes);
            }        
            Test.setContinuationResponse(RequestLabel, response); 
        }
        
        }
        Object result2 = Test.invokeContinuationMethod(memberDetailController, conti2);       
        memberDetailController.selectPrimaryPhysician();
        memberDetailController.getNoOfMemAlert();
        memberDetailController.getMemberCaseHistory();
        PageReference pageRef = Page.ACETMemberSearch;
        Test.setCurrentPage(pageRef);        
    
       MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', ACETTestDataUtility.UpdateIndividualJSON());
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        
       
        
        ApexPages.currentPage().getParameters().put('scr','12345');   
        ApexPages.currentPage().getParameters().put('ssn','1231231234'); 
        ApexPages.currentPage().getParameters().put('currentpcpId','123123');
        ApexPages.currentPage().getParameters().put('currentpcptype','OBGYN');
        ApexPages.currentPage().getParameters().put('currentpcpAssignmentType','Provider');
        ApexPages.currentPage().getParameters().put('currentpcpeffectiveEndDate','12/31/2017');
        ApexPages.currentPage().getParameters().put('currentpcpeffectiveStartDate','12/31/2017'); 
      //  ApexPages.currentPage().getParameters().put('mnf','1');
        
        
        //end of Update PCP OBGYN
        
        
        
       memberDetailController.UpdatePCPOBGYN(); 
      //  ACETWSCalloutResult calloutResult = new ACETWSCalloutResult();
      //  calloutResult = getFamilyMembers(memberDetailController.MemberDetail.MemberId,memberDetailController.MemberDetail);
        //memberDetailController.Originator = '0032100000MrAwv';
        Interaction__c inte1 = TestDataFactory.createInteraction();
        RecordType newRecord = [SELECT Id FROM RecordType WHERE Name = 'Person Account' and SObjectType = 'Account'];
        
        Account accountTest = new Account();
        accountTest.FirstName = 'Kelly';
        accountTest.LastName = 'Ruby';
        accountTest.EID__c = 'PIN';
        accountTest.EID__pc = 'PIN';
        accountTest.RecordTypeId = newRecord.Id;
        insert accountTest;

    Account acc = [SELECT Id,personcontactid from Account where Id=:accountTest.Id];
        Contact con = [SELECT Id,LastName,FirstName,EID__c,AccountId from Contact where Id=:acc.personcontactid];
        
   //     originatorObj = ACETMemberQueryUtil.con();
   //     memberDetailController.changeOriginator(); 
        memberDetailController.RedirectToRestrictedPage();    
        memberDetailController.clearDetail();

        Test.stopTest();
     }        
     */
     private static testMethod void memberDetailHoldRestrictions(){
        
        String MemberId='12345';
         Map<String, String> mapISLWSConfigs = new Map<String, String>(); 
            mapISLWSConfigs.put('ISLConAccessToken', 'e9b3f2b1-8863-49ec-9ff8-40da25961ef5');
            mapISLWSConfigs.put('OILHttpHeaderAccept', 'application/json;charset=UTF-8');
            mapISLWSConfigs.put('OILHttpHeaderActor', 'ACET');
            mapISLWSConfigs.put('OILHttpHeaderScope', 'read');
            mapISLWSConfigs.put('ISLOAuthContentType', 'application/x-www-form-urlencoded');
            mapISLWSConfigs.put('ISLOAuthGrantType', 'client_credentials');
            mapISLWSConfigs.put('dev_ISLOAuthClientId', 'ISLStageConClientId');
            mapISLWSConfigs.put('dev_ISLOAuthClientSecret', 'ISLStageConClientSecret');
            mapISLWSConfigs.put('dev_ISLOAuthEndpoint', 'https://api-stg.optum.com:8443');
             mapISLWSConfigs.put('dev_GetFamilyMembersEndpoint', '/api/alpha/eisl/individuals/familymembership/v2.0/read');           
            mapISLWSConfigs.put('OILTimeout', '3000'); 
           
        List<ISL_Webservice_Config__c> lstISLWSConfigs = ACETTestDataUtility.CreateISLWebserviceConfigurations(mapISLWSConfigs);
        ACETMemberDetail md = new ACETMemberDetail();
        md.FirstName = 'Prakash';
        md.LastName = 'Swain';
        md.DOB = '1/1/1991';
        md.PreferredCoverage = new ACETMemberDetail.CoverageLine();
        md.PreferredCoverage.groupNumber = '1000255';
        md.CoverageLines = null;
        ApexPages.currentPage().getParameters().put('additionalInfo', json.serialize(md));
       
       // insert lstISLWSConfigs;
        MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', '{"selectHoldRestrictionsResponse":{"selectHoldRestrictions":{"holdList":[{"holdCode":"EDIACD","holdDescription":"Prevent Elig update","effectiveDate":"2019-03-04","expirationDate":"2019-03-14","holdNote":"This is testing the length of the notes box. This is testing the length of the notes box. This is testing the length of the notes box. This is testing the length of the notes box. This is testing the length of the notes box. This is testing the length of the notes","holdRestriction":["Hold Eligibility","Hold Claim Adjudication"],"holdLevel":"Member"},{"holdCode":"MGCO","holdDescription":"Member Group Contract Option is on hold","effectiveDate":"2019-01-09","expirationDate":"9999-12-31","holdNote":"","holdRestriction":["Hold Claim Adjudication"],"holdLevel":"Contract Option"},{"holdCode":"MGCPO","holdDescription":"Member Group Contract Plan Option is on hold","effectiveDate":"2019-01-09","expirationDate":"2019-07-31","holdNote":"","holdRestriction":["Hold Claim Adjudication"],"holdLevel":"Plan Option"},{"holdCode":"EDIACD","holdDescription":"Prevent Elig update","effectiveDate":"2019-01-09","expirationDate":"2019-07-31","holdNote":"","holdRestriction":["Hold Eligibility","Hold Claim Adjudication"],"holdLevel":"Plan Option"},{"holdCode":"FULFIL","holdDescription":"Hold Fulfillment","effectiveDate":"2019-01-09","expirationDate":"2019-07-31","holdNote":"","holdRestriction":["Hold Fulfillment"],"holdLevel":"Plan Option"},{"holdCode":"EDIACD","holdDescription":"Prevent Elig update","effectiveDate":"2019-01-09","expirationDate":"2019-07-31","holdNote":"","holdRestriction":["Hold Eligibility","Hold Claim Adjudication"],"holdLevel":"Plan Option"},{"holdCode":"CONTRB","holdDescription":"Prevent Contributions","effectiveDate":"2019-01-09","expirationDate":"2019-07-31","holdNote":"","holdRestriction":["Hold Claim Adjudication"],"holdLevel":"Plan Option"},{"holdCode":"IDCARD","holdDescription":"Hold ID Card","effectiveDate":"2019-02-19","expirationDate":"9999-12-31","holdNote":"","holdRestriction":["Hold ID Card"],"holdLevel":"Group"},{"holdCode":"FULFIL","holdDescription":"Hold Fulfillment","effectiveDate":"2019-02-19","expirationDate":"9999-12-31","holdNote":"","holdRestriction":["Hold Fulfillment"],"holdLevel":"Group"}]}}},"pagination":{"pageNumber":"1","pageSize":"5","recordCount":"1","totalCount":"1","totalPages":"1"}}}');
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);  
        
        Test.startTest();
        ACETWSCalloutResult calloutResult = new ACETWSCalloutResult();
        ACETMemberDetail memberDetail = new ACETMemberDetail();
        memberDetail.PreferredCoverage =  new ACETMemberDetail.CoverageLine();
        memberDetail.PreferredCoverage.SurrogateKey = '123';
        memberDetail.PreferredCoverage.groupNumber = '1234';
        memberDetail.PreferredCoverage.effectiveDate = '1/1/2015';
        memberDetail.PreferredCoverage.contractOptionId = '12345';
        memberDetail.PreferredCoverage.continuationResponsibilityType = 'test';
        memberDetail.PreferredCoverage.insuranceContinuationType = 'test';
        memberDetail.PreferredCoverage.Network = 'test';
        memberDetail.PreferredCoverage.FundingArrangement = 'test';
        memberDetail.PreferredCoverage.PlanSitusState = 'test';
        memberDetail.TerminationDate = Date.valueOf('2015-01-01');
        memberDetail.DateOfEmployment = Date.valueOf('2015-01-01');
        memberDetail.EmploymentStatus = 'test';
        memberDetail.ClaimAddressline1 = 'test';
        memberDetail.ClaimAddressline2 = 'test';
        memberDetail.ClaimAddresscity = 'test';
        memberDetail.ClaimAddressstate = 'test';
        memberDetail.ClaimAddresspostalCode = 'test';
        memberDetail.ClaimAddresscountyCode = 'test';
        memberDetail.coverageGroupContractOptionId = 'test';
        memberDetail.coverageGroupContractOptionEffDate = 'test';
        memberDetail.coverageGroupContractOptionStatus = 'test';
        memberDetail.coverageGroupContractOptionFilterStatus = 'test';
        memberDetail.cobraAdministrativeIndicator = 'test';
        memberDetail.onshoreRestriction = 'test';
        memberDetail.MemberStatusLogs = new List<ACETMemberDetail.statusLog>();
        ACETMemberDetail.statusLog statLog = new ACETMemberDetail.statusLog();
        statLog.StatusAction = true;
        statLog.EffectiveDate = Date.valueOf('2015-01-01');
        statLog.ChangedOn = Date.valueOf('2015-01-01');
        statLog.Changedby = 'test';
        statLog.Reason = 'test';
        statLog.Operationinitiatedby = 'test';
        memberDetail.MemberStatusLogs.add(statLog);
        memberDetail.lstCOB = new List<ACETMemberDetail.COB>();
        ACETMemberDetail.COB coord = new ACETMemberDetail.COB();
        coord.medicareEntitlementType = 'test';
        coord.EntitlementReason = 'test';
        coord.PartAStart = Date.valueOf('2015-01-01');
        coord.PartBStart = Date.valueOf('2015-01-01');
        coord.PartDStart = Date.valueOf('2015-01-01');
        coord.PartAEnd = Date.valueOf('2015-01-01');
        coord.PartBEnd = Date.valueOf('2015-01-01');
        coord.PartDEnd = Date.valueOf('2015-01-01');
        coord.otherInsuranceCardholderId = 'test';
        memberDetail.lstCOB.add(coord);
        memberDetail.FamilyMembers = new list<ACETMemberDetail.FamilyMember>();
        ACETMemberDetail.FamilyMember famMem = new ACETMemberDetail.FamilyMember();
        famMem.effectiveDate = Date.valueOf('2015-01-01');
        famMem.termDate = Date.valueOf('2015-01-01');
        famMem.reinstDate = Date.valueOf('2015-01-01');
        famMem.CoverageStatus = 'test';
        memberDetail.FamilyMembers.add(famMem);
        memberDetail.EligibilityCoverage = new ACETMemberDetail.MemberEligibilityCoverage();
        memberDetail.EligibilityCoverage.coverageType = 'test';
        memberDetail.EligibilityCoverage.groupNumber = 'test';
        memberDetail.EligibilityCoverage.benefitPlanId = 'test';
        memberDetail.EligibilityCoverage.effectivedate = 'test';
        memberDetail.EligibilityCoverage.endDate = 'test';
        memberDetail.onshore = 'test';
        memberDetail.ROIcontacts = new List<ACETMemberDetail.otherContact>();
        ACETMemberDetail.otherContact othCon = new ACETMemberDetail.otherContact();
        othCon.ContactStatus = true;
        othCon.effectiveDate = 'test';
        othCon.terminationDate = 'test';
        memberDetail.ROIcontacts.add(othCon);
        memberDetail.CoverageLevel = 'test';
        memberDetail.Surrogatekey='123';
        ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
        memberDetailController.memberDetail = memberDetail;
        memberDetailController.init();
        memberDetailController.showHoldCode();
        memberDetailController.hideHoldCode();
        memberDetailController.callHoldRestrictions();
        Test.stopTest();
        system.debug('calloutResult'+ calloutResult);
        
     } 
    /* private static testMethod void testContinuation1TermedCoverage14() {
     
     Test.startTest();
     setTestData('Other');
      ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
      //memberDetailController.changeOriginator();
      memberDetailController.getloggedinProfileName();
        Continuation conti = (Continuation)memberDetailController.CallWSonPageLoad();
        Map<String, HttpRequest> requests = conti.getRequests();
        memberDetailController.IsGroupFlow = true;
        Interaction__c inte = TestDataFactory.createInteraction();
        inte.Originator_Type__c = 'Other';
        inte.Highlight_Panel_GroupInfo__c = '';
        update inte;
                
         
        ApexPages.currentPage().getParameters().put('InteractionId',inte.id);
      //  ApexPages.currentPage().getParameters().put('IsMember ','true');
      //  ApexPages.currentPage().getParameters().put('isFromProducer','true'); 
     //   ApexPages.currentPage().getParameters().put('familyRelationshipCheck','1');
        HttpResponse response;
        HttpRequest request;
        
        for(String RequestLabel: requests.keyset()){
            request = requests.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug('2323request'+ request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/v2.0/read')) {
                system.debug('2323inside GetIndividualService');
                response.setBody('{"getIndividualResponse":{"individual":{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","holdEligInd":"false","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"phone":[{}],"email":[{}],"employment":[{"employmentStatus":"B","employeeIdentifier":"","employmentStartDate":"2017-01-01","retirementDate":"9999-12-31"}],"language":[{}],"otherContact":[{}],"dependentDisabilityList":[{}],"identifiers":[{"id":"637882060","type":"SRK"}]}}}');
                system.debug('1response'+response);
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v2.0/search')) {
                system.debug('2323inside findMembershipsResponse');
                               response.setBody('{ "findMembershipsResponse": { "memberships": [ { "sourceSysCode": "CR", "coverages": [ { "subscriberSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "subscriberSystemID" }, { "id": "553079244", "type": "subscriberIndividualIdentifier" }, { "id": "713855694", "type": "subscriberSurrogateKey" } ], "groupNumber": "1058476", "groupName": "INGERSOLL AUTO", "membershipEffectiveDate": "2017-12-01", "membershipExpirationDate": "2019-01-31", "coverageType": "M", "coverageTypeDescription": "MEDICAL", "coverageLevelCode": "EMP", "product": { "productIdentifier": "PM00000020", "productName": "OHP HMO Non-Gated", "productType": "" }, "benefit": { "benefitPlanId": "MNS0000007", "GUID":"123ed", "benefitPlanName": "CT FREEDOM 30/50/2500/100 SMART HMO HSA", "planOptionID": "70501", "riderOnlyIndicator": "N", "customerPurchase": [ { "customerPurchaseId": "20501-1008477-1824024-70501" }, { "customerPurchaseId": "20501-1008477-20501-70501" } ], "bookOfBusinessTypeCode": "OX", "bookOfBusinessTypeDescription": "Oxford" }, "relationshipCode": "18", "privacyIndicator": "N", "relationshipDescription": "Self", "legacyAttributes": { "eligibilitySystemTypeCode": "CR", "claimSystemTypeCode": "CR" } }, { "subscriberSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "subscriberSystemID" }, { "id": "553079244", "type": "subscriberIndividualIdentifier" }, { "id": "713855694", "type": "subscriberSurrogateKey" } ], "groupNumber": "1058476", "groupName": "INGERSOLL AUTO", "membershipEffectiveDate": "2017-12-01", "membershipExpirationDate": "2019-01-31", "coverageType": "RX", "coverageTypeDescription": "PHARMACY", "coverageLevelCode": "", "product": { "productIdentifier": "PR00000001", "productName": "Pharmacy", "productType": "" }, "benefit": { "benefitPlanId": "RX00000140", "GUID":"123ed", "benefitPlanName": "LG $5/$25/$40 - HSA", "planOptionID": "70501", "riderOnlyIndicator": "Y", "customerPurchase": [ { "customerPurchaseId": "20501-1008477-1824024-70501" }, { "customerPurchaseId": "20501-1008477-20501-70501" } ], "bookOfBusinessTypeCode": "OX", "bookOfBusinessTypeDescription": "Oxford" }, "relationshipCode": "18", "privacyIndicator": "N", "relationshipDescription": "Self", "legacyAttributes": { "eligibilitySystemTypeCode": "CR", "claimSystemTypeCode": "CR" } } ], "identifiers": [ { "id": "21245904700", "type": "MCH" }, { "id": "21245904700", "type": "SCR" } ], "enrolleeSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "enrolleeSystemID" }, { "id": "553079244", "type": "enrolleeIndividualIdentifier" }, { "id": "713855694", "type": "enrolleeSurrogateKey" } ] } ], "pagination": { "pageNumber": "1", "pageSize": "50", "recordCount": "1", "totalCount": "1", "totalPages": "1" } } }');

               // response.setBody('{"findMembershipsResponse":{"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO HSA","productType":""},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"D","coverageTypeDescription":"DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO HSA","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":""},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"11593523700","type":"MCH"},{"id":"11593523700","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000604013","type":"enrolleeSystemID"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}],"pagination":{"pageNumber":"1","pageSize":"5","recordCount":"1","totalCount":"1","totalPages":"1"}}}');
                system.debug('2response'+response);
            }  
             
            system.debug('2323response'+response.getBody());
            system.debug('RequestLabel >>> '+RequestLabel);
            Test.setContinuationResponse(RequestLabel, response); 
        }
        
        Object result = Test.invokeContinuationMethod(memberDetailController, conti);
        //memberDetailController.MemberDetail.BundleOptionID = '1018480';
        //memberDetailController.MemberDetail.BenefitPlanId = 'M000000745';
        system.debug('memberDetailController.MemberDetail >>> '+memberDetailController.MemberDetail);
          
          memberDetailController.toggleShowCoverages();
          if(memberDetailController.MemberDetail.CoverageLines[1] != null){
          memberDetailController.ProferredCoverageGUID = memberDetailController.MemberDetail.CoverageLines[1].guid;     
               }
          memberDetailController.selectPreferredCoverage();       
          
          
          //call get membership function
          Continuation conti2 = (Continuation)memberDetailController.CallGetMembership();
          if(conti2 != null){
           Map<String, HttpRequest> requests2 = conti2.getRequests();
            system.debug('requests2 >> '+requests2);
        for(String RequestLabel: requests2.keyset()){
            request = requests2.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug(RequestLabel +' :: '+request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v3.0/read')) {
                system.debug('2323inside GetmemberShip');
                response.setBody('{"getMembershipResponse":{"membership":{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"637882060","type":"enrolleeSurrogateKey"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifer"},{"id":"637882060","type":"subscriberSurrogateKey"}]}}}');                
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/familymembership/v2.0/read')) {
                response.setBody('{"getFamilyMembershipResponse":{"individual":[{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"identifiers":[],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"clinicalProgram":[],"identifiers":[{"id":"474346629","type":"enrolleeEID"},{"id":"100000604013","type":"subscriberSystemId"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"637882060","type":"subscriberSurrogateKey"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}]}]}}');
            }else if(request.getEndpoint().contains('/api/alpha/eisl/organizations/employergroups/v3.0/read')){
                
                response.setBody('{"getEmployerGroup": {"getEmployerGroupResponse": {"employerGroup": {   "groupNumber": "1058476",   "groupName": "AZCAT ASSOCIATES, LLC",   "sourceSysCode": "CIRRUS",   "taxIdentificationNumber": ["452569099"],   "cobraAdministrativeIndicator": "01",   "onshoreRestriction": "01",   "sizeDefinitionCode": "01",   "sizeDefinitionDescription": "Small Group",   "erisaIndicator": "1",   "employeeCounts":    [            {         "employeeCountDescription": "Full-Time-Equivalent",         "employeeCount": "3"      },            {         "employeeCountDescription": "Retired",         "employeeCount": "0"      },            {         "employeeCountDescription": "Other",         "employeeCount": "0"      },            {         "employeeCountDescription": "Total Count of Full Time Employees",         "employeeCount": "3"      },            {         "employeeCountDescription": "Average Number of Eligible Employees",         "employeeCount": "4"      },            {         "employeeCountDescription": "Part-Time",         "employeeCount": "1"      },            {         "employeeCountDescription": "Union Non-Eligible",         "employeeCount": "0"      },            {         "employeeCountDescription": "Union Eligible",         "employeeCount": "0"      }   ],   "groupAddress":    [            {         "salesOfficeCode": "339",         "salesOfficeDescription": "Hartford/oth"      },            {         "addressTypeCode": "PHY",         "addressTypeDescription": "Physical Address",         "addressLine1": "36 PHEASANT LANE",         "addressCity": "GREENWICH",         "addressPostalCode": "06830",         "addressStateCode": "CT",         "addressCountryCode": "US",         "addressCountryDescription": "United States of America"      }   ],   "groupContact":    [            {         "roleType": "1",         "roleDescription": "Benefit Administrator",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            },                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      },            {         "roleType": "2",         "roleDescription": "Billing Contact",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            },                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      }   ],   "groupSupportTeamContact": [   {      "serviceTeam": "ADAMS, JULIA",      "roleType": "DCSM",      "roleDescription": "Dedicated Client Service Manager",      "startDate": "2017-07-27",      "endDate": "9999-12-31",      "email": [      {         "communicationTypeCode": "EML",         "electronicAddress": "julia_adams@uhc.com"      }]   }],   "groupPopulation": [   {      "classesCode": "105847600001",      "classesDescription": "AZCAT_POPULATION",      "openEnrollmentPopulationClassStartDate": "2017-01-01",      "openEnrollmentPopulationClassEndDate": "2017-12-31"   }],   "customerAccount": [   {      "planBillingGroupNumber": "103",      "statusCode": "V",      "statusDescription": "Validation",      "startDate": "2017-01-01",      "renewalDate": "2018-10-01",      "terminationDate": "9999-12-31",      "customerAccountInsuringRules":       [                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "FOFM after Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "First of the Following Month (FOFM)",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Date of Event",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         }      ],      "customerPurchase": [      {         "memberGroupContractPlanOptionID": "10505",         "stateOfIssueCode": "CT",         "stateOfIssueDescription": "CONNECTICUT",         "fundingArrangementCode": "01",         "fundingArrangementDescription": "Fully Insured",         "coverageStartDate": "2017-01-01",         "coverageExpirationDate": "9999-12-31",         "benefitBundleOptionID": "1168476",         "openEnrollmentStartDate": "2017-01-01",         "openEnrollmentEndDate": "2017-12-31",         "timePeriodQualifier": "Contract Year",         "benefitBasePlan": "M000000743",         "benefitPlanDescription": "CTSM FREEEDOM Direct $25/40 ER$150 OP$15",         "gatedProductIndicator": "0",         "planMetallicLevel": "Platinum",         "lineOfBusiness":          [                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            }         ],         "networkScheduleId":          [            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS"         ],         "billingSchedule":          [                        {               "ratingMethodology": "01",               "contractTypeCode": "5",               "amount": "1731.30"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "4",               "amount": "1410.24"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "1",               "amount": "1544.18"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "2",               "amount": "1909.22"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "3",               "amount": "1102.15"            }         ]      }]   }]}}}}');
                //StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'Test_GetEmpResponse_Termed'];
                //String GetEmpGrpRes = GetDummyResp.Body.toString();
                //System.debug('HEREHERE GetEmpGrpRes testCont1 ' + GetEmpGrpRes);
                
               // response.setBody(GetEmpGrpRes);
            }        
            Test.setContinuationResponse(RequestLabel, response); 
        }
        }
        
        Object result2 = Test.invokeContinuationMethod(memberDetailController, conti2);       
        memberDetailController.selectPrimaryPhysician();
        memberDetailController.getNoOfMemAlert();
        memberDetailController.getDisplayCallTopicOptions();
        memberDetailController.refreshSection();
        memberDetailController.getMemberCaseHistory();
        PageReference pageRef = Page.ACETMemberSearch;
        Test.setCurrentPage(pageRef);        
    
       MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', ACETTestDataUtility.UpdateIndividualJSON());
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        


    //    Interaction__c inte1 = TestDataFactory.createInteraction();
        RecordType newRecord = [SELECT Id FROM RecordType WHERE Name = 'Person Account' and SObjectType = 'Account'];
        
        Account accountTest = new Account();
        accountTest.FirstName = 'Kelly';
        accountTest.LastName = 'Ruby';
        accountTest.EID__c = 'PIN';
        accountTest.EID__pc = 'PIN';
        accountTest.RecordTypeId = newRecord.Id;
        insert accountTest;

    Account acc = [SELECT Id,personcontactid from Account where Id=:accountTest.Id];
        Contact con = [SELECT Id,LastName,FirstName,EID__c,AccountId from Contact where Id=:acc.personcontactid];
        memberDetailController.RedirectToRestrictedPage();    
        memberDetailController.clearDetail();

        Test.stopTest();
     }   
     
     private static testMethod void testContinuation1TermedCoverage20() {
     
     Test.startTest();
     setTestData('Other');
      ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
      //memberDetailController.changeOriginator();
      memberDetailController.getloggedinProfileName();
        Continuation conti = (Continuation)memberDetailController.CallWSonPageLoad();
        Map<String, HttpRequest> requests = conti.getRequests();
       // memberDetailController.IsGroupFlow = true;
         
        
        Interaction__c inte = TestDataFactory.createInteraction();
        inte.Originator_Type__c = 'Other';
        inte.Highlight_Panel_GroupInfo__c = '';
        update inte;  
         
        ApexPages.currentPage().getParameters().put('InteractionId',inte.id);
     
     

        HttpResponse response;
        HttpRequest request;
        
        for(String RequestLabel: requests.keyset()){
            request = requests.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug('2323request'+ request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/v2.0/read')) {
                system.debug('2323inside GetIndividualService');
                response.setBody('{"getIndividualResponse":{"individual":{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","holdEligInd":"false","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"phone":[{}],"email":[{}],"employment":[{"employmentStatus":"B","employeeIdentifier":"","employmentStartDate":"2017-01-01","retirementDate":"9999-12-31"}],"language":[{}],"otherContact":[{}],"dependentDisabilityList":[{}],"identifiers":[{"id":"637882060","type":"SRK"}]}}}');
                system.debug('1response'+response);
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v2.0/search')) {
                system.debug('2323inside findMembershipsResponse');
                               response.setBody('{ "findMembershipsResponse": { "memberships": [ { "sourceSysCode": "CR", "coverages": [ { "subscriberSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "subscriberSystemID" }, { "id": "553079244", "type": "subscriberIndividualIdentifier" }, { "id": "713855694", "type": "subscriberSurrogateKey" } ], "groupNumber": "1058476", "groupName": "INGERSOLL AUTO", "membershipEffectiveDate": "2017-12-01", "membershipExpirationDate": "2019-01-31", "coverageType": "M", "coverageTypeDescription": "MEDICAL", "coverageLevelCode": "EMP", "product": { "productIdentifier": "PM00000020", "productName": "OHP HMO Non-Gated", "productType": "" }, "benefit": { "benefitPlanId": "MNS0000007", "GUID":"123ed", "benefitPlanName": "CT FREEDOM 30/50/2500/100 SMART HMO HSA", "planOptionID": "70501", "riderOnlyIndicator": "N", "customerPurchase": [ { "customerPurchaseId": "20501-1008477-1824024-70501" }, { "customerPurchaseId": "20501-1008477-20501-70501" } ], "bookOfBusinessTypeCode": "OX", "bookOfBusinessTypeDescription": "Oxford" }, "relationshipCode": "18", "privacyIndicator": "N", "relationshipDescription": "Self", "legacyAttributes": { "eligibilitySystemTypeCode": "CR", "claimSystemTypeCode": "CR" } }, { "subscriberSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "subscriberSystemID" }, { "id": "553079244", "type": "subscriberIndividualIdentifier" }, { "id": "713855694", "type": "subscriberSurrogateKey" } ], "groupNumber": "1058476", "groupName": "INGERSOLL AUTO", "membershipEffectiveDate": "2017-12-01", "membershipExpirationDate": "2019-01-31", "coverageType": "RX", "coverageTypeDescription": "PHARMACY", "coverageLevelCode": "", "product": { "productIdentifier": "PR00000001", "productName": "Pharmacy", "productType": "" }, "benefit": { "benefitPlanId": "RX00000140", "GUID":"123ed", "benefitPlanName": "LG $5/$25/$40 - HSA", "planOptionID": "70501", "riderOnlyIndicator": "Y", "customerPurchase": [ { "customerPurchaseId": "20501-1008477-1824024-70501" }, { "customerPurchaseId": "20501-1008477-20501-70501" } ], "bookOfBusinessTypeCode": "OX", "bookOfBusinessTypeDescription": "Oxford" }, "relationshipCode": "18", "privacyIndicator": "N", "relationshipDescription": "Self", "legacyAttributes": { "eligibilitySystemTypeCode": "CR", "claimSystemTypeCode": "CR" } } ], "identifiers": [ { "id": "21245904700", "type": "MCH" }, { "id": "21245904700", "type": "SCR" } ], "enrolleeSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "enrolleeSystemID" }, { "id": "553079244", "type": "enrolleeIndividualIdentifier" }, { "id": "713855694", "type": "enrolleeSurrogateKey" } ] } ], "pagination": { "pageNumber": "1", "pageSize": "50", "recordCount": "1", "totalCount": "1", "totalPages": "1" } } }');

               // response.setBody('{"findMembershipsResponse":{"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO HSA","productType":""},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"D","coverageTypeDescription":"DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO HSA","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":""},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"11593523700","type":"MCH"},{"id":"11593523700","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000604013","type":"enrolleeSystemID"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}],"pagination":{"pageNumber":"1","pageSize":"5","recordCount":"1","totalCount":"1","totalPages":"1"}}}');
                system.debug('2response'+response);
            }  
             
            system.debug('2323response'+response.getBody());
            system.debug('RequestLabel >>> '+RequestLabel);
            Test.setContinuationResponse(RequestLabel, response); 
        }
        
        Object result = Test.invokeContinuationMethod(memberDetailController, conti);
        //memberDetailController.MemberDetail.BundleOptionID = '1018480';
        //memberDetailController.MemberDetail.BenefitPlanId = 'M000000745';
        system.debug('memberDetailController.MemberDetail >>> '+memberDetailController.MemberDetail);
          
          memberDetailController.toggleShowCoverages();
          
          memberDetailController.ProferredCoverageGUID = memberDetailController.MemberDetail.CoverageLines[1].guid;     
               
          memberDetailController.selectPreferredCoverage();       
          
          
          //call get membership function
          Continuation conti2 = (Continuation)memberDetailController.CallGetMembership();
           Map<String, HttpRequest> requests2 = conti2.getRequests();
            system.debug('requests2 >> '+requests2);
        for(String RequestLabel: requests2.keyset()){
            request = requests2.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug(RequestLabel +' :: '+request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v3.0/read')) {
                system.debug('2323inside GetmemberShip');
                response.setBody('{"getMembershipResponse":{"membership":{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"637882060","type":"enrolleeSurrogateKey"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifer"},{"id":"637882060","type":"subscriberSurrogateKey"}]}}}');                
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/familymembership/v2.0/read')) {
                response.setBody('{"getFamilyMembershipResponse":{"individual":[{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"identifiers":[],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"clinicalProgram":[],"identifiers":[{"id":"474346629","type":"enrolleeEID"},{"id":"100000604013","type":"subscriberSystemId"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"637882060","type":"subscriberSurrogateKey"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}]}]}}');
            }else if(request.getEndpoint().contains('/api/test/cdm/cust/c360/customer-purchases/v2.0')) {
                response.setBody('{"customerPurchase":[{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-1824024-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"8","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2018-12-01","contractOptionExpiryDate":"2019-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]},{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-20501-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2017-12-01","contractOptionExpiryDate":"2018-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]}]}');
            }
            else if(request.getEndpoint().contains('/api/alpha/eisl/organizations/employergroups/v3.0/read')){
                
                response.setBody('{"getEmployerGroup": {"getEmployerGroupResponse": {"employerGroup": {   "groupNumber": "1058476",   "groupName": "AZCAT ASSOCIATES, LLC",   "sourceSysCode": "CIRRUS",   "taxIdentificationNumber": ["452569099"],   "cobraAdministrativeIndicator": "01",   "onshoreRestriction": "01",   "sizeDefinitionCode": "01",   "sizeDefinitionDescription": "Small Group",   "erisaIndicator": "1",   "employeeCounts":    [            {         "employeeCountDescription": "Full-Time-Equivalent",         "employeeCount": "3"      },            {         "employeeCountDescription": "Retired",         "employeeCount": "0"      },            {         "employeeCountDescription": "Other",         "employeeCount": "0"      },            {         "employeeCountDescription": "Total Count of Full Time Employees",         "employeeCount": "3"      },            {         "employeeCountDescription": "Average Number of Eligible Employees",         "employeeCount": "4"      },            {         "employeeCountDescription": "Part-Time",         "employeeCount": "1"      },            {         "employeeCountDescription": "Union Non-Eligible",         "employeeCount": "0"      },            {         "employeeCountDescription": "Union Eligible",         "employeeCount": "0"      }   ],   "groupAddress":    [            {         "salesOfficeCode": "339",         "salesOfficeDescription": "Hartford/oth"      },            {         "addressTypeCode": "PHY",         "addressTypeDescription": "Physical Address",         "addressLine1": "36 PHEASANT LANE",         "addressCity": "GREENWICH",         "addressPostalCode": "06830",         "addressStateCode": "CT",         "addressCountryCode": "US",         "addressCountryDescription": "United States of America"      }   ],   "groupContact":    [            {         "roleType": "1",         "roleDescription": "Benefit Administrator",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            },                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      },            {         "roleType": "2",         "roleDescription": "Billing Contact",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            },                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      }   ],   "groupSupportTeamContact": [   {      "serviceTeam": "ADAMS, JULIA",      "roleType": "DCSM",      "roleDescription": "Dedicated Client Service Manager",      "startDate": "2017-07-27",      "endDate": "9999-12-31",      "email": [      {         "communicationTypeCode": "EML",         "electronicAddress": "julia_adams@uhc.com"      }]   }],   "groupPopulation": [   {      "classesCode": "105847600001",      "classesDescription": "AZCAT_POPULATION",      "openEnrollmentPopulationClassStartDate": "2017-01-01",      "openEnrollmentPopulationClassEndDate": "2017-12-31"   }],   "customerAccount": [   {      "planBillingGroupNumber": "103",      "statusCode": "V",      "statusDescription": "Validation",      "startDate": "2017-01-01",      "renewalDate": "2018-10-01",      "terminationDate": "9999-12-31",      "customerAccountInsuringRules":       [                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "FOFM after Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "First of the Following Month (FOFM)",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Date of Event",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         }      ],      "customerPurchase": [      {         "memberGroupContractPlanOptionID": "10505",         "stateOfIssueCode": "CT",         "stateOfIssueDescription": "CONNECTICUT",         "fundingArrangementCode": "01",         "fundingArrangementDescription": "Fully Insured",         "coverageStartDate": "2017-01-01",         "coverageExpirationDate": "9999-12-31",         "benefitBundleOptionID": "1168476",         "openEnrollmentStartDate": "2017-01-01",         "openEnrollmentEndDate": "2017-12-31",         "timePeriodQualifier": "Contract Year",         "benefitBasePlan": "M000000743",         "benefitPlanDescription": "CTSM FREEEDOM Direct $25/40 ER$150 OP$15",         "gatedProductIndicator": "0",         "planMetallicLevel": "Platinum",         "lineOfBusiness":          [                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            }         ],         "networkScheduleId":          [            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS"         ],         "billingSchedule":          [                        {               "ratingMethodology": "01",               "contractTypeCode": "5",               "amount": "1731.30"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "4",               "amount": "1410.24"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "1",               "amount": "1544.18"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "2",               "amount": "1909.22"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "3",               "amount": "1102.15"            }         ]      }]   }]}}}}');
                //StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'Test_GetEmpResponse_Termed'];
                //String GetEmpGrpRes = GetDummyResp.Body.toString();
                //System.debug('HEREHERE GetEmpGrpRes testCont1 ' + GetEmpGrpRes);
                
               // response.setBody(GetEmpGrpRes);
            }        
            Test.setContinuationResponse(RequestLabel, response); 
        }
        
        
        Object result2 = Test.invokeContinuationMethod(memberDetailController, conti2);       
        memberDetailController.selectPrimaryPhysician();
        memberDetailController.getNoOfMemAlert();
        memberDetailController.getDisplayCallTopicOptions();
        memberDetailController.refreshSection();
        memberDetailController.getMemberCaseHistory();
        PageReference pageRef = Page.ACETMemberSearch;
        Test.setCurrentPage(pageRef);        
    
       MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', ACETTestDataUtility.UpdateIndividualJSON());
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        

     
        ApexPages.currentPage().getParameters().put('RelationshipType','Self'); 
        ApexPages.currentPage().getParameters().put('%22Relationship%','Self'); 
       
        Account acc = ACETTestDataUtility.createAccount('testName');
        insert acc;
                
        Contact con = ACETTestDataUtility.createContact(acc.id, 'Kelly', 'Ruby');            
        insert con;
        memberDetailController.Originator = con.id;   
        Third_Party__c tp = new Third_Party__c();
        tp.First_Name__c = 'Test FN';
        tp.LastName__c = 'Test LN';
        tp.Phone_Number__c  = '1234567892';
        tp.Producer_Name__c = 'P Name';
        tp.Employer_Name__c = 'E Name';
        insert tp;  
               
        inte.Highlight_Panel_GroupInfo__c = '';
        inte.Originator_Type__c = 'Other';
        inte.Third_Party__c = tp.id;
        update inte;                
          
                   
        memberDetailController.changeOriginator();    
       memberDetailController.addTPtoOriginator();
       
      
        Test.stopTest();
     } 
        
     
private static testMethod void testContinuation1TermedCoverage21() {
     
     Test.startTest();
     setTestData('Other');
      ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
      //memberDetailController.changeOriginator();
      memberDetailController.getloggedinProfileName();
        Continuation conti = (Continuation)memberDetailController.CallWSonPageLoad();
        Map<String, HttpRequest> requests = conti.getRequests();
       // memberDetailController.IsGroupFlow = true;
         
        
        Interaction__c inte = TestDataFactory.createInteraction();
        inte.Originator_Type__c = 'Member';
        inte.Highlight_Panel_GroupInfo__c = '';
        update inte;  
         
        ApexPages.currentPage().getParameters().put('InteractionId',inte.id);

        HttpResponse response;
        HttpRequest request;
        
        for(String RequestLabel: requests.keyset()){
            request = requests.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug('2323request'+ request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/v2.0/read')) {
                system.debug('2323inside GetIndividualService');
                response.setBody('{"getIndividualResponse":{"individual":{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","holdEligInd":"false","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"phone":[{}],"email":[{}],"employment":[{"employmentStatus":"B","employeeIdentifier":"","employmentStartDate":"2017-01-01","retirementDate":"9999-12-31"}],"language":[{}],"otherContact":[{}],"dependentDisabilityList":[{}],"identifiers":[{"id":"637882060","type":"SRK"}]}}}');
                system.debug('1response'+response);
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v2.0/search')) {
                system.debug('2323inside findMembershipsResponse');
                               response.setBody('{ "findMembershipsResponse": { "memberships": [ { "sourceSysCode": "CR", "coverages": [ { "subscriberSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "subscriberSystemID" }, { "id": "553079244", "type": "subscriberIndividualIdentifier" }, { "id": "713855694", "type": "subscriberSurrogateKey" } ], "groupNumber": "1058476", "groupName": "INGERSOLL AUTO", "membershipEffectiveDate": "2017-12-01", "membershipExpirationDate": "2019-01-31", "coverageType": "M", "coverageTypeDescription": "MEDICAL", "coverageLevelCode": "EMP", "product": { "productIdentifier": "PM00000020", "productName": "OHP HMO Non-Gated", "productType": "" }, "benefit": { "benefitPlanId": "MNS0000007", "GUID":"123ed", "benefitPlanName": "CT FREEDOM 30/50/2500/100 SMART HMO HSA", "planOptionID": "70501", "riderOnlyIndicator": "N", "customerPurchase": [ { "customerPurchaseId": "20501-1008477-1824024-70501" }, { "customerPurchaseId": "20501-1008477-20501-70501" } ], "bookOfBusinessTypeCode": "OX", "bookOfBusinessTypeDescription": "Oxford" }, "relationshipCode": "18", "privacyIndicator": "N", "relationshipDescription": "Self", "legacyAttributes": { "eligibilitySystemTypeCode": "CR", "claimSystemTypeCode": "CR" } }, { "subscriberSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "subscriberSystemID" }, { "id": "553079244", "type": "subscriberIndividualIdentifier" }, { "id": "713855694", "type": "subscriberSurrogateKey" } ], "groupNumber": "1058476", "groupName": "INGERSOLL AUTO", "membershipEffectiveDate": "2017-12-01", "membershipExpirationDate": "2019-01-31", "coverageType": "RX", "coverageTypeDescription": "PHARMACY", "coverageLevelCode": "", "product": { "productIdentifier": "PR00000001", "productName": "Pharmacy", "productType": "" }, "benefit": { "benefitPlanId": "RX00000140", "GUID":"123ed", "benefitPlanName": "LG $5/$25/$40 - HSA", "planOptionID": "70501", "riderOnlyIndicator": "Y", "customerPurchase": [ { "customerPurchaseId": "20501-1008477-1824024-70501" }, { "customerPurchaseId": "20501-1008477-20501-70501" } ], "bookOfBusinessTypeCode": "OX", "bookOfBusinessTypeDescription": "Oxford" }, "relationshipCode": "18", "privacyIndicator": "N", "relationshipDescription": "Self", "legacyAttributes": { "eligibilitySystemTypeCode": "CR", "claimSystemTypeCode": "CR" } } ], "identifiers": [ { "id": "21245904700", "type": "MCH" }, { "id": "21245904700", "type": "SCR" } ], "enrolleeSystemSpecificIdentifiers": [ { "id": "100003035750", "type": "enrolleeSystemID" }, { "id": "553079244", "type": "enrolleeIndividualIdentifier" }, { "id": "713855694", "type": "enrolleeSurrogateKey" } ] } ], "pagination": { "pageNumber": "1", "pageSize": "50", "recordCount": "1", "totalCount": "1", "totalPages": "1" } } }');

              //  response.setBody('{"findMembershipsResponse":{"memberships":[{"sourceSysCode":"CR","coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","coverageLevelCode":"","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision","productType":""},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO HSA","productType":""},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"D","coverageTypeDescription":"DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO HSA","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":""},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","coverageLevelCode":"","product":{"productIdentifier":"PR00000001","productName":"Pharmacy","productType":""},"benefit":{"benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2018-01-01","membershipExpirationDate":"2018-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}},{"subscriberSystemSpecificIdentifiers":[{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifier"},{"id":"637882060","type":"subscriberSurrogateKey"}],"groupNumber":"4061353","groupName":"Small 20180817060629","membershipEffectiveDate":"2019-01-01","membershipExpirationDate":"2019-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","coverageLevelCode":"","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental","productType":""},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01"},"relationshipCode":"18","relationshipDescription":"Self","privacyIndicator":"","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR"}}],"identifiers":[{"id":"11593523700","type":"MCH"},{"id":"11593523700","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100000604013","type":"enrolleeSystemID"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}],"pagination":{"pageNumber":"1","pageSize":"5","recordCount":"1","totalCount":"1","totalPages":"1"}}}');
                system.debug('2response'+response);
            }  
             
            system.debug('2323response'+response.getBody());
            system.debug('RequestLabel >>> '+RequestLabel);
            Test.setContinuationResponse(RequestLabel, response); 
        }
        
        Object result = Test.invokeContinuationMethod(memberDetailController, conti);
        //memberDetailController.MemberDetail.BundleOptionID = '1018480';
        //memberDetailController.MemberDetail.BenefitPlanId = 'M000000745';
        system.debug('memberDetailController.MemberDetail >>> '+memberDetailController.MemberDetail);
          
          memberDetailController.toggleShowCoverages();
          if(memberDetailController.MemberDetail.CoverageLines != null){
          memberDetailController.ProferredCoverageGUID = memberDetailController.MemberDetail.CoverageLines[1].guid;     
            }   
          memberDetailController.selectPreferredCoverage();       
          memberDetailController.init();
          
          //call get membership function
          Continuation conti2 = (Continuation)memberDetailController.CallGetMembership();
          if(conti2 != null){
           Map<String, HttpRequest> requests2 = conti2.getRequests();
            system.debug('requests2 >> '+requests2);
        for(String RequestLabel: requests2.keyset()){
            request = requests2.get(RequestLabel);
            response = new HttpResponse();
            response.setStatusCode(200);
            response.setStatus('OK');
            system.debug(RequestLabel +' :: '+request);
            if(request.getEndpoint().contains('/api/alpha/eisl/individuals/membership/v3.0/read')) {
                system.debug('2323inside GetmemberShip');
                response.setBody('{"getMembershipResponse":{"membership":{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Pediatric Vision"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","networkScheduleID":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"identifiers":[{"id":"637882060","type":"enrolleeSurrogateKey"},{"id":"474346629","type":"enrolleeIndividualIdentifier"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"100000604013","type":"subscriberSystemID"},{"id":"474346629","type":"subscriberIndividualIdentifer"},{"id":"637882060","type":"subscriberSurrogateKey"}]}}}');                
            }      
            else if(request.getEndpoint().contains('/api/alpha/eisl/individuals/familymembership/v2.0/read')) {
                response.setBody('{"getFamilyMembershipResponse":{"individual":[{"individualIdentifier":"474346629","name":{"firstName":"Dana","lastName":"Johnsontest","middleName":"","nameSuffix":""},"birthDate":"1981-08-09","genderCode":"F","genderDescription":"Female","socialSecurityNumber":"435670555","privacyIndicator":"N","address":[{"typeCode":"HOM","addressLine1":"66 Oak st","addressLine2":"","city":"HARTFORD","postalCode":"06104","stateCode":"CT","countryCode":"US"}],"dependentDisabilityList":[{}],"identifiers":[],"membership":[{"sourceSysCode":"CR","coverages":[{"groupNumber":"4061353","groupName":"Small 20180817060629","eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","memberStatus":"ACTIVE","bundleOptions":[{"benefits":[{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"M000000745","benefitPlanName":"CTSM SMART HSA PPO D30/D50 ER D/200","benefitType":"MD","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"06","networkScheduleID":"FREEDOM_CHOICEPLUS","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"Y"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDD000005","benefitPlanName":"PEDIATRIC DENTAL CTSM SMART HSA 01","benefitType":"DN","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"PEDV000005","benefitPlanName":"PEDIATRIC VISION CTSM SMART HSA 01","benefitType":"VS","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}},{"benefitBundleOptionId":"1018480","benefitBundleOptionDescription":"Plan_1","benefitEffectiveDate":"2018-01-01","benefitExpirationDate":"9999-12-31","benefitPlanId":"RX00000003","benefitPlanName":"SG $5/$50/30% to $500 max/50% to $750","benefitType":"RX","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007"},"relationshipCode":"18","relationshipDescription":"Self","memberIdCardSerialNumber":"11593523700","subscriberIdCardSerialNumber":"11593523700","eligibilityStatusCode":"A","cancelReasonTypeCode":"","planType":"03","coverageLevelList":[{"covLevelCode":"EMP","covLevelDesc":"Employee Only","covLevelEffDate":"2018-01-01","covLevelExpDate":"9999-12-31"}],"holdList":[{}],"indicators":{"qmscoIndicator":"N","hsaIndicator":"N"}}]}]}],"cob":[{}],"providers":[{}],"clinicalProgram":[],"identifiers":[{"id":"474346629","type":"enrolleeEID"},{"id":"100000604013","type":"subscriberSystemId"},{"id":"100000604013","type":"enrolleeSystemID"},{"id":"637882060","type":"subscriberSurrogateKey"},{"id":"637882060","type":"enrolleeSurrogateKey"}]}]}]}}');
            }else if(request.getEndpoint().contains('/api/test/cdm/cust/c360/customer-purchases/v2.0')) {
                response.setBody('{"customerPurchase":[{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-1824024-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"8","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2018-12-01","contractOptionExpiryDate":"2019-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]},{"groupNumber":"1058476","planOptionId":"70501","customerPurchaseIdentifier":"20501-1008477-20501-70501","customerPurchaseVersions":[{"customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionEffectiveDate":"2017-12-01","contractOptionExpiryDate":"2018-11-30","timePeriodQualifier":"Contract","exchangeTypeCode":"1","exchangeTypeDescription":"Non-Exchange","packages":[{"packageCode":"1518479","packageOptionId":"1518482","planCodes":{"planCode":["RX00000140","MNS0000007"]}}],"carrierId":"6","carrierName":"Oxford Health Plans (CT), Inc.","bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford","lineOfBusinessSegmentId":"4","lineOfBusinessSegmentName":"Key Account","lineOfBusinessSegmentDescription":"Key Account - (UHC definition = 101  2999 NonPublic & Public and >2,999 NonPublic HMO)","brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford"}]}]}');
            }
            else if(request.getEndpoint().contains('/api/alpha/eisl/organizations/employergroups/v3.0/read')){
                
                //response.setBody('{"getEmployerGroup": {"getEmployerGroupResponse": {"employerGroup": {   "groupNumber": "1058476",   "groupName": "AZCAT ASSOCIATES, LLC",   "sourceSysCode": "CIRRUS",   "taxIdentificationNumber": ["452569099"],   "cobraAdministrativeIndicator": "01",   "onshoreRestriction": "01",   "sizeDefinitionCode": "01",   "sizeDefinitionDescription": "Small Group",   "erisaIndicator": "1",   "employeeCounts":    [            {         "employeeCountDescription": "Full-Time-Equivalent",         "employeeCount": "3"      },            {         "employeeCountDescription": "Retired",         "employeeCount": "0"      },            {         "employeeCountDescription": "Other",         "employeeCount": "0"      },            {         "employeeCountDescription": "Total Count of Full Time Employees",         "employeeCount": "3"      },            {         "employeeCountDescription": "Average Number of Eligible Employees",         "employeeCount": "4"      },            {         "employeeCountDescription": "Part-Time",         "employeeCount": "1"      },            {         "employeeCountDescription": "Union Non-Eligible",         "employeeCount": "0"      },            {         "employeeCountDescription": "Union Eligible",         "employeeCount": "0"      }   ],   "groupAddress":    [            {         "salesOfficeCode": "339",         "salesOfficeDescription": "Hartford/oth"      },            {         "addressTypeCode": "PHY",         "addressTypeDescription": "Physical Address",         "addressLine1": "36 PHEASANT LANE",         "addressCity": "GREENWICH",         "addressPostalCode": "06830",         "addressStateCode": "CT",         "addressCountryCode": "US",         "addressCountryDescription": "United States of America"      }   ],   "groupContact":    [            {         "roleType": "1",         "roleDescription": "Benefit Administrator",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            },                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      },            {         "roleType": "2",         "roleDescription": "Billing Contact",         "primaryIndicatorCode": "1",         "primaryIndicatorDescription": "Primary",         "firstName": "JIM",         "lastName": "HINTZEN",         "startDate": "2017-01-01",         "endDate": "9999-12-31",         "phone":          [                        {               "phoneType": "F",               "telephoneNumber": "203-862-8948"            },                        {               "phoneType": "B",               "telephoneNumber": "914-325-0867"            }         ],         "email": [         {            "communicationTypeCode": "EML",            "electronicAddress": "3JHINTZEN@GMAIL.COM"         }],         "address": [         {            "addressTypeCode": "B",            "addressTypeDescription": "Billing",            "addressLine1": "36 PHEASANT LANE",            "addressCity": "GREENWICH",            "addressPostalCode": "06830",            "addressStateCode": "CT",            "addressCountryCode": "US",            "addressCountryDescription": "United States of America"         }]      }   ],   "groupSupportTeamContact": [   {      "serviceTeam": "ADAMS, JULIA",      "roleType": "DCSM",      "roleDescription": "Dedicated Client Service Manager",      "startDate": "2017-07-27",      "endDate": "9999-12-31",      "email": [      {         "communicationTypeCode": "EML",         "electronicAddress": "julia_adams@uhc.com"      }]   }],   "groupPopulation": [   {      "classesCode": "105847600001",      "classesDescription": "AZCAT_POPULATION",      "openEnrollmentPopulationClassStartDate": "2017-01-01",      "openEnrollmentPopulationClassEndDate": "2017-12-31"   }],   "customerAccount": [   {      "planBillingGroupNumber": "103",      "statusCode": "V",      "statusDescription": "Validation",      "startDate": "2017-01-01",      "renewalDate": "2018-10-01",      "terminationDate": "9999-12-31",      "customerAccountInsuringRules":       [                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "FOFM after Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Specified Duration",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "First of the Following Month (FOFM)",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         },                  {            "dependentCutOff": "26",            "dependentCutOffType": "Date of Event",            "dependentCutOffStartDate": "2017-01-01",            "dependentCutOffEndDate": "9999-12-31",            "waiveRehiredIndefiniteIndicator": "0",            "terminationLagType": "001",            "terminationLagDescription": "Date of Event",            "terminationLagStartDate": "2017-01-01",            "terminationLagEndDate": "9999-12-31",            "newHireWaitingPeriodType": "Date of Event",            "newHireWaitingStartDate": "2017-01-01",            "newHireWaitingEndDate": "9999-12-31"         }      ],      "customerPurchase": [      {         "memberGroupContractPlanOptionID": "10505",         "stateOfIssueCode": "CT",         "stateOfIssueDescription": "CONNECTICUT",         "fundingArrangementCode": "01",         "fundingArrangementDescription": "Fully Insured",         "coverageStartDate": "2017-01-01",         "coverageExpirationDate": "9999-12-31",         "benefitBundleOptionID": "1168476",         "openEnrollmentStartDate": "2017-01-01",         "openEnrollmentEndDate": "2017-12-31",         "timePeriodQualifier": "Contract Year",         "benefitBasePlan": "M000000743",         "benefitPlanDescription": "CTSM FREEEDOM Direct $25/40 ER$150 OP$15",         "gatedProductIndicator": "0",         "planMetallicLevel": "Platinum",         "lineOfBusiness":          [                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            },                        {               "name": "Small Business",               "description": "Small Business  (UHC definition = 2 to 50, and Sole Prop)"            }         ],         "networkScheduleId":          [            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS",            "FREEDOM_CHOICEPLUS"         ],         "billingSchedule":          [                        {               "ratingMethodology": "01",               "contractTypeCode": "5",               "amount": "1731.30"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "4",               "amount": "1410.24"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "1",               "amount": "1544.18"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "2",               "amount": "1909.22"            },                        {               "ratingMethodology": "01",               "contractTypeCode": "3",               "amount": "1102.15"            }         ]      }]   }]}}}}');
                StaticResource GetDummyResp = [SELECT Body FROM StaticResource WHERE Name = 'Test_GetEmpResponse_Termed'];
                String GetEmpGrpRes = GetDummyResp.Body.toString();
                System.debug('HEREHERE GetEmpGrpRes testCont1 ' + GetEmpGrpRes);
                
                response.setBody(GetEmpGrpRes);
            }        
            Test.setContinuationResponse(RequestLabel, response); 
        }
        }
        
        Object result2 = Test.invokeContinuationMethod(memberDetailController, conti2);       
        memberDetailController.selectPrimaryPhysician();
        memberDetailController.getNoOfMemAlert();
        memberDetailController.getDisplayCallTopicOptions();
        memberDetailController.refreshSection();
        memberDetailController.getMemberCaseHistory();
        PageReference pageRef = Page.ACETMemberSearch;
        Test.setCurrentPage(pageRef);        
    
       MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(200, 'OK', ACETTestDataUtility.UpdateIndividualJSON());
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);        

     
        ApexPages.currentPage().getParameters().put('RelationshipType','Self'); 
        ApexPages.currentPage().getParameters().put('%22Relationship%','Self'); 
       
    RecordType newRecord = [SELECT Id FROM RecordType WHERE Name = 'Person Account' and SObjectType = 'Account'];
        
        Account accountTest = new Account();
        accountTest.FirstName = 'Kelly';
        accountTest.LastName = 'Ruby';
        accountTest.EID__c = 'PIN';
        accountTest.EID__pc = 'PIN';
        accountTest.RecordTypeId = newRecord.Id;
        insert accountTest;

    Account acc = [SELECT Id,personcontactid from Account where Id=:accountTest.Id];
        Contact con = [SELECT Id,LastName,FirstName,EID__c,AccountId from Contact where Id=:acc.personcontactid];
        //memberDetailController.originatorObj = con;
        memberDetailController.Originator = con.id;  
        memberDetailController.addTPtoOriginator(); 
        Third_Party__c tp = new Third_Party__c();
        tp.First_Name__c = 'Test FN';
        tp.LastName__c = 'Test LN';
        tp.Phone_Number__c  = '1234567892';
        tp.Producer_Name__c = 'P Name';
        tp.Employer_Name__c = 'E Name';
        insert tp;  
        
        Third_Party_Originator__c tpo = new Third_Party_Originator__c();
        tpo.Subject__c = con.id;
        tpo.Third_Party__c = tp.id;
        tpo.Name = 'Self';
        insert tpo;
        
        inte.Highlight_Panel_GroupInfo__c = '';
        inte.Originator_Type__c = 'Other';
        inte.Third_Party__c = tp.id;
        update inte;                
          
        ApexPages.currentPage().getParameters().put('selThirdPartyRecId',tp.id);  
        memberDetailController.selThirdPartyId = tp.id;
        memberDetailController.originator = 'currentTp';          
        memberDetailController.changeOriginator();    
       
       
      
        Test.stopTest();
     }      
     */
   public static testmethod void testGetIndividualAsynchronousFailed500(){
        setTestData('Member');
        String MemberId='12345';         
           
        
       String responseBody = '{"getIndividualResponse":{"individual":{"individualIdentifier":"154907824","name":{"firstName":"Ruby","lastName":"Kelly","middleName":"","nameSuffix":""},"birthDate":"1959-09-21","genderCode":"M","genderDescription":"Male","socialSecurityNumber":"","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","address":[{"typeCode":"HOM","addressLine1":"95 Elgar Pass","addressLine2":"","city":"HFD","postalCode":"06140","stateCode":"CT","countryCode":"US"}],"phone":[{"phoneType":"H","phoneNumber":"321-686-6997","phoneExt":"","internationalIndicator":"N","primaryIndicator":"Y"}],"email":[{"communicationTypeCode":"EML","electronicAddress":"ruby@optum.com","primaryIndicator":"Y"}],"employment":[{"employmentStatus":"","employeeIdentifier":"","employmentStartDate":"","retirementDate":""}],"language":[{}],"otherContact":[{}],"identifiers":[{"id":"890504596","type":"SRK"},{"id":"352816681","type":"HIC"}]}}}';
       // insert lstISLWSConfigs;
        MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(500, 'OK', responseBody);
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);  
        
        Test.startTest();
        ACETGetIndividualWebService memberServ = new ACETGetIndividualWebService();
        ACETWSCalloutResult calloutResult = new ACETWSCalloutResult();
        ACETMemberDetail memberDetail = new ACETMemberDetail();
        memberDetail.PreferredCoverage =  new ACETMemberDetail.CoverageLine();
        memberDetail.PreferredCoverage.SurrogateKey = '123';
        memberDetail.PreferredCoverage.groupNumber = '1234';
        memberDetail.PreferredCoverage.effectiveDate = '1/1/2015';
        memberDetail.PreferredCoverage.benefitPlanId = 'M000000015';
        memberDetail.Surrogatekey='123';
        calloutResult = memberServ.getIndividual(memberId,memberDetail);
        Test.stopTest();
        system.debug('calloutResult'+ calloutResult);
    }  
               
     public static testmethod void testGetIndividualAsynchronousFailed400(){
        setTestData('Member');
        String MemberId='12345';
         
           
        
       String responseBody = '{"getIndividualResponse":{"individual":{"individualIdentifier":"154907824","name":{"firstName":"Ruby","lastName":"Kelly","middleName":"","nameSuffix":""},"birthDate":"1959-09-21","genderCode":"M","genderDescription":"Male","socialSecurityNumber":"","maritalStatusCode":"","maritalStatusDescription":"","deceasedDate":"","privacyIndicator":"","tobaccoUsageIndicator":"","ethnicityCode":"","ethnicityDescription":"","address":[{"typeCode":"HOM","addressLine1":"95 Elgar Pass","addressLine2":"","city":"HFD","postalCode":"06140","stateCode":"CT","countryCode":"US"}],"phone":[{"phoneType":"H","phoneNumber":"321-686-6997","phoneExt":"","internationalIndicator":"N","primaryIndicator":"Y"}],"email":[{"communicationTypeCode":"EML","electronicAddress":"ruby@optum.com","primaryIndicator":"Y"}],"employment":[{"employmentStatus":"","employeeIdentifier":"","employmentStartDate":"","retirementDate":""}],"language":[{}],"otherContact":[{}],"identifiers":[{"id":"890504596","type":"SRK"},{"id":"352816681","type":"HIC"}]}}}';
       // insert lstISLWSConfigs;
        MockHttpCalloutResponseGenerator.MockHttpResponse OILResponse = new MockHttpCalloutResponseGenerator.MockHttpResponse(400, 'OK', responseBody);
        OILResponse.TokenExpired = false;        
        MockHttpCalloutResponseGenerator MockHttpRes = new MockHttpCalloutResponseGenerator(null, OILResponse);
        Test.setMock(HttpCalloutMock.class, MockHttpRes);  
        
        Test.startTest();
        ACETGetIndividualWebService memberServ = new ACETGetIndividualWebService();
        ACETWSCalloutResult calloutResult = new ACETWSCalloutResult();
        ACETMemberDetail memberDetail = new ACETMemberDetail();
        memberDetail.PreferredCoverage =  new ACETMemberDetail.CoverageLine();
        memberDetail.PreferredCoverage.SurrogateKey = '123';
        memberDetail.PreferredCoverage.groupNumber = '1234';
        memberDetail.PreferredCoverage.effectiveDate = '1/1/2015';
        memberDetail.PreferredCoverage.benefitPlanId = 'M000000015';
        memberDetail.Surrogatekey='123';
        calloutResult = memberServ.getIndividual(memberId,memberDetail);
        Test.stopTest();
        system.debug('calloutResult'+ calloutResult);
    }  
    
    
      private static testMethod void TestMemberNotFound() {
     
     Test.startTest();
     setTestData('Member');
     DAte dob = Date.TODAY();
 
     Interaction__c inte = TestDataFactory.createInteraction();
     RecordType newRecord = [SELECT Id FROM RecordType WHERE Name = 'Person Account' and SObjectType = 'Account'];
        
     Account accountTest = new Account();
     accountTest.FirstName = 'Kelly';
     accountTest.LastName = 'Ruby';
     accountTest.EID__c = 'PIN';
     accountTest.EID__pc = 'PIN';
     accountTest.RecordTypeId = newRecord.Id;
     insert accountTest;

   Account acc = [SELECT Id,personcontactid from Account where Id=:accountTest.Id];
     Contact con = [SELECT Id,LastName,FirstName,EID__c,AccountId from Contact where Id=:acc.personcontactid];
      
      Third_Party__c tp = new Third_Party__c();
      tp.First_Name__c = 'Test FN';
      tp.LastName__c = 'Test LN';
      tp.Phone_Number__c  = '1234567892';
      insert tp;
      
      Third_Party_Originator__c tpo = new Third_Party_Originator__c();
      tpo.Third_Party__c = tp.id;
      tpo.Other_Originator__c = 'Attorney';
      insert tpo;
      
     ApexPages.currentPage().getParameters().put('mnf','1');           
     ApexPages.currentPage().getParameters().put('InteractionId',inte.id);
     ApexPages.currentPage().getParameters().put('mnfzipcode','12345');
     ApexPages.currentPage().getParameters().put('mnfLastName','test');
     ApexPages.currentPage().getParameters().put('mnffirstName','test');
     ApexPages.currentPage().getParameters().put('mnfState','NJ');
     ApexPages.currentPage().getParameters().put('mnfPhoneNumber','123-123-1234');
     ApexPages.currentPage().getParameters().put('mnfEmployerName','test');
     ApexPages.currentPage().getParameters().put('mnfGroupNumber','1234');
     ApexPages.currentPage().getParameters().put('mnfDOB','06-07-1999');
     ApexPages.currentPage().getParameters().put('additionalInfo',null);
     ApexPages.currentPage().getParameters().put('Id','1234');
     ApexPages.currentPage().getParameters().put('SRK','1234');
     ApexPages.currentPage().getParameters().put('tpChoosenName',tp.id);
     
     

     ACETMemberDetailController memberDetailController = new ACETMemberDetailController();
  //   memberDetailController.Interaction = ACETMemberQueryUtil.queryInteraction(inte.id);
     memberDetailController.init();
     memberDetailController.Interaction = ACETMemberQueryUtil.queryInteraction('InteractionType', 'OriginatorType','EmployerName','LastName', ' FirstName', 'PhoneNumber',dob,'State','Zip','GroupNum','notfoundflowname');
   //  memberDetailController.initHighlightPanelAdditionalInfo(false);
       Continuation conti = (Continuation)memberDetailController.CallWSonPageLoad(); 
       memberDetailController.changeOriginator();
       memberDetailController.addTPtoOriginator();
       memberDetailController.Originator = 'currentTp'; 
       memberDetailController.getCallTopicOptions(); 
      Test.stopTest();
      } 
     public static testMethod void TestFMCP() {
         String resp = '{"findMembershipsCustomerPurchaseResponse":{"memberships":[{"sourceSysCode":"CR","identifiers":[{"id":"97451064500","type":"MCH"},{"id":"97451064500","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100001888646","type":"enrolleSystemID"},{"id":"567685704","type":"enrolleeIndividualIdentifier"},{"id":"727385283","type":"enrolleeSurrogateKey"}],"coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000001","productName":"Standalone Dental - IND"},"benefit":{"benefitPlanId":"I0690","benefitPlanName":"Dental Voluntary I0690","planOptionID":"DN100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196597-DN100002","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO"},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/60/2500/100 PPO HSA 20","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000326","benefitPlanName":"SG $10/$60/50% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1002","benefitPlanName":"Vision 100% ER Paid V1002","planOptionID":"VS100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196598-VS100002","customerPurchaseVersionId":"4","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"VS","contractOptionTypeDesc":"Vision"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000004","productName":"Standalone Dental - PPO"},"benefit":{"benefitPlanId":"1P364","benefitPlanName":"Dental Contributory 1P364","planOptionID":"DN100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196599-DN100001","customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000012","productName":"OHI Oxford Direct"},"benefit":{"benefitPlanId":"M000000782","benefitPlanName":"CT S FRDM NG 30/75/4750/75 PPO 21","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000328","benefitPlanName":"SG$250D $5/$60/50% to 500/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000008","benefitPlanName":"VISION CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000008","benefitPlanName":"DENTAL CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1074","benefitPlanName":"Vision 100% ER Paid V1074","planOptionID":"VS100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196600-VS100001","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"VS","contractOptionTypeDesc":"Vision"}]}],"pagination":{"pageNumber":0,"pageSize":50,"recordCount":50,"totalCount":1,"totalPages":1,"moreRecords":false}}}';
          ACETMemberDetail memberDetail = new ACETMemberDetail();
         memberDetail.CoverageTypeValue = 'MEDICAL';
         memberDetail.groupNameValue ='Test';
         memberDetail.effectiveDateValue = date.parse('1/1/2021');
         memberDetail.endDateValue = date.parse('12/31/2050'); 
         memberDetail.isMemberEligibility  = false;       
                                     memberDetail.SCRId = memId;
         ACETFindMemCustPurchaseWebservice fmcp= new ACETFindMemCustPurchaseWebservice();
         fmcp.ProcessResponse(resp,memberDetail); 
          fmcp.findMembership('97451064500',memberDetail,resp);
       //  fmcp.isPreferredCoverage('cr','MEDICAL'true,'','1/1/2021','1/1/2021','3622803','groupNumber');

                                 }      
     public static testMethod void TestFMCPOne() {
         PageReference myVfPage = Page.ACETMemberDetail;
Test.setCurrentPage(myVfPage);

// Put Id into the current page Parameters
ApexPages.currentPage().getParameters().put('groupFlowGroupNumber%22%3A%22','123456789');
         ApexPages.currentPage().getParameters().put('groupFlowGroupName','123456789');
         

         String resp = '{"findMembershipsCustomerPurchaseResponse":{"memberships":[{"sourceSysCode":"CR","identifiers":[{"id":"97451064500","type":"MCH"},{"id":"97451064500","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100001888646","type":"enrolleSystemID"},{"id":"567685704","type":"enrolleeIndividualIdentifier"},{"id":"727385283","type":"enrolleeSurrogateKey"}],"coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000001","productName":"Standalone Dental - IND"},"benefit":{"benefitPlanId":"I0690","benefitPlanName":"Dental Voluntary I0690","planOptionID":"DN100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196597-DN100002","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO"},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/60/2500/100 PPO HSA 20","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000326","benefitPlanName":"SG $10/$60/50% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1002","benefitPlanName":"Vision 100% ER Paid V1002","planOptionID":"VS100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196598-VS100002","customerPurchaseVersionId":"4","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"VS","contractOptionTypeDesc":"Vision"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000004","productName":"Standalone Dental - PPO"},"benefit":{"benefitPlanId":"1P364","benefitPlanName":"Dental Contributory 1P364","planOptionID":"DN100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196599-DN100001","customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000012","productName":"OHI Oxford Direct"},"benefit":{"benefitPlanId":"M000000782","benefitPlanName":"CT S FRDM NG 30/75/4750/75 PPO 21","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000328","benefitPlanName":"SG$250D $5/$60/50% to 500/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000008","benefitPlanName":"VISION CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000008","benefitPlanName":"DENTAL CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1074","benefitPlanName":"Vision 100% ER Paid V1074","planOptionID":"VS100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196600-VS100001","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"VS","contractOptionTypeDesc":"Vision"}]}],"pagination":{"pageNumber":0,"pageSize":50,"recordCount":50,"totalCount":1,"totalPages":1,"moreRecords":false}}}';
          ACETMemberDetail memberDetail = new ACETMemberDetail();
                                         memberDetail.SCRId = memId;
         ACETFindMemCustPurchaseWebservice fmcp= new ACETFindMemCustPurchaseWebservice();
         fmcp.ProcessResponse(resp,memberDetail);
                                     String resp2 = '{"findMembershipsCustomerPurchaseResponse":{"memberships":[{"sourceSysCode":"CR","identifiers":[{"id":"97451064500","type":"MCH"},{"id":"97451064500","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100001888646","type":"enrolleSystemID"},{"id":"567685704","type":"enrolleeIndividualIdentifier"},{"id":"727385283","type":"enrolleeSurrogateKey"}],"coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000001","productName":"Standalone Dental - IND"},"benefit":{"benefitPlanId":"I0690","benefitPlanName":"Dental Voluntary I0690","planOptionID":"DN100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196597-DN100002","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000007","productName":"Oxford Non-Gated PPO"},"benefit":{"benefitPlanId":"M000000745","benefitPlanName":"CT S FRDM NG 30/60/2500/100 PPO HSA 20","planOptionID":"PO100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000326","benefitPlanName":"SG $10/$60/50% to $500 max/50% to $750","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"},{"customerPurchaseId":"347541-1217486-29196595-PO100002","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-02","contractOptionEndDate":"2021-12-30"},{"customerPurchaseId":"347541-1217486-29196595-PO100003","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2022-01-01","contractOptionEndDate":"2022-12-30"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000005","benefitPlanName":"VISION CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000005","benefitPlanName":"DENTAL CTSM SMART HSA 01","planOptionID":"PO100001","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196595-PO100001","customerPurchaseVersionId":"2","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1002","benefitPlanName":"Vision 100% ER Paid V1002","planOptionID":"VS100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196598-VS100002","customerPurchaseVersionId":"4","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"VS","contractOptionTypeDesc":"Vision"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000004","productName":"Standalone Dental - PPO"},"benefit":{"benefitPlanId":"1P364","benefitPlanName":"Dental Contributory 1P364","planOptionID":"DN100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196599-DN100001","customerPurchaseVersionId":"5","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"M","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PM00000012","productName":"OHI Oxford Direct"},"benefit":{"benefitPlanId":"M000000782","benefitPlanName":"CT S FRDM NG 30/75/4750/75 PPO 21","planOptionID":"PO100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"RX","coverageTypeDescription":"PHARMACY","product":{"productIdentifier":"PR00000001","productName":"Pharmacy"},"benefit":{"benefitPlanId":"RX00000328","benefitPlanName":"SG$250D $5/$60/50% to 500/50% to $750","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"VS","coverageTypeDescription":"EHB EMBEDDED VISION","product":{"productIdentifier":"PPV0000001","productName":"Pediatric Vision"},"benefit":{"benefitPlanId":"PEDV000008","benefitPlanName":"VISION CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"DS","coverageTypeDescription":"EHB EMBEDDED DENTAL","product":{"productIdentifier":"PPD0000001","productName":"Pediatric Dental"},"benefit":{"benefitPlanId":"PEDD000008","benefitPlanName":"DENTAL CTSM FREEDOM DIRECT 06","planOptionID":"PO100002","riderOnlyIndicator":"Y","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196596-PO100002","customerPurchaseVersionId":"1","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"OX","bookOfBusinessTypeDescription":"Oxford FI/ASO"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","serviceArea":"OXFORD_TRI_STATE","stateOfIssueCode":"CT"},"brandingEntityName":"UNITEDHEALTHCARE_OXFORD","brandingEntityDescription":"UnitedHealthcare Oxford","contractOptionType":"MD","contractOptionTypeDesc":"Medical"},{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2021-01-01","membershipExpirationDate":"9999-12-31","coverageType":"V","coverageTypeDescription":"VISION","coverageLevelCode":"EMP","product":{"productIdentifier":"PV00000004","productName":"Standalone Vision - PPO"},"benefit":{"benefitPlanId":"V1074","benefitPlanName":"Vision 100% ER Paid V1074","planOptionID":"VS100001","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196600-VS100001","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2021-01-01","contractOptionEndDate":"2021-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"VS","contractOptionTypeDesc":"Vision"}]}],"pagination":{"pageNumber":0,"pageSize":50,"recordCount":50,"totalCount":1,"totalPages":1}}}';
                                     fmcp.ProcessResponse(resp2, new ACETMemberDetail());
                                     String resp3 = '{"findMembershipsCustomerPurchaseResponse":{"memberships":[{"sourceSysCode":"CR","identifiers":[{"id":"97451064500","type":"MCH"},{"id":"97451064500","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100001888646","type":"enrolleSystemID"},{"id":"567685704","type":"enrolleeIndividualIdentifier"},{"id":"727385283","type":"enrolleeSurrogateKey"}],"coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"D","coverageTypeDescription":"DEPENDENT CARE","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000001","productName":"Standalone Dental - IND"},"benefit":{"benefitPlanId":"I0690","benefitPlanName":"Dental Voluntary I0690","planOptionID":"DN100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196597-DN100002","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"}]}],"pagination":{"pageNumber":0,"pageSize":50,"recordCount":50,"totalCount":1,"totalPages":1}}}';
                                     fmcp.ProcessResponse(resp3, memberDetail);
         fmcp.findMembership('97451064500',memberDetail,resp);
           }  
                                 
                                 public static testMethod void testFMCPtwo() {
                                     PageReference myVfPage = Page.ACETMemberDetail;
                                     Test.setCurrentPage(myVfPage);
                                   
                                     // Put Id into the current page Parameters
                                     ApexPages.currentPage().getParameters().put('groupFlowGroupNumber%22%3A%22','123456789');
                                     ApexPages.currentPage().getParameters().put('groupFlowGroupName','123456789');
                                         ACETMemberDetail memberDetail = new ACETMemberDetail();
                                         memberDetail.SCRId = memId;
                                     ACETFindMemCustPurchaseWebservice fmcp= new ACETFindMemCustPurchaseWebservice();
                                     String resp3 = '{"findMembershipsCustomerPurchaseResponse":{"memberships":[{"sourceSysCode":"CR","identifiers":[{"id":"97451064500","type":"MCH"},{"id":"97451064500","type":"SCR"}],"enrolleeSystemSpecificIdentifiers":[{"id":"100001888646","type":"enrolleSystemID"},{"id":"567685704","type":"enrolleeIndividualIdentifier"},{"id":"727385283","type":"enrolleeSurrogateKey"}],"coverages":[{"subscriberSystemSpecificIdentifiers":[{"id":"100001888646","type":"subscriberSystemID"},{"id":"567685704","type":"subscriberIndividualIdentifier"},{"id":"727385283","type":"subscriberSurrogateKey"}],"groupNumber":"1004278","groupName":"Acet_test_four_20210312014927","membershipEffectiveDate":"2020-01-01","membershipExpirationDate":"2020-12-31","coverageType":"D","coverageTypeDescription":"MEDICAL","coverageLevelCode":"EMP","product":{"productIdentifier":"PD00000001","productName":"Standalone Dental - IND"},"benefit":{"benefitPlanId":"I0690","benefitPlanName":"Dental Voluntary I0690","planOptionID":"DN100002","riderOnlyIndicator":"N","customerPurchase":[{"customerPurchaseId":"347541-1217486-29196597-DN100002","customerPurchaseVersionId":"3","customerPurchaseStatusDescription":"Active","contractOptionStartDate":"2020-01-01","contractOptionEndDate":"2020-12-31"}],"bookOfBusinessTypeCode":"UH","bookOfBusinessTypeDescription":"UnitedHealthcare Insurance Company"},"relationshipCode":"18","relationshipDescription":"Self","legacyAttributes":{"eligibilitySystemTypeCode":"CR","claimSystemTypeCode":"CR","policyNumber":"347541-1217486","stateOfIssueCode":"CT"},"contractOptionType":"DN","contractOptionTypeDesc":"Dental"}]}],"pagination":{"pageNumber":0,"pageSize":50,"recordCount":50,"totalCount":1,"totalPages":1}}}';
                                     fmcp.ProcessResponse(resp3, memberDetail);
                                     fmcp.findMembership(memId,memberDetail,resp3);
                                 }  
                                 public static testmethod void test6(){
                                     
                                     
                                     ACETFindMemCustPurchaseWebservice afcpw = new ACETFindMemCustPurchaseWebservice();
                                     Datetime dt = DateTime.Now();
                                     afcpw.isActiveCoverage('2020-12-03','2021-12-05','');
                                     afcpw.isActiveCoverage(dt.year()+'-'+dt.month()+'-'+(dt.date()-3),dt.year()+'-'+dt.month()+'-'+(dt.date()+3),'');
                                     afcpw.findMembership(null,null,null);
                                     afcpw.ProcessResponse(null,null);
                                     afcpw.isPreferredCoverage(null,null,null,null,null,null,null);
                                     List<ACETFindMemCustPurchaseWebservice.ActiveCovg> a =new List<ACETFindMemCustPurchaseWebservice.ActiveCovg>();
                                     ACETFindMemCustPurchaseWebservice.ActiveCovg a1 = new ACETFindMemCustPurchaseWebservice.ActiveCovg();
                                     a1.objeffectivedate = Date.Today().addDays(30);
                                      a1.objenddate = Date.Today().addDays(35);
                                     a.add(a1);
                                     ACETFindMemCustPurchaseWebservice.ActiveCovg a2 = new ACETFindMemCustPurchaseWebservice.ActiveCovg();
                                     a2.objeffectivedate = Date.Today().addDays(40);
                                      a2.objenddate = Date.Today().addDays(45);
                                     a.add(a2);
                                     a.sort();
                                     List<ACETFindMemCustPurchaseWebservice.FutureCovg> f =new List<ACETFindMemCustPurchaseWebservice.FutureCovg>();
                                     ACETFindMemCustPurchaseWebservice.FutureCovg f1 = new ACETFindMemCustPurchaseWebservice.FutureCovg();
                                     f1.objeffectivedate = Date.Today().addDays(30);
                                      f1.objenddate = Date.Today().addDays(35);
                                     f.add(f1);
                                     ACETFindMemCustPurchaseWebservice.FutureCovg f2 = new ACETFindMemCustPurchaseWebservice.FutureCovg();
                                     f2.objeffectivedate = Date.Today().addDays(40);
                                      f2.objenddate = Date.Today().addDays(45);
                                     f.add(f2);
                                     f.sort();
                                      List<ACETFindMemCustPurchaseWebservice.TermedCovg> t =new List<ACETFindMemCustPurchaseWebservice.TermedCovg>();
                                     ACETFindMemCustPurchaseWebservice.TermedCovg t1 = new ACETFindMemCustPurchaseWebservice.TermedCovg();
                                     t1.objeffectivedate = Date.Today().addDays(30);
                                      t1.objenddate = Date.Today().addDays(35);
                                     t.add(t1);
                                     ACETFindMemCustPurchaseWebservice.TermedCovg t2 = new ACETFindMemCustPurchaseWebservice.TermedCovg();
                                     t2.objeffectivedate = Date.Today().addDays(40);
                                      t2.objenddate = Date.Today().addDays(45);
                                     t.add(t2);
                                     t.sort();
                                 }
                                 
								                                 public static testmethod void test7(){
                                      List<ISL_Webservice_Config__c> webConfigList=new List<ISL_Webservice_Config__c>();
                                    ISL_Webservice_Config__c topsConfig2 = new ISL_Webservice_Config__c();
                                    topsConfig2.Name = 'qa_StargateOAuthEndpoint';
                                    topsConfig2.ACET_Common_Name__c = 'StargateOAuthEndpoint';
                                    topsConfig2.Value__c = '/auth/oauth/v2/token';
                                    webConfigList.add(topsConfig2);
                                   
                                    ISL_Webservice_Config__c topsConfig3 = new ISL_Webservice_Config__c();
                                    topsConfig3.Name = 'StargateTimeout';
                                    topsConfig3.Value__c = '3000';
                                    webConfigList.add(topsConfig3);
                                    insert webConfigList;
                                    Organization_Properties__c orgProps = Organization_Properties__c.getOrgDefaults();
                                    orgProps.OrganizationName__c = 'QA';
                                    Upsert orgProps;
                                    
                                    // Token API data
                                    WebserviceConfigurations__c starTokenAPIWSConfig = ACET_WebserviceCalloutFramework_Test.createTokenWSConfigs('StarGateTokenAPI');
                                    OrgSpecificConfigurations__c starTokenAPIOrgSpecificConfigs = ACET_WebserviceCalloutFramework_Test.createTokenOrgWSConfigs(starTokenAPIWSConfig.Id);
                                    starTokenAPIOrgSpecificConfigs.EnableErrorLog__c = true;
                                    update starTokenAPIOrgSpecificConfigs;
                                    // Service API data
                                    WebserviceConfigurations__c orswsConfig = ACET_WebserviceCalloutFramework_Test.createWSConfig('ACETAncillarySearchEndpoint', starTokenAPIWSConfig.Id);
                                    OrgSpecificConfigurations__c orsorgSpecificConfigs = ACET_WebserviceCalloutFramework_Test.createOrgWSConfigs(orswsConfig.Id);
                                    orsorgSpecificConfigs.EnableErrorLog__c = true;
                                    update orsorgSpecificConfigs;
                                     Boolean showancillary = true;
                                     Integer ancillaryCount = 0;
                                     ACETMemberDetail memberDetail = new ACETMemberDetail();
                                     memberDetail.PreferredCoverage =  new ACETMemberDetail.CoverageLine();
                                     memberDetail.PreferredCoverage.EffectiveDate = '01/01/2021';
                                     memberDetail.PreferredCoverage.COEffectiveDate = '01/01/2021';
                                     memberDetail.PreferredCoverage.EndDate = '12/31/2021';
                                     memberDetail.PreferredCoverage.COEndDate = '12/31/2021';
									 memberDetail.PreferredCoverage.groupNumber = '1000829';
                                     memberDetail.SurrogateKey = '722102854';
                                     ApexPages.currentPage().getParameters().put('toggleParam','1');
                                     ACETHighlightsPanelAdditionalInfo AdditionalInfo = new ACETHighlightsPanelAdditionalInfo();
       								 AdditionalInfo.BenefitBundleOptionId = '7927703';
                                     list<AncillaryPlans> AncillaryPlansList = new list<AncillaryPlans>();
                                     StaticResource sr= [select id,body from StaticResource Where Name = 'ACETAncillaryPlanMockResponse'];
                                    String samplebody = sr.body.toString();
                                    Test.setMock(HttpCalloutMock.class, new ACET_ORSMockResponse(samplebody, 200));
                                     test.startTest();
                                     ACETLGT_AncillaryPlansController.AncillaryData data = new ACETLGT_AncillaryPlansController.AncillaryData();
                                     
                                     data.groupNumber = '1000987';
                                     data.benefitBundleOptionId = '7927703';
                                     data.identifier = '721728127';
                                     data.membersearch = true;
                                     data.asofdate = '04/01/2021';
                                     data.effectivedate = '01/01/2019';
                                     data.enddate = '12/31/9999';
                                     
                                     ACETMemberDetailController ctrlcon = new ACETMemberDetailController();
                                     ctrlcon.ancillaryCount = 0;
                                     ctrlcon.showancillary = false;
                                     ctrlcon.MemberDetail = memberDetail;
                                     ctrlcon.AdditionalInfo = AdditionalInfo;
                                     ctrlcon.AncillaryPlansList = ctrlcon.processAncillaryData(data); 
                                     ctrlcon.getAncillaryData();
                                     ctrlcon.toggleAncillaryData();
                                     ctrlcon.toggleancillarytab();
                                     ctrlcon.toggleAncillaryData();
                                     ctrlcon.toggleancillarytab();
                                     test.stopTest();
                                 }
  															  
}