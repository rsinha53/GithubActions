<apex:page controller="ACETMemberDetailController" action="{!init}" id="thePage" docType="html-5.0" showHeader="false">

    <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" lang="en">
    <head>
        <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <apex:slds />
    <apex:includeScript value="{!$Resource.JQuery}"></apex:includeScript>
    <Script type="text/javascript" src="{!$Resource.JqueryTableSorter}"/>

    <Script src="/xdomain/xdomain.js"  ></Script>
    <Script src="/soap/ajax/38.0/connection.js" ></Script>
    <Script src="/support/console/38.0/integration.js" ></Script>
    <Script type="text/javascript" src="{!URLFOR($Resource.ACETResources, '/js/vendor/chosen.jquery.min.js')}" />
    <apex:stylesheet value="{!URLFOR($Resource.ACETResources, '/css/m/memberdetail.css')}" />

    <Script type="text/javascript" src= "{!URLFOR($Resource.ACETUIResources, '/JS/bootstrap.min.js')}"></Script>
    <Script type="text/javascript" src="{!$Resource.ACETUIIcons}" />
    <script>
    var defaultPageLoad;
    $(document).ready(function() {
            defaultPageLoad = true;
           $('#updateEnddate').datepicker();
            //Added for continuation pattern User Story - US605469
            //showMask(); //removed mask loader
            //add loader in each separate section
            var sectionIDs = ["otherContactInfo","coverages","CovDetInfo","genInfo","pcpInfo","famInfo","addressiNFO","PhoneInfo","originator","covHis","splcov"];
            //addLoaderToSection(sectionIDs);

           afOnPageLoad();
    });
    </script>
    <style>
        img.sortAsc,img.sortDesc {
            display: none;
        }
        .required .requiredInput
        {
            height: auto;
        }

        .required .requiredInput .requiredBlock
        {
            height:100%;
        }

        .hiddenheader .hiddencolumn
        {
            display: none;
        }
        
        .slds-scope .slds-active .slds-tabs--scoped__link:focus,
        .slds-scope .slds-active .slds-tabs_scoped__link:focus, 
        .slds-scope .slds-is-active .slds-tabs--scoped__link:focus, 
        .slds-scope .slds-is-active .slds-tabs_scoped__link:focus {
        text-decoration: none;
      }
        .slds-scope .slds-tabs--scoped__item:first-child .slds-tabs--scoped__link, .slds-scope .slds-tabs--scoped__item:first-child .slds-tabs_scoped__link, .slds-scope .slds-tabs_scoped__item:first-child .slds-tabs--scoped__link, .slds-scope .slds-tabs_scoped__item:first-child .slds-tabs_scoped__link {
        border-left: 0;
        border-radius: 0rem 0 0 0;
       }
        
        .slds-scope .slds-active .slds-tabs--scoped__link,
        .slds-scope .slds-active .slds-tabs_scoped__link,
        .slds-scope .slds-is-active .slds-tabs--scoped__link, 
        .slds-scope .slds-is-active .slds-tabs_scoped__link{
        background-color: rgb(133, 193, 233);
        color: #fdfdfd;
        border-color: white;
        font-weight: 700;
        }
    
        .slds-scope .slds-tabs--scoped__link, .slds-scope .slds-tabs_scoped__link{
         color: #000000 !important;
        background-color: rgb(178, 186, 187); //rgb(231, 235, 241);
        font-weight: 700;
        border-color:white;
        }
        
        .slds-scope .slds-table thead th {        
        color:  rgb(22,50,92);
        font-weight: 700;
       }
        
        .slds-scope .slds-tabs--scoped__content, .slds-scope .slds-tabs_scoped__content,
        .slds-scope .slds-tabs--scoped__nav, .slds-scope .slds-tabs_scoped__nav{
        background-color: white;
        border:0pc solid #ffffff;
        }
    
             
        .slds-scope .slds-show  {
          display: block;
          background-color: white;
          }
      
      
    a.changeAdvanceSearch.collapsed:before
    {
        content:'Advanced Search' ;
        display:block;
        min-width: 112px;
        white-space: nowrap;
    }
    
    a.changeAdvanceSearch:before
    {
        content:'Hide Advanced Search' ;
        display:block;
        min-width: 112px;
        white-space: nowrap;
    }
    
     .errorM3{
        border: solid #cc0000; 
        border-radius: 0;
    }
    .errorM3 .msgIcon {
        padding: 0px 0px 0px 0px;
        margin-left: 0px;
        width: 0px;
            } 
    .messageTable {
        border: none; 
    }
    
    .message {
        margin: 4px 0px;
            }
    .infoM3 td{
     
     float: left;
    }
    .warningM3 td{
     float: left;
    }
    .infoM3 .messageCell{
       margin-top: 2px; 
    }
    .warningM3 .messageCell{
       margin-top: 2px; 
    }   
    .highlights-panel-container {
        width: 100%;
        background: #FFF;
        overflow: hidden;
        display:block;
        height:92vh !important;
        width:15rem !important;
        min-width: 15rem !important;
    }
    .highlights-panel-collapsible {
        min-height: 100px;
    }
    .panel-arrow-down {
        position: absolute;
        top: 45% !important;
        left: 0% !important;
        z-index: 100;
    }
    .panel-arrow-up {
        position: absolute;
        top: 45% !important;
        left: 15rem !important;
        z-index: 100;
    }   
	.imgclass {
		background-image: url('/img/help/helpOrbs.gif');
		background-repeat: no-repeat;
		width: 16px;
		height: 15px;
		background-position: right;
	}
    </style>
    </head>
    
    <apex:form id="frmid">
    <input type = "hidden" value = "MemberDetail" id = "detpagename"/>
    <div class="slds-scope">
        <apex:slds />
        <apex:outputPanel id="misFlag">
            <input type = "hidden" value = "{!RedirecttoMisdirect}" id = "misdirectFlag"/>
            <input type = "hidden" value = "{!ErrorMessage}" id = "errorMsg"/>
            <input type = "hidden" value = "{!DefaultValue}" id = "defaultValue"/>
            <input type = "hidden" id="cduId" value="{!consumerDashURL}"/>
            <style>

             .PCPmodal{
                background-color: white;
                border-width: 2px;
                border-style: solid;
                z-index: 9999;
                left: 50%;
                padding:10px;
                position: fixed;
                top:50%;
                max-width: 1054px;
                display:none;
                transform:translate(-50%, -50%);
            }

            </style>
        </apex:outputPanel>

        <apex:outputPanel id="resultPanel">
            <apex:actionStatus startText="requesting..." stopText="" id="myStatus" />
        </apex:outputPanel>
        <apex:outputPanel id="coverageSizeHidden">
            <input type = "hidden" id="CoveragesSize" value="{!CoveragesSize}"/>
            <input type = "hidden" id = "isServiceError" value = "{!MemberDetail.isServiceError }"/>
            <input type = "hidden" id="isAdvSearched" value="{!MemberDetail.isAdvanceSearched }"/>
            <input type = "hidden" id = "onshoreIndicator" value = "{!MemberDetail.PreferredCoverage.OnshoreRestriction}"/>
            <input type = "hidden" id = "onshoreVerbiage" value = "{!MemberDetail.PreferredCoverage.OnshoreRestrictionVerbiage}"/>
        </apex:outputPanel>
        <apex:outputPanel id="groupError">
            <input type = "hidden" id="isGroupServError" value="{!isGroupServError}"/>
        </apex:outputPanel>
        <!--Modified by abhinav Balla - LDS change-->
        <apex:actionFunction name="afOnPageLoad" action="{!CallWSOnPageLoad}" status="loadpanel" oncomplete="callDatePicker();checkHoldCode();initCaseHistoryTable();processResponsePageLoad();loadVccdParams();" 
        rerender="thePage:frmid:CoverageInfo,thePage:frmid:PolicyDetails,thePage:frmid:coverageDetails;thePage:frmid:covergelevelHistory;frmid:SpecialityBenefits,thePage:frmid:advFilters,thePage:frmid:advFilters1,
              scriptPanel,isServiceError,messagePanel,PrimaryCareInfo,address,phone,coverageSizeHidden,coverage-table,
                  thePage:frmid:coverages,surrKeyPanel,caseActionsComponentId,familymembers,originator,groupError,coverageDetails,covergelevelHistory,SpecialityBenefits,misFlag,ROI,caPanel,PrimaryCareInfo,generalInformation,
          buttonPanel,hlPanel,memberDetailHeader,caseHistory,reportpanel,hPanel,dualCover, BOBPanel" /> <!--toggleOff();-->
       <apex:actionFunction name="afOnPageLoadNew" action="{!CallWSOnPageLoad}"  oncomplete="initCaseHistoryTable();processResponsePageLoad();loadVccdParams();" 
       rerender="thePage:frmid:CoverageInfo,thePage:frmid:PolicyDetails,scriptPanel,isServiceError,messagePanel,PrimaryCareInfo,address,phone,coverageSizeHidden,
       surrKeyPanel,familymembers,originator,coverageDetails,covergelevelHistory,SpecialityBenefits,misFlag,ROI,caPanel,PrimaryCareInfo,generalInformation,
       buttonPanel,hlPanel,memberDetailHeader,reportpanel,hPanel,dualCover,BOBPanel" status="loadpanel"/>
    <apex:actionFunction action="{!addTPtoOriginator}" name="addTPtoOriginator" reRender="originator,calltopicdropdown,callTopicType" oncomplete="$('#callTopicType').chosen();loadcalltopics();">
          <!--<apex:param id="tpChoosenId" name="tpChoosenId" value=""/>-->
          <apex:param id="tpChoosenName" name="tpChoosenName" value=""/>
          <apex:param id="selThirdPartyRecId" name="selThirdPartyRecId" value=""/>

        </apex:actionFunction>
        <apex:actionFunction name="UpdatePCPOBGYN"
            action="{!UpdatePCPOBGYN}" reRender="PrimaryCareInfo,pageerr" >
            <apex:param name="currentpcpId" value=""/>
            <apex:param name="currentpcptype" value=""/>
            <apex:param name="currentpcpAssignmentType" value=""/>
            <apex:param name="currentpcpeffectiveEndDate" value=""/>
            <apex:param name="currentpcpeffectiveStartDate" value=""/>
        </apex:actionFunction>
        <apex:actionFunction name="toggleShowPhysician"
            action="{!toggleShowPrimaryPhysician}" reRender="PrimaryCareInfo" oncomplete="refreshToggleChecked();initPCPTable();" />
        <apex:actionFunction name="selectPrimaryPhysician"
            action="{!selectPrimaryPhysician}" reRender="PrimaryCareInfo" oncomplete="refreshToggleUnChecked();initPCPTable();"/>
        <apex:actionFunction name="changeOriginator"
            action="{!changeOriginator}" reRender="messagePanel,partialHLP,surrKeyPanel,hippapopupPanel,coverage-table1,btnopentopicdetail,casedetailpopupPanel,buttonPanel,calltopicdropdown,callTopicType" oncomplete="$('#callTopicType').chosen();loadVccdParams();loadcalltopics();showLevelFunded();"/>
        <apex:actionFunction name="toggleShowCoverages"
            action="{!toggleShowCoverages}" reRender="thePage:frmid:searchAdv,thePage:frmid:searchAdv1,thePage:frmid:advFilters,thePage:frmid:advFilters1,hlPanel,thePage:frmid:coverages,messagePanel,coverages,refreshCoverageDetails,memberidvalue,memberidHPLvalue,memberidHPLvalueNMem,coverageSizeHidden,coverage-table,surrKeyPanel,caseActionsComponentId,coverageDetails,covergelevelHistory,SpecialityBenefits"
            oncomplete="initCoverageTable();processCoverageTableAfterToggle();makeSecondCallOut();" status="loadpanel" />
                    <!-- Khoushik changed action function for continuation User Story - US605469 -->
        <apex:actionFunction name="selectPreferredCoverage"
            action="{!selectPreferredCoverage}" onComplete="makeSecondCallOut();checkHoldCode();" reRender="caseActionsComponentId,thePage:frmid:generalInformation,coverageSizeHidden,
                                                                                            thePage:frmid:coverageDetails" status="loadpanel"/>
        <apex:actionFunction name="redirectTo" action="{!RedirectToRestrictedPage}" reRender="null" />

        <!-- Added action function for continuation User Story - US605469 -->
        <apex:actionFunction name="CallGetMembership"
            action="{!CallGetMembership}"
            reRender="scriptPanel,hlPanel,familymembers,originator,coverageDetails,covergelevelHistory,SpecialityBenefits,memberidvalue,memberidHPLvalue,memberidHPLvalueNMem,misFlag,ROI,
                      caPanel,PrimaryCareInfo,surrKeyPanel,caseActionsComponentId,generalInformation,messagePanel,buttonPanel,memberDetailHeader,coverageSizeHidden,reportpanel,onshoreRes,BOBPanel"
            oncomplete="showLevelFunded();callPhysicianOnLoad();checkFlags();onChangeOrginator();unhideROI();hideMask();
                        openConsumerDashboard();printTime();$('#callTopicType').chosen();refreshCoverages();" status="loadpanel" />
        <apex:actionFunction name="callHoldRestrictions" action="{!callHoldRestrictions}" status="loadpanel" oncomplete="showMask();showHoldCode();" />
        <!--<apex:actionfunction name="refreshCoverages" action="{!refreshSection}" reRender="onshoreRes"  />
        <apex:actionfunction name="refreshCoverageDetails" action="{!refreshSection}" reRender="coverageDetails"  />-->
        <apex:actionFunction name="hideHoldCode" action="{!hideHoldCode}" reRender="alertHoldCode"/>
           <apex:actionFunction name="showHoldCode" action="{!showHoldCode}" reRender="alertHoldCode,accordscript" oncomplete="resetTable();"/>
           <apex:actionFunction name="mesgeRef" action="{!showHoldErrorMsgs}" reRender="pgmsgHold" status="HoldStatus"/>
           <apex:inputHidden id="theHiddenInputId" value="{!selectedvalue}"/>
          
             <apex:actionFunction name="methodFindMemCustPurchase"  action="{!toggleSBenfits}" rerender="SpecialityBenefits"/>
			  <!-- Ancillary Plan Starts Styx US3732426 -->
				 <apex:actionFunction name="getAncillary" action="{!getAncillaryData}" reRender="ancillaryplans,thePage:frmid:ancillaryplans" status="loadpanel"/>
                 <apex:actionFunction action="{!toggleAncillaryData}" name="toggleincentive" reRender="ancillaryplans,thePage:frmid:ancillaryplans">
                    <apex:param name="toggleParam" value=""/>
                 </apex:actionFunction>
                <apex:actionFunction name="toggleancillary" action="{!toggleancillarytab}" reRender="ancillaryplans,thePage:frmid:ancillaryplans" status="loadpanel"/>
              <!-- end of Ancillary Plan Styx US3732426 -->

        <script>
            function closeHoldCodeAlert()    {
                $("[id$='alertHoldCode']").css("display","none");
                hideMask();
                hideHoldCode();
                return false;
            }
        </script>
        <apex:actionStatus id="loadpanel">
            <apex:facet name="start">
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: black;">
                    &nbsp;
                </div>
                <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 9999; margin: 15% 50%">
                    <div style="display: inline-block; padding: 2px; background-color: #fff; width: 125px;">
                        <img src="/img/loading.gif" style="float: left; margin: 8px;" />
                        <span style="display: inline-block; padding: 10px 0px;">Loading...</span>
                    </div>
                </div>
            </apex:facet>
        </apex:actionStatus>



<!--<apex:actionFunction name="rerenderAllSection" reRender="address,phone,familymembers,originator,coverageDetails,covergelevelHistory,SpecialityBenefits,misFlag,ROI,caPanel,PrimaryCareInfo,surrKeyPanel,generalInformation,messagePanel,buttonPanel,memberDetailHeader,reportpanel" oncomplete="checkFlags();unhideROI();hideMask();openConsumerDashboard();printTime();"/>-->
        <!-- <apex:actionFunction action="{!restrictedCoverageTopics}" status="AjaxLoader" name="restrictedCoverageTopics" rerender="calltopicdropdown"
                             oncomplete="$('#callTopicType').chosen();"/> -->

        <!-- Changes start by Abhinav Balla  -->
        <div class="slds-grid slds-grid--frame slds-grid--vertical">
        <!-- Stage Container -->
       <div class="stage-container slds-grid slds-nowrap slds-size--1-of-1">

        <!-- Stage Left - Navigation --->
        <div class="highlights-panel-container">
                        <div class="highlights-panel-collapsible">
        <nav class="stage-left slds-size--1-of-2 slds-shrink-none slds-scrollable--y slds-page-header slds-p-around--small open" 
             style="display:block;height:92vh;width: 15rem;overflow:scroll;">
           <ul role="navigation" class="slds-has-block-links" >
               <li>
                  <apex:outputPanel id="hlPanel" style="display:block;" rendered="{!!isRestrict}">

                       <c:ACETInteractionHighlightsPanel_LDS id="popupPanel" InteractionAtt="{!Interaction}" showALertAtt="{!isshowGroupALert}"
                            SubjectAtt="{!Subject}" AdditionalInfoAtt="{!AdditionalInfo}" TotalAlerts="{!lstMemAlert}"
                            SurrogateKey="{!MemberDetail.SurrogateKey}" selectedOriginator="{!Originator}" sniEligibility="{!sniEligibility}"></c:ACETInteractionHighlightsPanel_LDS>
            <apex:outputPanel id="caseActionsComponentId" style="display:block;">
                      <div class="slds-docked-form-footer" style="justify-content: flex-end;width: 15rem;height:3rem;">
                          <c:ACETCaseActions attrShowMisdirectButtonLds="true"
                                attrSourceOriginator="{!sourceOriginator}"
                                attrInteractionId="{!Interaction.Id}" attrSubjectId="{!Subject.Id}"
                                attrIsProviderFlow="{!Interaction.Originator_Type__c != 'Member'}"
                                attrSurrogateKey="{!selectedSurrogateKey}"
                                attrCaseDataWrapper="{!wrapper}"
                                attrRefreshNavigationTab="true" />
                                <!--displayRelatedCasesButton="false" -->

                      </div>
            </apex:outputPanel>
                  </apex:outputPanel>

               </li>
           </ul>
       </nav>
       </div>

                    </div>
                    <apex:outputPanel id="hippapopupPanel">
                       <c:ACETHIPPADisclosure InteractionIdAtt="{!Interaction.Id}" subjectDOB="{!MemberDetail.dob}" originatorDOB="{!originatorDOB}"/>
                  </apex:outputPanel>
       <section id="sec" class="stage slds-grid slds-grid--vertical slds-nowrap" style="overflow:hidden;min-height:90vh ; max-height:100vh; ">
       <section id="sec1" class="stage slds-grid slds-grid--vertical slds-nowrap">
          <apex:outputPanel rendered="{!!isMisdirectCaseCreation}">
              <c:ValidateData typeVal="Member Detail"/>
                 <c:ACETThirdPartyContacts SubjectIdAttr="{!Subject.Id}"  additionalInfoAtr="{!AdditionalInfo}" additionalInfoStrAtr="{!hpAdditionInfoStr}" InteractionAttr="{!Interaction}" agentProfileAttr="{!currentUser.profile.name}"></c:ACETThirdPartyContacts>  
                   
              <div class="slds-box slds-theme--inverse" style="height:38px;" id="memberDetailHeader" rendered="{!IF(Interaction.Originator_Type__c != 'Other', true,false) }">
                <div>                
                    <apex:image value="{!URLFOR($Resource.ACETUIIcons,'Member.bmp')}" width="14" height="12" id="headerVal"/>
                    MEMBER DETAIL</div>
                  </div>
              <div style="height:5px;background-color: rgb(244, 246, 249);"></div>
                  <!--<div class=" slds-is-fixed "></div>-->
                  <div class="form-element__group" style="margin: 0% 0%;height:auto;background-color: rgb(244, 246, 249);"> 
                     <div class="slds-form-element__row ">  
                         <table class="slds-form-element" style="width:78%;left:8pc" >
                                 <th style="text-align: center;">
                                    <label class="slds-form-element__label">Originator</label>
                                 </th>
                                 <th>
                                    <apex:outputPanel styleClass="required">
                                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                                     <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                     
                                        <apex:selectList id="originator" size="1" value="{!Originator}"
                                                         styleClass="slds-form-element__control slds-select slds-select_container"
                                                         style="height: 57%;width: auto;max-width: 100%;font-weight: normal;
                                                                margin-right: 1pc;">
                                            <apex:selectOptions value="{!Originators}"></apex:selectOptions>
                                         </apex:selectList>
                                         
                                    </apex:outputPanel>
                                  </apex:outputPanel>
                                 </th>
                                  <th style="text-align: center;">
                                    <apex:outputLabel styleClass="slds-form-element__label" value="Topic" /> 
                                  </th>
                                  <th style="width: auto;max-width: 100%;font-weight: normal;margin-right: 1pc;">
                                      <apex:outputPanel layout="none" id="calltopicdropdown" styleClass="slds-form-element__control " >                                                        
                                                <apex:outputPanel styleClass="requiredInput" layout="block" >
                                                    <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                        
                                                <select id="callTopicType" multiple="true" data-placeholder="Select Topic" >
                                                    <apex:repeat value="{!CallTopicOptions}" var="opt">           
                                                        <apex:outputpanel rendered="{!opt.disabled}">
                                                            <option value="{!opt.Value}" disabled="true"><span class = "select-multi" >{!opt.Label}</span></option>          
                                                        </apex:outputpanel>    
                                                        <apex:outputpanel rendered="{!Not(opt.disabled)}">
                                                            <option value="{!opt.Value}" ><span class = "select-multi">{!opt.Label}</span></option>          
                                                        </apex:outputpanel>
                                                        
                                                        <!-- <option value="{!opt.Value}"><span class = "select-multi">{!opt.Label}</span></option> -->  
                                                                                              
                                                                                                                                            
                                                    </apex:repeat>                                                                                                                          
                                                 </select>
                                                 </apex:outputPanel>
                                   </apex:outputPanel>
                                  </th>
                                   <th style="text-align: center;margin-bottom: 2pc; margin-right: -20pc;">
                                   
                                      <apex:outputPanel id="buttonPanel" layout="none">
                                      <apex:commandButton id="btnopentopicdetail" value="Open Topic" styleClass="btn slds-button slds-button--brand slds-not-selected" disabled="{!levelFundingValue=='ER'}"
                                            onclick="return openTopicDetail('{!JSENCODE(MemberDetailResultJson)}','{!JSENCODE(hpAdditionInfoStr)}','{!JSENCODE(Subject.Id)}','{!JSENCODE(MemberDetail.MemberId)}','{!JSENCODE(MemberDetail.SurrogateKey)}','{!JSENCODE(FamilyInfoStr)}','{!JSENCODE(ssn)}','{!JSENCODE(scrId)}','{!JSENCODE(MemberDetail.CoverageLevelCode)}','{!JSENCODE(city)}','{!JSENCODE(zipCode)}','{!JSENCODE(MemberDetail.CPTIN)}','{!JSENCODE(MemberDetail.ssn)}','{!JSENCODE(MemberDetail.EID)}','{!JSENCODE(listcustinfojson)}')" rendered="{!IF(memNotFound == '1' || (MemberDetail.PreferredCoverage!=null && ($CurrentPage.parameters.SRK != '' || $CurrentPage.parameters.SRK != null)),true,false)}"/>
                                            
                                       <apex:commandButton id="btnopentopicdetail2" value="Open Topic" styleClass="slds-button slds-button_neutral buttonDisableStyle" rendered="{!IF(memNotFound != '1' && (MemberDetail.PreferredCoverage==null || $CurrentPage.parameters.SRK == '' || $CurrentPage.parameters.SRK == null),true,false)}" onclick="return false;" disabled="true"/>
                                      </apex:outputPanel> 
                                  </th>
                               </table>
                      </div> 
                  
                  <!--<div class="slds-form-element__row" style="text-align: center;margin-bottom: 2pc; margin-right: 20pc;">  
                     <div class="slds-form-element" > 
                            
                      </div>
                  </div>-->
                  </div>
                            <div style="height:5px;background-color: rgb(244, 246, 249);"></div>

                  
          
              <!--<div class="slds-box slds-theme--inverse" style="height:18px;" id="memberDetailHeader" rendered="{!IF(Interaction.Originator_Type__c != 'Other', true,false) }" >
                    
              </div>-->
 
              <apex:outputPanel id="messagePanel" layout="none">
                  <apex:pageMessages />
                  <apex:inputHidden id="DisableOpenTopicDetail"
                        value="{!DisableOpenTopicDetail}" />
              </apex:outputPanel>
              <div id="errorMsgDiv" style="margin-left: 31%"></div>
          <!-- Stage Main -->
              </apex:outputPanel>
          </section>
          
          <section id="sec2" class="stage slds-grid slds-grid--vertical slds-nowrap" style="overflow:hidden;">
              <apex:outputPanel rendered="{!!isMisdirectCaseCreation}">
              <div class="stage-main slds-panel slds-grid slds-wrap slds-grow slds-scrollable--y slds-form--compound" 
                   style="display:block;height: 84vh;overflow: scroll;width:100%;background-color: white;" role="main">
                  <div class="panel-arrow-down hide-arrow" onclick="scrollHighlightsPanel();" auto-doc-item="false">
                        <img class="arrow-down" src="{!URLFOR($Resource.highlightspanelarrows, '/hparrowright.png')}" border="0" />
                    </div>
                    <div class="panel-arrow-up show-arrow" onclick="scrollHighlightsPanel();" auto-doc-item="false">
                        <img class="arrow-up" src="{!URLFOR($Resource.highlightspanelarrows, '/hparrowleft.png')}" border="0" />
                    </div>
                  <!--<div class="slds-text-heading_medium titleBold slds-form-element__label" style="margin: 1pc 2pc 2pc;">
                     <div>Find Topics</div>
                  </div>-->
                  <!--
                  <apex:outputPanel rendered="{!memNotFound != '1'}">
                      <hr style="margin:2px 2px" />
                  </apex:outputPanel> -->
                  <!-- Other Contacts Section Starts-->

                <c:ACETQuickLinks bgColor="#3385FF" fontColor="Black" quickLinks="{!QuickLinksList}"></c:ACETQuickLinks>
                <apex:outputPanel id="ROI" rendered="{!(memNotFound != '1' && !IsRestrict)}">
                    <apex:outputpanel id="ROIinside" > 
                       <!-- <a href="javascript:void(0);" class="panel-heading accordion-toggle collapsed" data-toggle="collapse" data-target="#otherContactInfo" style="float: left;left: 33px;" id="lnkOtherContact"></a>-->
                        <a href="javascript:void(0);" class="changeText collapsed" data-toggle="collapse" data-target="#otherContactInfoData" style="float:right" id="lnkOtherContact"></a>
                            <div id="ROIInfo" class="slds-panel__section" style="padding: 0 2pc 1px;" columns="1">
                            <legend class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Other Contact</legend>
                            <div id="otherContactInfoData" class="form-element__group fieldLayout collapse" >
                                <div class="slds-table slds-table_bordered slds-table_cell-buffer" columns="1">
                                     <apex:dataTable value="{!MemberDetail.ROIcontacts}" var="objROI" id="tblROI">
                                         <apex:column styleclass="slds-cell-wrap" headerValue="First Name" value="{!objROI.firstName}"/>
                                         <apex:column styleclass="slds-cell-wrap" headerValue="Last Name" value="{!objROI.lastName}"/>
                                         <apex:column styleclass="slds-cell-wrap" headerValue="Middle Initial" value="{!objROI.middleName}"/>
                                         <apex:column styleclass="slds-cell-wrap" headerValue="Effective Date" value="{!objROI.effectiveDate}"/>
                                         <apex:column styleclass="slds-cell-wrap" headerValue="End Date" value="{!objROI.terminationDate}"/>
                                    </apex:dataTable>
                                </div>
                            </div>
                        </div>
                    </apex:outputPanel>
                </apex:outputpanel>
                <!-- Other Contacts Section Ends-->
                   <apex:outputPanel rendered="{!memNotFound != '1'}">
                      <hr style="margin:2px 2px" />
                  </apex:outputPanel>
          
                  <apex:outputPanel id="PolicyDetails" rendered="{!memNotFound != '1'}">
                     <script>
    
                        $('.slds-tabs_scoped__link').click(function(){
                              $(this).parent().parent().find('.slds-tabs_scoped__link').attr('aria-selected','false');
                              $(this).attr('aria-selected','true');
                              $(this).parent().parent().find('.slds-tabs_scoped__link').attr('tabindex','-1');
                              $(this).attr('tabindex','0');
                              $(this).parent().parent().children().removeClass('slds-active');
                              $(this).parent().addClass('slds-active');
                              $(this).parent().parent().parent().find('.'+$(this).parent().parent().parent().find('.slds-tabs_scoped__content')[0].classList[0]).removeClass('slds-show').addClass('slds-hide');
                              $(this).parent().parent().parent().find('#'+$(this).attr('aria-controls')).removeClass('slds-hide').addClass('slds-show');
                            }); 
                      </script>
                   <div style="padding: 0 2pc 1px;" class="slds-form-element__label slds-text-heading_medium titleBold" >Policy Details</div>

                      <div id="policydet" class="slds-panel__section " style="padding: 0 2pc 1px;" columns="1">
                         <apex:outputPanel id="advFilters" style="width:100%" rendered="{!searchOnLoad=false}">
                          <div class="form-element__group fieldLayout collapse" id="advFiltersInfo">
                           
                           <div class="form-element__group" >
                                    <div class="slds-form-element__row " > <!--style="margin-bottom: 1.0rem;"-->
                                        <div class="slds-form-element"  style="width:auto;">  
                                            <apex:outputLabel style="width:100%;" styleClass="slds-form-element__label slds-cell-wrap" value="Coverage Type"></apex:outputLabel>
                                            <div>
                                             <apex:selectList id="CoverageTypeId" size="1" value="{!CoverageTypeValue}" styleClass="slds-cell-wrap slds-form-element__control slds-select slds-select_container" style="height:0pc;width:100%;" >
                                                        <apex:selectOptions value="{!CoverageTypeOption}"></apex:selectOptions>
                                                    </apex:selectList>   
                                            </div>
                                        </div>                
                                        <div class="slds-form-element" style="width:auto">  
                                            <apex:outputLabel style="width:100%;" styleClass="slds-form-element__label slds-cell-wrap" value="Group Number"></apex:outputLabel>
                                            <div>
                                            <apex:selectList id="GroupNumberId" size="1" value="{!groupNumberValue}" styleClass="slds-cell-wrap slds-form-element__control slds-select slds-select_container" style="height:0pc;width:100%;" >
                                                        <apex:selectOptions value="{!groupNumberOption}"></apex:selectOptions>
                                                    </apex:selectList>
                                            </div>
                                        </div>
                                        <div class="slds-form-element" style="width:auto;">  
                                            <apex:outputLabel style="width:100%;" styleClass="slds-form-element__label slds-cell-wrap" value="Group Name"></apex:outputLabel>
                                            <div>
                                                <apex:selectList id="GroupNameId" size="1" value="{!groupNameValue}" styleClass="slds-cell-wrap slds-form-element__control slds-select slds-select_container" style="height:0pc;width:100%;" >
                                                        <apex:selectOptions value="{!groupNameOption}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                        </div>
                                        
                                       <div class="slds-form-element" style="width:auto;">
                                           <apex:outputLabel style="width:100%;" styleClass="slds-cell-wrap slds-form-element__label" value="Effective Date"></apex:outputLabel>
                                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
                                               
                                                <input id="effectiveDatePicker" value="{!effectiveDateValue}" autocomplete="off" class="slds-input" type="text" placeholder="MM/DD/YYYY" label="Effective Date"  onchange="document.getElementById('{!$Component.hiddenEffDateVar}').value = this.value;" />
                                                <apex:inputHidden value="{!effectiveDateValue}" id="hiddenEffDateVar" />
                                            </div>
                                      </div>
                                      <div class="slds-form-element" style="width:auto;">
                                           <apex:outputLabel style="width:100%;" styleClass="slds-cell-wrap slds-form-element__label" value="End Date"></apex:outputLabel>
                                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
                                               
                                                <input id="endDatePicker" value="{!endDateValue}" autocomplete="off" class="slds-input" type="text" placeholder="MM/DD/YYYY" label="End Date"  onchange="document.getElementById('{!$Component.hiddenEndDateVar}').value = this.value;" />
                                                <apex:inputHidden value="{!endDateValue}" id="hiddenEndDateVar" />
                                            </div>
                                      </div>
                                        
                                        <div class="slds-form-element" style="width:auto;">  
                                            <apex:outputLabel style="width:100%;" styleClass="slds-cell-wrap slds-form-element__label" value="Source Code"></apex:outputLabel>
                                            <div >
                                                <apex:selectList id="sourceCodeId" size="1" value="{!sourceCodeValue}" styleClass="slds-cell-wrap slds-form-element__control slds-select slds-select_container" style="height:0pc;width:100%;" >
                                                        <apex:selectOptions value="{!sourceCodeOption}"></apex:selectOptions>
                                                    </apex:selectList>
                                            </div>
                                        </div>
                                        <div class="slds-form-element" style="text-align: center;width:auto;margin-top: 20px;margin-left: 1pc; "> <!--margin-right: -20pc;-->
                                   
                                          <apex:outputPanel id="buttonPanelSearch" layout="none">
                                          <apex:commandButton id="btnsearchdetail" value="Search" styleClass="btn slds-button slds-button--brand slds-not-selected"
                                                onclick="toggleOff();" reRender="none" /> <!--oncomplete="afOnPageLoad();"-->
                                         </apex:outputPanel> 
                                       </div>
                                        <div class="slds-form-element" style="text-align: center;width:auto;margin-top: 20px;margin-left: 1pc; "> <!--margin-right: -20pc;-->
                                          <apex:outputPanel id="buttonPanelClear" layout="none">
                                         <apex:commandButton id="btnclearDetail" style="margin-left: 1pc;" value="Clear" styleClass="btn slds-button slds-button--brand slds-not-selected"
                                                onclick="RefreshTab();" reRender="none" />  
                                              <!-- reRender="advFilters,advFilters1" oncomplete="afOnPageLoad();"-->
                                                
                                         </apex:outputPanel> 
                                       </div>
                                     </div>
                                 </div>
                             </div>
                             </apex:outputPanel>
                             <apex:outputPanel id="advFilters1" style="width:100%" rendered="{!searchOnLoad=true}">
                          <div class="form-element__group fieldLayout collapse in" id="advFiltersHideInfo">
                           <div class="form-element__group" >
                                    <div class="slds-form-element__row " > <!--style="margin-bottom: 1.0rem;"-->
                                        <div class="slds-form-element"  style="width:auto;">  
                                            <apex:outputLabel style="width:100%;" styleClass="slds-form-element__label slds-cell-wrap" value="Coverage Type"></apex:outputLabel>
                                            <div>
                                             <apex:selectList id="CoverageTypeId1" size="1" value="{!CoverageTypeValue}" styleClass="slds-cell-wrap slds-form-element__control slds-select slds-select_container" style="height:0pc;width:100%;" >
                                                        <apex:selectOptions value="{!CoverageTypeOption}"></apex:selectOptions>
                                                    </apex:selectList>   
                                            </div>
                                        </div>                
                                        <div class="slds-form-element" style="width:auto">  
                                            <apex:outputLabel style="width:100%;" styleClass="slds-form-element__label slds-cell-wrap" value="Group Number"></apex:outputLabel>
                                            <div>
                                            <apex:selectList id="GroupNumberId1" size="1" value="{!groupNumberValue}" styleClass="slds-cell-wrap slds-form-element__control slds-select slds-select_container" style="height:0pc;width:100%;" >
                                                        <apex:selectOptions value="{!groupNumberOption}"></apex:selectOptions>
                                                    </apex:selectList>
                                            </div>
                                        </div>
                                        <div class="slds-form-element" style="width:auto;">  
                                            <apex:outputLabel style="width:100%;" styleClass="slds-form-element__label slds-cell-wrap" value="Group Name"></apex:outputLabel>
                                            <div>
                                                <apex:selectList id="GroupNameId1" size="1" value="{!groupNameValue}" styleClass="slds-cell-wrap slds-form-element__control slds-select slds-select_container" style="height:0pc;width:100%;" >
                                                        <apex:selectOptions value="{!groupNameOption}"></apex:selectOptions>
                                                    </apex:selectList>
                                                </div>
                                        </div>
                                        
                                       <div class="slds-form-element" style="width:auto;">
                                           <apex:outputLabel style="width:100%;" styleClass="slds-cell-wrap slds-form-element__label" value="Effective Date"></apex:outputLabel>
                                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
                                               
                                                <input id="effectiveDatePicker1" value="{!effectiveDateValue}" autocomplete="off" class="slds-input" type="text" placeholder="MM/DD/YYYY" label="Effective Date"  onchange="document.getElementById('{!$Component.hiddenEffDateVar1}').value = this.value;" />
                                                <apex:inputHidden value="{!effectiveDateValue}" id="hiddenEffDateVar1" />
                                            </div>
                                      </div>
                                      <div class="slds-form-element" style="width:auto;">
                                           <apex:outputLabel style="width:100%;" styleClass="slds-cell-wrap slds-form-element__label" value="End Date"></apex:outputLabel>
                                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
                                               
                                                <input id="endDatePicker1" value="{!endDateValue}" autocomplete="off" class="slds-input" type="text" placeholder="MM/DD/YYYY" label="End Date"  onchange="document.getElementById('{!$Component.hiddenEndDateVar1}').value = this.value;" />
                                                <apex:inputHidden value="{!endDateValue}" id="hiddenEndDateVar1" />
                                            </div>
                                      </div>
                                        
                                        <div class="slds-form-element" style="width:auto;">  
                                            <apex:outputLabel style="width:100%;" styleClass="slds-cell-wrap slds-form-element__label" value="Source Code"></apex:outputLabel>
                                            <div >
                                                <apex:selectList id="sourceCodeId1" size="1" value="{!sourceCodeValue}" styleClass="slds-cell-wrap slds-form-element__control slds-select slds-select_container" style="height:0pc;width:100%;" >
                                                        <apex:selectOptions value="{!sourceCodeOption}"></apex:selectOptions>
                                                    </apex:selectList>
                                            </div>
                                        </div>
                                        
                                        <div class="slds-form-element" style="text-align: center;width:auto;margin-top: 20px;margin-left: 1pc; "> <!--margin-right: -20pc;-->
                                   
                                          <apex:outputPanel id="buttonPanelSearch1" layout="none">
                                          <apex:commandButton id="btnsearchdetail1" value="Search" styleClass="btn slds-button slds-button--brand slds-not-selected"
                                                onclick="toggleOff();" reRender="none"  /> <!-- oncomplete="alert('came');afOnPageLoad();"-->
                                                
                                         </apex:outputPanel> 
                                       </div>
                                        <div class="slds-form-element" style="text-align: center;width:auto;margin-top: 20px;margin-left: 1pc; "> <!--margin-right: -20pc;-->
                                          <apex:outputPanel id="buttonPanelClear1" layout="none">
                                         <apex:commandButton id="btnclearDetail1" style="margin-left: 1pc;" value="Clear" styleClass="btn slds-button slds-button--brand slds-not-selected"
                                                             onclick="RefreshTab();" reRender="none" />  
                                              <!-- reRender="advFilters,advFilters1" oncomplete="afOnPageLoad();"-->                                                                                                
                                         </apex:outputPanel> 
                                       </div>
                                     </div>
                                 </div>
                                </div>
                  
                          </apex:outputPanel>
                          <div id="CovTabPanel">
                         <div class="slds-tabs_scoped slds-tabs_midium">
                                      <ul class="slds-tabs_scoped__nav" role="tablist">
                                        <li class="slds-tabs_scoped__item slds-active" title="Coverages" role="presentation">
                                            <a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-1" id="tab-scoped-1__item" >Coverages</a>
                                        </li>
                                        <li class="slds-tabs_scoped__item" title="Coverage Details" role="presentation">
                                            <a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-2" id="tab-scoped-2__item">Coverage Details</a>
                                        </li>
                                         <li class="slds-tabs_scoped__item" title="Coverage Level Change Log" role="presentation">
                                            <a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-3" id="tab-scoped-3__item" >Coverage Level Change Log</a>
                                        </li>
                                          <li class="slds-tabs_scoped__item" title="Specialty Benefits" role="presentation" onclick="methodFindMemCustPurchase()">
                                            <a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-4" id="tab-scoped-4__item" >Specialty Benefits</a>
                                        </li>
										<!-- Ancillary Plan Section Starts Styx US3732426 -->
										<li class="slds-tabs_scoped__item" title="Ancillary Plans" role="presentation" onclick="getAncillary()">
											<a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-5" id="tab-scoped-5__item" >Ancillary Plans</a>
										</li>
										<!-- End of Ancillary Plan Section Styx US3732426 -->
                                       <li style="width: 100%;" >
                                       <apex:outputPanel id="searchAdv" rendered="{!searchOnLoad=false}">
                                           <a href="javascript:void(0);" class="changeAdvanceSearch collapsed" data-toggle="collapse" 
                                           data-target="#advFiltersInfo" style="float:right;" onclick="callDatePicker();"></a>
                                        </apex:outputPanel>
                                        <apex:outputPanel id="searchAdv1" rendered="{!searchOnLoad=true}" >
                                        <a href="javascript:void(0);" class="changeAdvanceSearch" data-toggle="collapse" 
                                           data-target="#advFiltersHideInfo" style="float:right;" onclick="callDatePicker();"></a>
                                       </apex:outputPanel>
                                      </li>
                                      <li style="width: 17%;">
                                       <label class="slds-checkbox_toggle" >
                                          <span class="slds-form-element__label slds-m-bottom_none" style="margin:0pc;"></span>
                                          <input id="toggleCheckboxCoverage" name="showCoverage" aria-describedby="toggle-desc" checked="false" type="checkbox" value="Active Only">
                                          <span class="slds-checkbox_faux_container" id="toggle-desc" aria-live="assertive">
                                            <span class="slds-checkbox_on" style="float:right;margin-right: -19px;">Active Only
                                            <span class="slds-checkbox_faux" style="float:right;margin-left:7px"></span>
                                            </span>
                                            <span class="slds-checkbox_off" style="float:right;margin-right:-19px;">All
                                            <span class="slds-checkbox_faux" style="float:right;margin-left:10px"></span>
                                            </span>
                                          </span>
                                          </input>
                                        </label>
                                          </li>
                                       </ul>
                                      <div id="tab-scoped-1" class="slds-tabs_scoped__content slds-show" role="tabpanel" aria-labelledby="tab-scoped-1__item">
                                       <apex:outputPanel rendered="{!(memNotFound != '1' && !isRestrict)}" id="CoverageInfo">
                                <!--<a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#CoverageInfo" style="float:right" > </a>
                                 <div class="slds-panel__section" style="padding: 0 2pc 0pc;"> --> 
                                  <!--<div class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Coverages</div>  -->
                                  <!--<div class="form-element__group fieldLayout collapse in" id="CoverageInfo">
                                  <div class="form-element__group">-->
                                   <!--<apex:pageBlock id="mainDetail" mode="mainDetail">             
                                    <apex:pageblockSection id="coverages" columns="1" title="" rendered="{!(memNotFound != '1' && !isRestrict)}">
                                        -->
                                           <apex:inputHidden id="preferredCoverageGUID"
                                            value="{!ProferredCoverageGUID}"  /> 
                                         <apex:outputPanel id="coverages">
                                             
                                         <div>   
                                            <apex:outputPanel id="levelFundingAndDualCoverageMessages" style="{!If(OR(memberDetail.AffiliationIndicator,levelFundingValue!=''),'','display:none')}">
                                                <div id="bookOfBusinessErrorDiv" style="display:none">
                                                    <apex:pageMessage title="Book of Business not valid" severity="error" strength="3" /> 
                                                    <apex:outputPanel style="{!If(memberDetail.AffiliationIndicator,'','display:none')}">
                                                        <div class="message infoM3">
                                                            <img alt="INFO" class="msgIcon" src="/s.gif" title="INFO" />  
                                                            <apex:outputLabel rendered="{!memberDetail.AffiliationIndicator}" styleclass="dualCoverage" value="Dual Internal Coverage Exists" escape="false" style="margin-left:15px;"></apex:outputLabel>  
                                                        </div>
                                                    </apex:outputPanel>
                                                </div>
                                                <apex:outputPanel style="{!If(OR(memberDetail.AffiliationIndicator,levelFundingValue!='ER'),'','display:none')}">
                                                    <div class="message infoM3" id="bookOfBusinessDiv" style="display:none">
                                                        <img alt="INFO" class="msgIcon" src="/s.gif" title="INFO" />                                                   
                                                        <apex:outputLabel id="levelFunding" escape="false" style="margin-left:15px;display:none;"></apex:outputLabel>  
                                                        <apex:outputLabel rendered="{!memberDetail.AffiliationIndicator}" styleclass="dualCoverage" value="Dual Internal Coverage Exists" escape="false" style="margin-left:15px;"></apex:outputLabel>  
                                                        <apex:outputLabel id="affiliationIndicator" value="{!memberDetail.AffiliationIndicator}" style="display:none;"/>
                                                        <apex:inputHidden id="levelFundingValue" value="{!levelFundingValue}" /> 
                                                    </div>    
                                                </apex:outputPanel> 
                                             </apex:outputPanel>
                                             <apex:outputPanel id="BOBPanel">
                                                 <input type="hidden" id="BOBTypeCode" value="{!memberDetail.bookOfBusinessTypeCode}"/>
                                                 <input type="hidden" id="BOBTypeDesc" value="{!memberDetail.bookOfBusinessTypeDesc}"/>
                                             </apex:outputPanel>
                                            <apex:dataTable id="coverage-table" value="{!Coverages}" var="cl" >                                    
                                                <apex:column style="vertical-align:top" styleclass="slds-cell-wrap" headerValue="Active">
                                                  <apex:inputHidden id="clGUID" value="{!cl.GUID}" />                                     
                                                  <apex:inputHidden id="clActive" value="{!cl.isActive}" />
                                                  <apex:inputHidden id="COEffectiveDate" value="{!cl.COEffectiveDate}" />
                                                  <apex:inputHidden id="COEndDate" value="{!cl.COEndDate}" />
                                                  <apex:inputHidden id="customerPurchaseId" value="{!cl.customerPurchaseId}" />
                                                  <!--  <img src="{!URLFOR($Resource.ACETResources, '/img/m/' + IF(cl.IsActive == true, 'active.jpg', 'inactive.jpg'))}" /> -->
                                                  <img src="{!URLFOR($Resource.ACETResources, '/img/m/' +cl.Image+'.jpg')}" />
                                                </apex:column>
                                                <apex:column styleclass="slds-cell-wrap" value="{!cl.CoverageType}" headerValue="Coverage Type" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!cl.coverageMemberId}" headerValue="Member ID" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!cl.GroupNumber}" headerValue="Group Number" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!cl.GroupName}" headerValue="Group Name" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!cl.EffectiveDate}" headerValue="Effective Date" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!cl.EndDate}" headerValue="End Date" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!cl.SourceCode}" headerValue="Source Code" />
                                             <!--   <apex:column styleclass="slds-cell-wrap" value="{!cl.CoverageLevel}"  headerValue="Coverage Level" />  -->
                                                    
                                                <!-- <apex:column styleclass="slds-cell-wrap" style="color:blue" title="{!cl.OnshoreRestrictionVerbiage}"  headerValue="Onshore Restriction" >
                                                 <apex:outputpanel id="onshoreRes">
                                                    {!cl.OnshoreRestriction}
                                                </apex:outputpanel>  
                                                </apex:column>-->
                                                <apex:column styleclass="slds-cell-wrap hideColumn" value="{!cl.Product}"  />
                                                <apex:column styleclass="slds-cell-wrap hideBenefitPlanIdClass" value="{!cl.benefitPlanId}" id="planBenefitIdCov" /> 
                                                <apex:column styleclass="slds-cell-wrap hideBenefitPlanIdClass" value="{!cl.DaysGap}" />
                                                <apex:column styleclass="slds-cell-wrap hideColumn" value="{!cl.isPreferred}" id="isPreferred" /><!-- Code Added by Chandan -US1365690 -->
                                                <apex:column styleclass="slds-cell-wrap hideColumn bookOfBusinessTypeCode" value="{!cl.bookOfBusinessTypeCode}"  />
                                                <!--<apex:column styleclass="slds-cell-wrap hideColumn" value="{!cl.isAdvanceSearched }" id="clAdvanceSearched" /><!-- Code Added by Chandan -US1365690 -->

                                            </apex:dataTable> 
                                                <!-- code commented by Avish on 11/01/2018 -->                        
                                               <!-- <apex:outputText style="position: relative; left: 20%;" id="coverageMsg" value="Member does not have active CIRRUS coverage(s). Click the Coverages button to see inactive/future coverage(s)." rendered="{!IF((coveragesSize == ' ' || coveragesSize == '0'), true, false)}"></apex:outputtext> -->                          
                                                                                                           
                                        </div>
                                         
                                        </apex:outputPanel>
                                        <!--<apex:outputPanel id="coverageMsg1" rendered="{!IF((coveragesSize == '0'), true, false)}">
                                                Member does not have active coverage(s). Click the 'All' button to see inactive/future coverage(s).  
                                        </apex:outputPanel> -->
                                    <!--</apex:pageblockSection>
                                    
                                     </apex:pageBlock> -->
                                   <!--</div>
                                 </div> -->
                               <!--</div> --> 
                         </apex:outputPanel>
                         </div>
                                          
                         <div id="tab-scoped-2" class="slds-tabs_scoped__content slds-hide" role="tabpanel" aria-labelledby="tab-scoped-2__item">
                          <!-- Coverage Table Section Starts -->
                          <apex:outputPanel id="coverageDetails" rendered="{!(memNotFound != '1' && !isRestrict)}">
                             
                          <!--<a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#CovDetInfo" style="float:right" > </a>
                           <div class="slds-panel__section"  style="padding: 0 2pc 0pc">  -->               
                            <!--<div class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Coverage Details</div>  -->
                                 <div class="form-element__group fieldLayout collapse in" id="CovDetInfo">
                                    <div class="slds-form-element__row">  
                                         <!-- ADD FIELDS -->  
                                         <div class="slds-form-element " >
                                             <!--{!searchOnLoad}-->
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Network"></apex:outputLabel>  
                                           <apex:outputText value="{!MemberDetail.Network}" styleClass="slds-form-element__label slds-form-element__control slds-text-body--small" id="cd1" rendered="{!Coverages != null && Coverages.size >= 1}"/>  
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                         </div>  
                                         <div class="slds-form-element " >  
                                           <apex:outputLabel styleClass="slds-form-element__label labelFormat" value="Funding Arrangement"></apex:outputLabel>  
                                           <apex:outputText value="{!MemberDetail.FundingArragement}" styleClass="slds-form-element__label slds-text-body--small" id="cd2" rendered="{!Coverages != null && Coverages.size >= 1}"/>  
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                         </div> 
                                   </div>
                                   <!-- ADD ROW -->  
                                   <div class="slds-form-element__row">  
                                       
                                     <div class="slds-form-element " >  
                                       <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Situs State"></apex:outputLabel>  
                                       <apex:outputText value="{!MemberDetail.SitusState}" styleClass="slds-form-element__label slds-text-body--small" id="cd3" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                       <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                     </div>
                                     <div class="slds-form-element " >  
                                       <apex:outputLabel styleClass="slds-form-element__label  labelFormat" value="Benefit Plan ID"></apex:outputLabel>  
                                       <apex:outputText value="{!MemberDetail.BenefitPlanId}" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages != null && Coverages.size >= 1}"/>
                                       <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                     </div>  
                                   </div>   
                                   <!-- ADD ROW -->  
                                   <div class="slds-form-element__row" >  
                                     <!--<div class="slds-form-element " style="width: 50%;" id="memStatus">  
                                       <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Member Status"></apex:outputLabel>  
                                       <apex:outputLink value="#" onclick="showMask();showHoldCode();" style="color:blue" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages != null && Coverages.size >= 1 && MemberDetail.MemberStatus == 'PEND'}">{!MemberDetail.MemberStatus}</apex:outputLink> 
                                       <apex:outputText value="{!MemberDetail.MemberStatus}" styleClass="slds-form-element__label slds-text-body--small" id="cd5" rendered="{!Coverages != null && Coverages.size >= 1 && MemberDetail.MemberStatus != 'PEND'}"/> 
                                       <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                     </div>-->
                                     <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Benefit Status"></apex:outputLabel>  
                                           <apex:outputText value="{!MemberDetail.EligibilityStatus}" styleClass="slds-form-element__label slds-text-body--small" id="cd7" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null}"/> 
                                      </div>
                                     <div class="slds-form-element " style="width: 50%;">  
                                       <apex:outputLabel styleClass="slds-form-element__label  labelFormat " value="Benefit Bundle Option ID"></apex:outputLabel>  
                                       <apex:outputText value="{!MemberDetail.BundleOptionID}" styleClass="slds-form-element__label slds-text-body--small" id="cd6" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                       <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                     </div>
                                   </div>
                                   <apex:outputPanel styleclass="slds-form-element__row">
                                         <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="QMSCO Indicator"></apex:outputLabel>  
                                           <apex:outputText value="{!MemberDetail.QMSCOIndicator}" styleClass="slds-form-element__label slds-text-body--small" id="cd9" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                         </div>      
                                         <!-- US1744309 starts -->                     
                                         <div class="slds-form-element " style="width: 50%;" > 
                                             <div class="slds-form-element">  
                                               <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" id="exchangeType" value="Exchange Type"></apex:outputLabel>  
                                               <apex:outputText value="{!MemberDetail.exchangeState} Shop" styleClass="slds-form-element__label slds-text-body--small" rendered="{!IF(Coverages != null && Coverages.size >= 1 && memberDetail.exchangeType == 'Public State Exchange',true,false)}"/>  
                                               <apex:outputText styleClass="slds-form-element__label slds-text-body--small" rendered="{!IF(Coverages == null || memberDetail.exchangeType != 'Public State Exchange',true,false)}">None</apex:outputText> 
                                             </div> 
                                       </div>
                                        <!-- US1744309 ends -->
                                  </apex:outputPanel>
                                   <apex:outputPanel styleclass="slds-form-element__row">  
                                       <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Benefit's Administrator"></apex:outputLabel>  
                                           <apex:outputText value="{!MemberDetail.benefitAdmin}" styleClass="slds-form-element__label slds-text-body--small" id="cd11" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                       </div>
                                       <div class="slds-form-element " style="width: 50%;" > 
                                             <div class="slds-form-element">  
                                               <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Group Size"></apex:outputLabel>  
                                               <apex:outputText value="{!MemberDetail.GroupSize}" styleClass="slds-form-element__label slds-text-body--small" id="cd8" rendered="{!Coverages != null && Coverages.size >= 1}"/>  
                                               <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                             </div> 
                                       </div>
                                      
                                  </apex:outputPanel>    
                                   <!-- US1053027 start-->
                                   <apex:outputPanel styleclass="slds-form-element__row">  
                                       <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Benefit's Administrator Phone"></apex:outputLabel>  
                                           <apex:outputText value="{!MemberDetail.benefitAdminPhone}" styleClass="slds-form-element__label slds-text-body--small" id="cd13" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                      </div>
                                      <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Coverage Level"></apex:outputLabel>  
                                           <apex:outputText value="{!MemberDetail.CoverageLevelCode}" styleClass="slds-form-element__label slds-text-body--small" id="cd10" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                      </div>                              
                                   </apex:outputPanel> 
                                  <!--US1053027 End --> 
                                  <apex:outputPanel styleclass="slds-form-element__row">  
                                         
                                      <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Gated Plan"></apex:outputLabel>  
                                           <apex:outputText value="{!MemberDetail.gatedPlanIndicator}" styleClass="slds-form-element__label slds-text-body--small" id="cd14" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                      </div> 
                                      <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="HSA Eligible"></apex:outputLabel>  
                                           <apex:image value="/s.gif" styleclass="helpIcon" id="helpText"  title="This plan's benefits conform to the Internal Revenue Service (IRS) guidelines for a qualified high-deductible health plan that is eligible to have a Health Savings Account (HSA)." />
                                           <apex:outputText value=" {!MemberDetail.hsaAvailable}" styleClass="slds-form-element__label slds-text-body--small" id="cd12" rendered="{!Coverages != null && Coverages.size >= 1}"/> 
                                           <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                      </div>                              
                                      <!--<div></div>-->
                                  </apex:outputPanel> 
                                  <apex:outputPanel styleclass="slds-form-element__row">  
                                      <!-- US2884153 -->   
                                      <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Migration Source"></apex:outputLabel>  
                                           <apex:outputText value=" {!MemberDetail.migrationSourceSystem}" styleClass="slds-form-element__label slds-text-body--small" />
                                      </div>                         
                                      <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Onshore Restriction"></apex:outputLabel>  
                                           <apex:image value="/s.gif" styleclass="helpIcon" id="helpTextOnshore"  title="{!MemberDetail.PreferredCoverage.OnshoreRestrictionVerbiage}" />
                                           <apex:outputText id="onshoreValue" value=" {!MemberDetail.PreferredCoverage.OnshoreRestriction}" styleClass="slds-form-element__label slds-text-body--small" /> 
                                           
                                      </div> 
                                      <!--<div></div>-->
                                  </apex:outputPanel> 
                                  <apex:outputPanel styleclass="slds-form-element__row">  
                                      <!-- US2874415 START -->   
                                      <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Parent Group"></apex:outputLabel>  
                                           <apex:outputText value=" {!memberDetail.parentGroup}" styleClass="slds-form-element__label slds-text-body--small" />
                                      </div>                         
                                      <div class="slds-form-element " style="width: 50%;">  
                                           <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Alpha Parent Group"></apex:outputLabel>  
                                           <apex:outputText value=" {!memberDetail.alphaparentGroup}" styleClass="slds-form-element__label slds-text-body--small" /> 
                                           
                                      </div> 
                                     <!-- US2874415 END -->  
                                  </apex:outputPanel> 
                                     
                                 </div>
                            <!-- </div> --> 
                         </apex:outputPanel>

                         </div>
                         <div id="tab-scoped-3" class="slds-tabs_scoped__content slds-hide" role="tabpanel" aria-labelledby="tab-scoped-3__item">
                             
                           <!-- Coverage Level Change Log Section Starts-->
                           <apex:outputPanel id="covergelevelHistory" rendered="{!(memNotFound != '1' && !isRestrict)}">
                           <!--<a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#covHis" style="float:right;"></a>
                           
                           <div class="slds-panel__section " style="padding: 0 2pc 0pc;" columns="1">-->
                            <!-- <legend class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Coverage Level Change Log </legend>-->
                                 <div class="form-element__group fieldLayout collapse in" id="covHis"> 
                                    <div class="slds-table slds-table_bordered slds-table_cell-buffer" columns="1">
                                        <apex:dataTable value="{!MemberDetail.lstCoverageLineHistory}" var="clh" id="coverageHis-table">
                                            <apex:column styleclass="slds-cell-wrap" value="{!clh.covLevelCode}" headerValue="Coverage Level Code" />
                                            <apex:column styleclass="slds-cell-wrap" value="{!clh.covLevelDesc}" headerValue="Coverage Level Description" />
                                            <apex:column styleclass="slds-cell-wrap" headerValue="Effective Date" >
                                                      <apex:outputText value="{0,date,MM/dd/yyyy}">
                                                            <apex:param value="{!clh.covLevelEffDate}" />
                                                      </apex:outputText>
                                            </apex:column>
                                            <apex:column styleclass="slds-cell-wrap" headerValue="Expiration Date" >
                                                      <apex:outputText value="{0,date,MM/dd/yyyy}">
                                                            <apex:param value="{!clh.covLevelExpDate}" />
                                                      </apex:outputText>
                                            </apex:column>
                                        </apex:dataTable>
                                    </div>
                                </div>
                             <!-- </div>-->
                           </apex:outputPanel> 
                             
            
                          <!-- Coverage Level Change Log Section Ends-->
                         </div>
                          <div id="tab-scoped-4" class="slds-tabs_scoped__content slds-hide" role="tabpanel" aria-labelledby="tab-scoped-4__item">
                             
                           <!-- Specialty Benefits Section Starts-->
                           <apex:outputPanel id="SpecialityBenefits" rendered="{!(memNotFound != '1' && !isRestrict)}">
                            <apex:outputPanel id="spl_levelFundingAndDualCoverageMessages" style="{!If(OR(memberDetail.AffiliationIndicator,levelFundingValue!=''),'','display:none')}">
                                                <apex:outputPanel style="{!If(OR(memberDetail.AffiliationIndicator,levelFundingValue!='ER'),'','display:none')}">
                                                 <!--   <div class="message infoM3" id="spl_bookOfBusinessDiv">
                                                        <img alt="INFO" class="msgIcon" src="/s.gif" title="INFO" />                                                   
                                                        <apex:outputLabel id="spl_levelFunding" escape="false" style="margin-left:15px;display:none;"></apex:outputLabel>  
                                                        <apex:outputLabel rendered="{!memberDetail.AffiliationIndicator}" styleclass="dualCoverage" value="Dual Internal Coverage Exists" escape="false" style="margin-left:15px;"></apex:outputLabel>  
                                                        <apex:outputLabel id="spl_affiliationIndicator" value="{!memberDetail.AffiliationIndicator}" style="display:none;"/>
                                                        <apex:inputHidden id="spl_levelFundingValue" value="{!levelFundingValue}" /> 
                                                    </div>    -->
                                                </apex:outputPanel> 
                                             </apex:outputPanel>
                           
                            <div class="form-element__group fieldLayout collapse in" id="splcov"> 
                                    <div class="slds-table slds-table_bordered slds-table_cell-buffer" columns="1">
                                         
                                        <apex:dataTable value="{!Specialty_BenefitsCoverageLineList}" var="spl" id="splBenefit-table">                                    
                                                <apex:column style="vertical-align:top" styleclass="slds-cell-wrap" headerValue="Active">
                                                 <!-- <apex:inputHidden id="spl_clGUID" value="{!spl.GUID}" />  -->                                   
                                                  <apex:inputHidden id="spl_clActive" value="{!spl.isActive}" />
                                                  <img src="{!URLFOR($Resource.ACETResources, '/img/m/' +spl.isActive+'.jpg')}" />
                                                </apex:column>
                                                <apex:column styleclass="slds-cell-wrap" headerValue="Contract Option Type" >
                                                   <apex:outputtext value="DENTAL" Rendered="{!spl.ContractOptionType=='DENTAL'}"/>  
                                                   <apex:outputtext value="VISION" Rendered="{!spl.ContractOptionType=='VISION'}"/>
                                                </apex:column>
                                                <apex:column styleclass="slds-cell-wrap"  value="{!spl.planOptionID}" headerValue="Plan Option IDs" />
                                                <apex:column styleclass="slds-cell-wrap"  value="{!spl.ContractOptionStartDate}" headerValue="Effective Date" />
                                                <apex:column styleclass="slds-cell-wrap"  value="{!spl.ContractOptionEndDate}" headerValue="End Date"  />
                                            </apex:dataTable> 
                                    </div>
                                    
                                        <apex:outputPanel rendered="{!NOT(ISNULL(Specialty_BenefitsCoverageLineList)) && Specialty_BenefitsCoverageLineList.size == 0}" id="sbNoResults"> 
                                         <br/>
                                            <apex:outputText value="">There are no specialty benefit plans</apex:outputText>                                                    
                                         </apex:outputPanel>
                                </div>
                           </apex:outputPanel> 
                             
            
                          <!-- Specialty Benefits Section Ends-->
                         </div>
						 <!-- Ancillary Plan Section Starts Styx US3732426 -->
						<div id="tab-scoped-5" class="slds-tabs_scoped__content slds-hide" role="tabpanel" aria-labelledby="tab-scoped-5__item"> 
						   <apex:outputPanel id="ancillaryplans">
						       <apex:pageMessages />
							   <div>
									<div class="slds-p-bottom_small" style="display: flex; flex-wrap: wrap; justify-content: flex-start;">
										<div style="flex-basis: 3%; cursor: pointer;">
											<apex:image onclick="toggleancillary()" rendered="{!!showancillary}" value="{!$Resource.ACETAncillaryChevronRight}" style="width: 15px;max-width: inherit;"></apex:image>
											<apex:image onclick="toggleancillary()" rendered="{!showancillary}" value="{!$Resource.ACETAncillaryChevronDown}" style="width: 15px;max-width: inherit;"></apex:image>
										</div> 
										<div style="flex-basis: 20%;">
											<b>Ancillary Plans</b>
										</div> 
									</div> 
								   <apex:variable var="c" value="{!showancillary}" rendered="{!showancillary}">
									 <table class="slds-table slds-table_cell-buffer slds-table_bordered">
										<thead>
											<tr class="slds-line-height_reset">
												<th class="" scope="col" style="width: 1%;">
													
												</th>
												<th class="" scope="col">
													<div class="slds-truncate" title="Plan Name">Plan Name</div>
												</th>
												<th class="" scope="col">
													<div class="slds-truncate" title="Plan Type">Plan Type</div>
												</th>
											</tr>
										</thead>
										<tbody>
											<apex:variable var="c" value="{!noresults}" rendered="{!noresults}">
												<tr class="slds-line-height_reset">
													<td colspan="3" scope="col">
														<div class="slds-align_absolute-center">No Results</div>
													</td>
												</tr>
											</apex:variable>
											<apex:variable var="cnot" value="{!noresults}" rendered="{!!noresults}">
												<apex:variable value="0" var="num"/>
												<apex:repeat value="{!AncillaryPlansList}" var="op">
													<tr class="slds-line-height_reset">
														<td class="" scope="col">
															<apex:outputPanel rendered="{!op.incentivecheck}" style="cursor: pointer;">
																<apex:image onclick="toggleincentive({!num})" rendered="{!!op.accordioncheck}" value="{!$Resource.ACETAncillaryChevronRight}" style="width: 15px;max-width: inherit;"></apex:image>
																<apex:image onclick="toggleincentive({!num})" rendered="{!op.accordioncheck}" value="{!$Resource.ACETAncillaryChevronDown}" style="width: 15px;max-width: inherit;"></apex:image>
															</apex:outputPanel>
														</td>
														<td class="" scope="col">
															<apex:outputPanel rendered="{!!op.incentivecheck}" style="cursor: pointer;">
															<div class="slds-truncate" title="{!op.planname}">{!op.planname}</div>
															</apex:outputPanel>
															<apex:outputPanel rendered="{!op.incentivecheck}" style="cursor: pointer;">
																<div class="slds-truncate" title="{!op.planname}">
																{!op.planname}
																<apex:outputPanel rendered="{!IF(op.planLanguage != null , true ,false)}">  
																<img src="/s.gif" class="imgclass" title="{!op.planLanguage}" alt="HelpTextIcon.png" width="50" height="50"/>
																</apex:outputPanel>
																<apex:outputPanel rendered="{!IF(op.planLanguage == null , true ,false)}">  
																<img src="/s.gif" class="imgclass" title="{!op.planname}" alt="HelpTextIcon.png" width="50" height="50"/>
																</apex:outputPanel>
																	</div>
															</apex:outputPanel>
														</td>
														<td class="" scope="col">
															<div class="slds-truncate" title="{!op.plantype}">{!op.plantype}</div>
														</td>
													</tr>
													<apex:variable var="cacc" value="{!op.accordioncheck}" rendered="{!op.accordioncheck}">
														<tr>
															<td class="" scope="col">
																
															</td>
															<td colspan="2" style="background: #f3f3f3;">
																<table class="slds-table slds-table_cell-buffer slds-table_bordered" style="background: #f3f3f3;">
																	<thead>
																		<tr class="slds-line-height_reset">
																			<th class="" scope="col">
																				<div class="slds-truncate" title="Reward Method">Reward Method</div>
																			</th>
																			<th class="" scope="col">
																				<div class="slds-truncate" title="Daily Max Reward">Daily Max Reward</div>
																			</th>
																			<th class="" scope="col">
																				<div class="slds-truncate" title="Annual Max Reward">Annual Max Reward</div>
																			</th>
																			<th class="" scope="col">
																				<div class="slds-truncate" title="Effective Date">Effective Date</div>
																			</th>
																			<th class="" scope="col">
																				<div class="slds-truncate" title="End Date">End Date</div>
																			</th>
																			<th class="" scope="col">
																				<div class="slds-truncate" title="Calculation Basis">Calculation Basis</div>
																			</th>
																		</tr>
																	</thead>
																	<tbody>
																		<apex:repeat value="{!op.incentives}" var="inc">
																			<tr class="slds-line-height_reset">
																				<td class="" scope="col">
																					<div class="slds-truncate" title="{!inc.rewardmethod}">{!inc.rewardmethod}</div>
																				</td>
																				<td class="" scope="col">
																					<div class="slds-truncate" title="{!inc.dailyrewardamount}">${!inc.dailyrewardamount}</div>
																				</td>
																				<td class="" scope="col">
																					<div class="slds-truncate" title="{!inc.annualrewardamount}">${!inc.annualrewardamount}</div>
																				</td>
																				<td class="" scope="col">
																					<div class="slds-truncate" title="{!inc.effectivedate}" >{!inc.effectivedate}</div>
																				</td>
																				<td class="" scope="col">
																					<div class="slds-truncate" title="{!inc.expirationdate}">{!inc.expirationdate}</div>
																				</td>
																				<td class="" scope="col">
																					<div class="slds-truncate" title="{!inc.calculationbasis}">{!inc.calculationbasis}</div>
																				</td>
																			</tr>
																		</apex:repeat>
																	</tbody>
																</table>
															</td>
														</tr>
													</apex:variable>
													<apex:variable var="num" value="{!VALUE(num) + 1}"/> 
												</apex:repeat>
											</apex:variable>
										</tbody>
									</table>
								   </apex:variable>
								</div>
						   
							</apex:outputPanel>
						</div>
						<!-- End of Ancillary Plan Section Styx US3732426 -->
                         
                      </div>
                     </div>
                    </div>
                  </apex:outputPanel>
                 
            
           
                    <hr style="margin:2px 2px"/>
                    <apex:outputPanel rendered="{!memNotFound != '1'}">
                      
                      <div id="gendet" class="slds-panel__section" style="padding: 0 2pc 1px;" columns="1">
                          <!--<legend class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Member Information</legend>-->
                                  
                                   <div class="slds-tabs_scoped slds-tabs_midium">
                                      <ul class="slds-tabs_scoped__nav" role="tablist">
                                        <li class="slds-tabs_scoped__item slds-active" title="General Information" role="presentation">
                                            <a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-11" id="tab-scoped-11__item" >General Information</a>
                                        </li>
                                        <li class="slds-tabs_scoped__item" title="Family Members" role="presentation">
                                            <a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-22" id="tab-scoped-22__item">Family Members</a>
                                        </li>
                                         <li class="slds-tabs_scoped__item" title="Demographics" role="presentation">
                                            <a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-33" id="tab-scoped-33__item" >Demographics</a>
                                        </li>
                                         <li style="width: 100%;">
                                             <a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#AllGenInfo" style="float:right;margin-right: -31px;"> </a>

                                         </li>
                                       
                                      </ul>
                                       <div class="form-element__group fieldLayout collapse in" id="AllGenInfo"> 
                                      <div id="tab-scoped-11" class="slds-tabs_scoped__content slds-show" role="tabpanel" aria-labelledby="tab-scoped-11__item">
                                      <apex:outputPanel id="generalInformation" rendered="{! !isRestrict || (memNotFound == '1')}">           
                                       <!--<a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#genInfo" style="float:right"></a>-->
                                         <div class="slds-panel__section"  style="padding: 0 0pc 0pc;">  
                                         <!--<div class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">General Information</div>-->  
                                         <!--<a href="#" class="collapse" style="float:right">Show Less </a>-->
                                         <div class="form-element__group fieldLayout collapse in" id="genInfo">  
                                             
                                           <apex:outputPanel rendered="{!memNotFound != '1'}">
                                           <!-- ADD ROW -->  
                                           <div class="slds-form-element__row">  
                                           <!-- ADD FIELDS -->  
                                             <div class="slds-form-element " >  
                                               <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="First Name"></apex:outputLabel>  
                                               <apex:outputText value="{!MemberDetail.FirstName}" styleClass="slds-form-element__label slds-form-element__control slds-text-body--small"/>  
                                             </div>  
                                             <div class="slds-form-element " >  
                                               <apex:outputLabel styleClass="slds-form-element__label labelFormat" value="Last Name"></apex:outputLabel>  
                                               <apex:outputText value="{!MemberDetail.LastName}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                             </div> 
                                              
                                           </div>
                                           <!-- ADD ROW -->  
                                           <div class="slds-form-element__row" >  
                                             <apex:outputPanel style="width:50%" > 
                                                 <div class="slds-form-element " >  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Middle Name"></apex:outputLabel>  
                                                   <apex:outputText value="{!MemberDetail.MiddleInitial}" styleClass="slds-form-element__label slds-text-body--small"/> 
                                                 </div>
                                             </apex:outputPanel>
                                             <apex:outputPanel style="width:50%" > 
                                                 <div class="slds-form-element " style="margin-left: 8px;">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Suffix"></apex:outputLabel>  
                                                   <apex:outputText value="{!MemberDetail.Suffix}" styleClass="slds-form-element__label slds-text-body--small"/> 
                                                 </div>  
                                             </apex:outputPanel>
                                           </div>
                                           <div class="slds-form-element__row" > 
                                             <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Gender"></apex:outputLabel>  
                                                   <apex:outputText value="{!MemberDetail.Gender}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                                 </div> 
                                             </apex:outputPanel>
                                             <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Date of Birth"></apex:outputLabel>  
                                                   <apex:outputText value="{!MemberDetail.DOB}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                                 </div> 
                                             </apex:outputPanel>
                                           </div>
                                           <!-- ADD ROW -->  
                                           <div class="slds-form-element__row"> 
                                             <!-- ADD FIELDS -->  
                                             <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Age"></apex:outputLabel>  
                                                   <apex:outputText value="{!MemberDetail.Age}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                                 </div> 
                                             </apex:outputPanel>
                                             <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Member ID"></apex:outputLabel>  
                                                   <apex:outputText id="memberidvalue" value="{!MemberDetail.MemberID}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                                 </div> 
                                             </apex:outputPanel>
                                              
                                           </div>
                                           <!-- ADD ROW -->  
                                           <div class="slds-form-element__row">  
                                           <!-- ADD FIELDS -->     
                                             <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element" >  
                                                   <!--<apex:outputLabel styleClass="slds-form-element__label  labelFormat" value="SSN">    </apex:outputLabel>-->
                                                   <c:ACETMaskSSNComponent SSNValue="{!MemberDetail.SSN}" EID="{!MemberDetail.MemberID}" Type="Member Detail" Showcopy="True" ShowLabel="True"></c:ACETMaskSSNComponent>
                                              <!-- <apex:outputText value="{!MemberDetail.SSN}" styleClass="slds-form-element__label slds-text-body--small"/> --> 
                                                    
                                                   
                                                    
                                                 </div> 
                                             </apex:outputPanel>
                                             <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Relationship"></apex:outputLabel>  
                                                   <apex:outputText value="{!MemberDetail.Relationship}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                                 </div> 
                                             </apex:outputPanel>  
                                           </div>   
                                           <!-- ADD ROW -->  
                                           <div class="slds-form-element__row" >  
                                           <!-- ADD FIELDS -->     
                                             <apex:outputPanel style="width:50%" rendered="{!!(MemberDetail.CPTIN==null || MemberDetail.CPTIN='') }">  
                                                 <div class="slds-form-element" >  
                                                   <c:ACETMaskSSNComponent SSNValue="{!MemberDetail.CPTIN}" EID="{!MemberDetail.MemberID}" Type="Member Detail" 
                                                                               Catagory="CPTIN" Showcopy="True" ShowLabel="True"/>
                                                 </div> 
                                             </apex:outputPanel>
                                           </div>

                                           <!-- ADD ROW -->  
                                           <div class="slds-form-element__row">  
                                             <!-- ADD FIELDS -->  
                                             <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Spoken Language"></apex:outputLabel>  
                                                   <apex:outputText value="{!MemberDetail.SpokenLanguage}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                   
                                                 </div> 
                                             </apex:outputPanel>

                                             <apex:outputPanel style="width:50%">
                                               <div class="slds-form-element">
                                                  <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Written Language"></apex:outputLabel>
                                                    <apex:outputText value="{!MemberDetail.WrittenLanguage}" styleClass="slds-form-element__label slds-text-body--small"/>

                                                    </div>
                                             </apex:outputPanel> 
                                              
                                           </div>
                                           <!-- ADD ROW -->  
                                           <div class="slds-form-element__row">  
                                               
                                             <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element "  id="memStatus">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Member Status"></apex:outputLabel>  
                                                   <apex:outputLink value="#" onclick="showMask();showHoldCode();" style="color:blue" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages != null && Coverages.size >= 1 && MemberDetail.MemberStatus == 'PEND'}">{!MemberDetail.MemberStatus}</apex:outputLink> 
                                                   <apex:outputText value="{!MemberDetail.MemberStatus}" styleClass="slds-form-element__label slds-text-body--small" id="cd5" rendered="{!Coverages != null && Coverages.size >= 1 && MemberDetail.MemberStatus != 'PEND'}"/> 
                                                   <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small" rendered="{!Coverages == null }"/> 
                                                 </div>
                                             </apex:outputPanel>
                                             
                                           <!--</div>-->   
                                           <!-- ADD ROW -->  
                                           <!--<div class="slds-form-element__row">  -->
                                               
                                             <apex:outputPanel style="width:50%">
                                               <div class="slds-form-element">
                                                <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Email"></apex:outputLabel>
                                                  <apex:outputText value="{!MemberDetail.Email}" styleClass="slds-form-element__label slds-text-body--small"/>
                                               </div>
                                           </apex:outputPanel>
                                             
                                           </div>
                                           <div class="slds-form-element__row"> 
                                                <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Original Effective Date"></apex:outputLabel>  
                                                   <apex:outputText value="{!MemberDetail.OriginalEffectiveDate}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                                 </div> 
                                             </apex:outputPanel>
                                                
                                          <apex:outputPanel style="width:50%">
                                           <div class="slds-form-element">
                                            <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Deceased Date"></apex:outputLabel>
                                               <apex:outputText value="{!MemberDetail.DeceasedDate}" styleClass="slds-form-element__label slds-text-body--small"/>
    
                                                 </div> 
                                             </apex:outputPanel>
                                           </div>
                                           <div class="slds-form-element__row">
                                           <apex:outputPanel style="width:50%">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Enrollment Method"></apex:outputLabel>  
                                                   <apex:outputText value="{!memberDetail.enrollmentMethod}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                 </div>
                                           </apex:outputPanel>
                                           </div>
                                           </apex:outputPanel> 
                                           <apex:outputPanel rendered="{!memNotFound == '1'}">  
                                           <!-- ADD ROW -->  
                                           <div class="slds-form-element__row">  
                                            <!-- ADD FIELDS -->  
                                             <div class="slds-form-element " >  
                                               <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="First Name"></apex:outputLabel>  
                                               <apex:outputText value="{!FirstName}" styleClass="slds-form-element__label slds-form-element__control slds-text-body--small"/>  
                                             </div>  
                                             <div class="slds-form-element " >  
                                               <apex:outputLabel styleClass="slds-form-element__label labelFormat" value="Last Name"></apex:outputLabel>  
                                               <apex:outputText value="{!LastName}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                             </div> 
                                              
                                            </div>
                                            <div class="slds-form-element__row">  
                                                   
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Date of Birth"></apex:outputLabel>  
                                                   <apex:outputText value="{!DOB}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    
                                                 </div>
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Employer Name"></apex:outputLabel>  
                                                   <apex:outputText value="{!EmployerName}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    
                                                 </div>
                                                  
                                               </div>
                                               <div class="slds-form-element__row">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="State"></apex:outputLabel>  
                                                   <apex:outputText value="{!State}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    
                                                 </div>   
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Group Number"></apex:outputLabel>  
                                                   <apex:outputText value="{!GroupNumber}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    
                                                 </div>
                                                  
                                               </div>
                                               <div class="slds-form-element__row">  
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Zip"></apex:outputLabel>  
                                                   <apex:outputText value="{!Zip}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    
                                                 </div>   
                                                 <div class="slds-form-element">  
                                                   <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Phone"></apex:outputLabel>  
                                                   <apex:outputText value="{!Phonenum}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    
                                                 </div>
                                                 
                                               </div>
                                           </apex:outputPanel>
                                               
                                          </div>  
                                       </div>
                                        </apex:outputPanel>
                                       
                                      </div>
                         <div id="tab-scoped-22" class="slds-tabs_scoped__content slds-hide" role="tabpanel" aria-labelledby="tab-scoped-22__item">
                           <apex:outputPanel id="familymembers" rendered="{!(memNotFound != '1' && !isRestrict)}">
                               <!--<a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#famInfo" style="float:right"> </a>-->
                                <div class="slds-panel__section " style="padding: 0 0pc 0pc;" columns="1">
                                <!-- <legend class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Family Members</legend>-->
                                    <div class="form-element__group fieldLayout collapse in" id="famInfo"> 
                                        <div class="slds-table slds-table_bordered slds-table_cell-buffer" columns="1">
                                            <apex:dataTable value="{!MemberDetail.FamilyMembers}" var="fm">
                                                <apex:column styleclass="slds-cell-wrap" headerValue="Name" >{!fm.FirstName} {!fm.LastName}</apex:column>
                                                <apex:column styleclass="slds-cell-wrap" value="{!fm.suffix}" headerValue="Suffix" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!fm.MiddleInitial }" headerValue="Middle Name " />
                                                <apex:column styleclass="slds-cell-wrap" value="{!fm.Relationship}" headerValue="Relationship" />
                                                <apex:column headerValue="ID" >
                                                    <a href="#" id="familyId" data-memberId="{!fm.FamilyId}" data-firstName="{!fm.FirstName}" data-lastName="{!fm.LastName}" data-dob="{!fm.DOB}" style="text-decoration:underline;cursor:pointer;" onclick="return onFamilyMemberClicked(this);">{!fm.FamilyId}</a>
                                                </apex:column>
                                                <apex:column styleclass="slds-cell-wrap" value="{!fm.Gender}" headerValue="Gender" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!fm.DOB}" headerValue="Date Of Birth" />
                                                <apex:column styleclass="slds-cell-wrap" value="{!fm.Age}" headerValue="Age" />
                                                <apex:column styleclass="slds-cell-wrap" rendered="{!fm.termDateStr == ''}" value="{!fm.memberStatus}" headerValue="Member Status" />
                                                <apex:column styleclass="slds-cell-wrap" rendered="{!fm.termDateStr != ''}" headerValue="Member Status">{!fm.memberStatus} - {!fm.termDateStr}</apex:column>
                                            </apex:dataTable>
                                        </div>
                                    </div>
                                  </div>
                               </apex:outputPanel>
                         </div>
                         <div id="tab-scoped-33" class="slds-tabs_scoped__content slds-hide" role="tabpanel" aria-labelledby="tab-scoped-33__item">
                             
                           <apex:outputPanel id="address" rendered="{!(memNotFound != '1' && !isRestrict)}">
                            <!--<a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#addressInfo" style="float:right"></a>-->
                              <div class="slds-panel__section" style="padding: 0 0pc 0pc;" columns="1">
                               <!--<legend class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Address</legend>-->
                                <div class="form-element__group fieldLayout collapse in" id="addressInfo">
                                    <div class="slds-table slds-table_bordered slds-table_cell-buffer" columns="1">
                                         <apex:dataTable value="{!MemberDetail.Addresses}" var="addr">
                                            <apex:column styleclass="slds-cell-wrap" value="{!addr.AddressLine1}" headerValue="Address Line 1" />
                                            <apex:column styleclass="slds-cell-wrap" value="{!addr.AddressLine2}" headerValue="Address Line 2" />
                                            <apex:column styleclass="slds-cell-wrap" value="{!addr.City}" headerValue="City" />
                                            <apex:column styleclass="slds-cell-wrap" value="{!addr.State}" headerValue="State" />
                                            <apex:column styleclass="slds-cell-wrap" value="{!addr.Zip}" headerValue="Zip" />
                                            <apex:column styleclass="slds-cell-wrap" value="{!addr.AddressType}" headerValue="Address Type" />
                                        </apex:dataTable>
                                    </div>
                                </div>
                               </div>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!memNotFound != '1'}">
                        <!--<hr style="margin:2px 2px" />-->
                         <br/>
                        </apex:outputPanel>
                        <!-- Phone Information Section Starts-->

                        <apex:outputPanel id="phone" rendered="{!(memNotFound != '1' && !isRestrict)}">
                        <!--<a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#PhoneInfo" style="float:right"></a>-->
                        <div class="slds-panel__section" style="padding: 0 0pc 0pc;" columns="1">
                        <!--<legend class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Phone</legend>-->
                        <div class="form-element__group fieldLayout collapse in" id="PhoneInfo">
                        <div class="slds-table slds-table_bordered slds-table_cell-buffer" columns="1">
                        <apex:dataTable value="{!MemberDetail.phones}" var="phone">
                              <apex:column styleclass="slds-cell-wrap" value="{!phone.PhoneNumberType}" headerValue="Phone Number Type" />
                              <apex:column styleclass="slds-cell-wrap" value="{!phone.PhoneNumber}" headerValue="Phone Number" />
                              <apex:column styleclass="slds-cell-wrap" value="{!phone.WorkExt}" headerValue="Ext" />
                                
                              <apex:column styleclass="slds-cell-wrap" value="{!phone.primaryIndicator}" headerValue="Primary Indicator" />

                        </apex:dataTable>
                        </div>
                        </div>
                        </div>
                        </apex:outputPanel>
                         </div>
                         
                      </div>                
                    </div>
                  </div>
                  </apex:outputPanel>
                

                <!-- Added by Avish MNF -->
                <apex:outputPanel rendered="{!memNotFound == '1'}">                      
                    <div class="slds-panel__section" style="padding: 0 2pc 1px;" columns="1">                                                        
                        <div class="slds-tabs_scoped slds-tabs_midium">
                            <ul class="slds-tabs_scoped__nav" role="tablist">
                                <li class="slds-tabs_scoped__item slds-active" title="General Information" role="presentation">
                                <a class="slds-tabs_scoped__link" href="javascript:void(0);" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-scoped-4" id="tab-scoped-4__item" >General Information</a>
                                </li>                                    
                            </ul>
                            <div class="form-element__group fieldLayout collapse in" id="AllGenInfo1"> 
                                <div id="tab-scoped-4" class="slds-tabs_scoped__content slds-show" role="tabpanel" aria-labelledby="tab-scoped-4__item">
                                
                                
                                    <div class="slds-panel__section"  style="padding: 0 0pc 0pc;">              
                                        <div class="form-element__group fieldLayout collapse in" id="genInfo2">  
                                            <apex:outputPanel rendered="{!memNotFound == '1'}">  
                                            
                                                <!-- ADD ROW -->  
                                                <div class="slds-form-element__row">  
                                                    <!-- ADD FIELDS -->  
                                                    <div class="slds-form-element " >  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="First Name"></apex:outputLabel>  
                                                        <apex:outputText value="{!FirstName}" styleClass="slds-form-element__label slds-form-element__control slds-text-body--small"/>  
                                                    </div>  
                                                    <div class="slds-form-element " >  
                                                        <apex:outputLabel styleClass="slds-form-element__label labelFormat" value="Last Name"></apex:outputLabel>  
                                                        <apex:outputText value="{!LastName}" styleClass="slds-form-element__label slds-text-body--small"/>  
                                                    </div> 

                                                </div>
                                                <div class="slds-form-element__row"> 
                                                    <div class="slds-form-element">  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Date of Birth"></apex:outputLabel>  
                                                        <apex:outputText value="{!DOB}" styleClass="slds-form-element__label slds-text-body--small"/>

                                                    </div>
                                                    <div class="slds-form-element">  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Member ID"></apex:outputLabel>  
                                                        <apex:outputText value="{!mnfMemberId}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    </div>
                                                </div>
                                                
                                                <div class="slds-form-element__row">
                                                    <div class="slds-form-element">  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Employer Name"></apex:outputLabel>  
                                                        <apex:outputText value="{!EmployerName}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    </div>  
                                                    <div class="slds-form-element">  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="State"></apex:outputLabel>  
                                                        <apex:outputText value="{!State}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    </div>   
                                                </div>
                                                <div class="slds-form-element__row"> 
                                                    <div class="slds-form-element">  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Group Number"></apex:outputLabel>  
                                                        <apex:outputText value="{!GroupNumber}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    </div> 
                                                    <div class="slds-form-element">  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Zip Code"></apex:outputLabel>  
                                                        <apex:outputText value="{!Zip}" styleClass="slds-form-element__label slds-text-body--small"/>

                                                    </div>   
                                                </div>
                                                <div class="slds-form-element__row">
                                                    <div class="slds-form-element">  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value="Phone Number"></apex:outputLabel>  
                                                        <apex:outputText value="{!Phonenum}" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    </div>
                                                    <div class="slds-form-element">  
                                                        <apex:outputLabel styleClass="slds-form-element__label slds-text-body_regular labelFormat" value=""></apex:outputLabel>  
                                                        <apex:outputText value="" styleClass="slds-form-element__label slds-text-body--small"/>
                                                    </div>
                                                </div>
                                            
                                            </apex:outputPanel> 
                                        </div>  
                                    </div>
                                

                                </div>
                            </div>                
                        </div>
                    </div>
                </apex:outputPanel>             
                <!-- Ends -->
           
           <apex:outputPanel rendered="{!memNotFound != '1'}">
               <hr style="margin:2px 2px" />
           </apex:outputPanel>
                
           <!-- PCP Information Section Starts--> 
           <apex:outputPanel id="PrimaryCareInfo" rendered="{!(memNotFound != '1' && !isRestrict)}">
             <a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#pcpInfo" style="float:right"></a>
             
               <div id="primaryCare" class="slds-panel__section " style="padding: 0 2pc 1px;" columns="1">
                <div class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Primary Care Physician Information</div>  
     
                 <div class="form-element__group fieldLayout collapse in" id="pcpInfo"> 

                    <div class="slds-table slds-table_bordered slds-table_cell-buffer ">
                        <apex:dataTable id="coverage-table1" value="{!MemberDetail.PCPAssignments}"
                                var="pcp" captionStyle="text-align:left;margin-bottom:3px;" border="0">
                            <apex:column styleclass="slds-cell-wrap" headerValue="Active">
                                 <apex:inputHidden id="pcpId" value="{!pcp.id}" />
                                 <apex:inputHidden id="pcpIdentifiertype" value="{!pcp.identifiertype}" />
                                 <apex:inputHidden id="pcpLocatorID" value="{!pcp.locationAffiliationID}" />
                                 <img  src="{!URLFOR($Resource.ACETResources, '/img/m/' + IF(pcp.IsActive == true, 'active.jpg', 'inactive.jpg'))}" />
                            </apex:column>
                            <apex:column headerValue="Last Name" >
                                <!-- <apex:column styleclass="slds-cell-wrap" value="{!pcp.lastName}" headerValue="Last Name" id="pcpLN" /> -->
                                <a href="#" id="lastNameId"  style="text-decoration:underline;cursor:pointer;" onclick="return navigateToProvider('{!JSENCODE(MemberDetailResultJson)}','{!JSENCODE(hpAdditionInfoStr)}','{!JSENCODE(Subject.Id)}','{!JSENCODE(MemberDetail.MemberId)}','{!JSENCODE(MemberDetail.SurrogateKey)}','{!JSENCODE(CoverageSRK)}','{!JSENCODE(FamilyInfoStr)}','{!JSENCODE(ssn)}','{!JSENCODE(scrId)}','{!JSENCODE(MemberDetail.CoverageLevelCode)}','{!JSENCODE(city)}','{!JSENCODE(zipCode)}','{!JSENCODE(MemberDetail.CPTIN)}','{!JSENCODE(MemberDetail.ssn)}','{!JSENCODE(pcp.locationAffiliationID)}');">{!pcp.lastName}</a>
                            </apex:column>
                            <apex:column styleclass="slds-cell-wrap" value="{!pcp.firstName}" headerValue="First Name" id="pcpFN" />
                           <!-- <apex:column styleclass="slds-cell-wrap" value="{!pcp.lastName}" headerValue="Last Name" id="pcpLN" /> -->
                            <apex:column styleclass="slds-cell-wrap" value="{!pcp.pcpAssignmentType}" headerValue="PCP Assignment Type" id="pcpType" />
                            <apex:column styleclass="slds-cell-wrap" value="{!pcp.effectiveDate}" headerValue="Effective Date" id="pcpEffDate" />
                            <apex:column styleclass="slds-cell-wrap" value="{!pcp.endDate}" headerValue="End Date" rendered="{!IF((notResearchUser),false, true)}"/>
                            <apex:column styleclass="slds-cell-wrap" headerValue="End Date" rendered="{!IF((notResearchUser),true, false)}">
                                <A HREF="#" id="updatePCPlnk" onclick="UpdatePCPmodal(this);">{!pcp.endDate}</A>
                            </apex:column>

                         </apex:dataTable>
                   </div>
               </div>
           </div>
           </apex:outputPanel>
           <!-- PCP Information Section Ends  -->
            <apex:outputPanel rendered="{!memNotFound != '1'}">
                <hr style="margin:2px 2px" />
            </apex:outputPanel>
                   <!-- Address Information Section Starts-->

                <!-- Case History Information Section Starts--> 

                <apex:outputPanel id="caseHistory" rendered="{!(memNotFound != '1' && !isRestrict)}">
                <a href="javascript:void(0);" class="changeText" data-toggle="collapse" data-target="#caseInfo" style="float:right"></a>
                 <!--<a href="javascript:void(0);" class="panel-heading accordion-toggle" data-toggle="collapse" data-target="#caseInfo" style="float: left;left: 33px;" id="lnkOtherContact"></a>-->
                <div id="cseHist" class="slds-panel__section" style="padding: 0 2pc 1px;" columns="1">
                <div class="slds-form-element__label slds-text-heading_medium titleBold" style="margin-bottom: 1pc;">Case History ({!CaseHistory.size}) </div>
                <apex:outputPanel id="reportpanel"> <div class="slds-text-heading_small" style="display:inline-block;font-size:14px;margin-inline-start: 20px;font-weight:normal;"><c:ACETCaseCommentsHistoryReport SubjectId="{!lstSRKS}" SubjectName="{!AdditionalInfo.firstName} {!AdditionalInfo.lastName}" SubjectType="Member"/></div> </apex:outputPanel>
                <div class="form-element__group fieldLayout collapse in" id="caseInfo">
                <div class="scaseInfolds-table slds-table_bordered slds-table_cell-buffer" columns="1">
                <apex:dataTable value="{!CaseHistory}" var="case" html-cid="CaseHistoryTable">
                        <apex:column styleclass="slds-cell-wrap" headerValue="Case Number">
                        <apex:outputLink value="#" onclick="return OpenCaseHistorySubTabLink('{!JSENCODE(Case.Id)}', '{!JSENCODE(Case.CaseNumber)}','{!JSENCODE(Interaction.id)}','{!JSENCODE(Interaction.Name)}');"
                         onmouseover="return caseLinkMouseHoverOver('{!case.Id}');" onmouseout="closehoverPopup();">{!Case.CaseNumber}</apex:outputLink>
                        <!--<apex:outputLink value="#" onclick="return OpenCaseHistorySubTab('{!Case.Id}', '{!Case.CaseNumber}');"
                        onmouseover="return caseLinkMouseHoverOver('{!case.Id}');"
                        onmouseout="closePopup();">{!case.CaseNumber}</apex:outputLink>-->
                    </apex:column>
                    <apex:column styleclass="slds-cell-wrap" value="{!case.Subject_Name__c}" headerValue="Subject Name" />
                    <apex:column styleclass="slds-cell-wrap" value="{!case.Caller__c}" headerValue="Contact Name" />    
                    <apex:column styleclass="slds-cell-wrap" value="{!case.CreatedBy.Name}" headerValue="Created By" />
                    <apex:column styleclass="slds-cell-wrap" headerValue="Created Date & Time" >
                       <apex:outputText value=" {0, date, MM/dd/yyyy hh:mm a}">
                           <apex:param value="{!Case.CreatedDate + Offset}" />
                       </apex:outputText>
                    </apex:column>
                    <apex:column styleclass="slds-cell-wrap" value="{!case.Topic__c}" headerValue="Topic" />
                    <apex:column styleclass="slds-cell-wrap" value="{!case.Original_Type__c}" headerValue="Original Type"/>
                    <apex:column styleclass="slds-cell-wrap" value="{!case.Status}" headerValue="Status" />
                   <apex:column styleclass="slds-cell-wrap" value="{!case.Originator_Type__c}"
                        headerValue="Originator Type" />
                    <apex:column styleclass="slds-cell-wrap" value="{!case.Interaction_Type__c}"
                        headerValue="Interaction Type" />
                    <apex:column styleclass="slds-cell-wrap" headerValue="Parent Case" >
                        <apex:outputLink value="#" onclick="return OpenCaseHistorySubTabLink('{!JSENCODE(case.Parent.Id)}', '{!JSENCODE(case.Parent.CaseNumber)}','{!Interaction.id}','{!Interaction.Name}');">{!case.Parent.CaseNumber}</apex:outputLink>
                    </apex:column>
                   <apex:column styleclass="slds-cell-wrap" headerValue="Fulfillment">
                     <apex:outputText value="Y" rendered="{!IF((case.create_letters__r.size!=null && case.create_letters__r.size > 0),true, false)}"/>
                        <apex:outputText value="" rendered="{!IF((case.create_letters__r.size!=null && case.create_letters__r.size > 0),false, true)}"/>
                    </apex:column>
                    <!--  <apex:column styleclass="slds-cell-wrap" headerValue="Interaction ID" >
                            <apex:outputLink value="#" onclick="return OpenCaseHistorySubTab('{!JSENCODE(case.Interaction__c)}', '{!JSENCODE(case.Interaction__r.Name)}');">{!case.Interaction__r.Name}</apex:outputLink>
                    </apex:column>
                   adding hidden column for case items external id information to be searchable
                    <apex:column style="display: none;" width="1%" value="{!case.Subject_Name__c}" headerValue="" />-->


                   </apex:dataTable>
                </div>
                </div>
                </div>
                </apex:outputpanel>
                <hr style="margin-top:0px"></hr>
                  <!--Abhinav Balla Changes end for multiple sections-->
                  <div class="slds-form-element__row" style="text-align: left;margin-bottom: 2pc;margin-left:2pc;" >
                     <div class="slds-form-element" >
                          <apex:commandLink onclick="topFunction();" value="Back To Top"  style="color:Blue;" rerender="none" />
                     </div>
                 </div>

              </div>
              
              <apex:outputPanel id="surrKeyPanel" >
                  <apex:inputHidden id="selectedSurrogateKey" value="{!selectedSurrogateKey}" />
              </apex:outputPanel>
            </apex:outputPanel>
            </section>
          </section>

       </div>
    </div>


    </div>
    <apex:outputPanel id="alertHoldCode" style="position:absolute;top:-50px !important;left:30%">
            <div class ="slds-scope" style="background-color:white;">
                <apex:outputPanel style="display:{!IF(holdCodeAlert == true,'','none')}" rendered="{!holdCodeAlert}">
                    <apex:outputPanel styleClass="popupBackground" layout="block" />
                    <apex:outputPanel styleClass="custPopup" layout="block">
                        <div style="min-height: 20pc; width: 60pc">
                            <div class="slds-panel" >
                                <div class="slds-modal__header">
                                    <h1 class="slds-text-heading--medium" style="font-weight:bold">The following holds have been placed on this Member.</h1>
                                </div>  
                            </div>
                     <apex:outputPanel id="pgmsgHold">
                                <apex:pageMessages />
                            </apex:outputPanel>
                        <apex:actionStatus id="HoldStatus">
                            <apex:facet name="start">
                                <p style="text-align: center;">
                                    <img src="/img/loading.gif" />&nbsp;<b>Loading...</b>
                                </p>
                            </apex:facet>
                        </apex:actionStatus>
  <div class="slds-panel__section slds-table slds-table_bordered slds-table_cell-buffer slds-text-title" columns="1">
   <table >
   <tr>
      <th style="width:70px;"></th>
      <th style="width:85px;">Hold Code </th>
      <th style="width:375px;">Description</th>
      <th style="width:140px;">Hold Level</th>
      <th style="width:105px;">Effective Date</th>
      <th style="width:155px;">Expiration Date</th>
   </tr>
   </table>
   </div>
   <div class="slds-panel__section slds-table slds-table_bordered slds-table_cell-buffer slds-text-title" columns="1" style="overflow:auto;height:250px !important">
  
   <table id="originalDrilldowns"> 
   <apex:repeat value="{!memberDetail.holdCodeList}" var="holds" >
      <tr class="odd">
         <td style="width:70px;"><apex:outputPanel layout="none"><div class="arrow"></div></apex:outputPanel></td>
         <td style="width:90px;"><apex:outputText value="{!holds.holdCode}"/></td>
         <td style="width:380px;"><apex:outputText value="{!holds.holdDescription}" /></td>
         <td style="width:145px;"><apex:outputText value="{!holds.holdLevel}" /></td>
         <td style="width:105px;"><apex:outputText value="{!holds.effectiveDate}" /></td>
         <td style="width:145px;"><apex:outputText value="{!holds.expirationDate}" /></td>
      </tr>
      <apex:outputPanel layout="none">
         <tr class="pleaseHideMe">
            <td colspan="8">   
            <h2 class="slds-text-heading--small" style="font-weight:bold;padding-left:227px;">This hold impacts the following process(s)</h2><br/>
                <div>
                   <div class="slds-form-element" style="display:flex;">
                      <div style="padding-left:100px;width:300px">
                            <apex:dataTable value="{!holds.holdRestriction}" var="restrictions" style="border:hidden !important;border-style:none !important;">
                                <apex:column style="border:hidden !important;border-style:none !important;">
                                    <apex:outputText value="{!restrictions}" />
                                </apex:column>
                            </apex:dataTable>
                      </div>
                      <label class="slds-form-element__label slds-text-body_regular labelFormat" >Hold Reason</label>
                      <div class="slds-form-element__control" style="width:300px">
                       <apex:inputTextarea id="newDesc" value="{!holds.holdNote}" disabled="true" cols="30" rows="3" style="white-space: pre-wrap;height:100px;" styleClass="slds-form-element__label slds-form-element__control slds-text-body--small"/> 
                      </div>
                    </div>
                   
               </div>
                </td>
             </tr>
          </apex:outputPanel>
       </apex:repeat>
    </table>
                            </div>
        
                            <div class="slds-modal__footer slds-grid">
                                <table>
                                    <tbody>
                                        <tr>
                                            <td align="right">
                                                <apex:commandButton id="closeAlertBtnMemberId" value="Close" onclick="closeHoldCodeAlert(); return false;"  style="float:right;height:2.5pc;width:9pc;margin-left:10px;background: rgb(0, 112, 210); padding: 4px;color:white;font-size:12px;" styleClass="slds-button slds-button--brand slds-not-selected">
                                                </apex:commandButton>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </apex:outputPanel>
                </apex:outputPanel>
            </div>
        </apex:outputPanel>
    <div id = "updatePrimaryCPpopUp" class="modal slds-scope" style="background-color:white">
    <apex:slds />
    <apex:outputPanel id="pbUpdatePrimaryCPpopUp">
        <div class="slds-panel" title="Terminate PCP/OBGYN" id="terminatePcpObgynPb">
        <table>
        <tr class="slds-modal__header"><td style="width:33.33%"></td>
        <td style="width:33.33%" >
            <div class="slds-modal__header" style="border-bottom: none;">
                <h1 class="slds-text-heading--medium">Terminate PCP/OBGYN</h1>
            </div>
            </td>
            <td style="width:33.33%"><div style = "float:right" id ="pcpcloselnk"></div></td>
            </tr>
            </table>
            <apex:outputpanel id="pageerr">
            <apex:pageMessages id="pgMsg"></apex:pageMessages>
             </apex:outputpanel>
            <apex:outputPanel id="pbsCurrentPrimaryCarePhysician">
                <div class="slds-panel__section slds-table slds-table_bordered slds-table_cell-buffer slds-text-title_caps" >
                    <apex:dataTable value="{!lstPrimaryCarePhysicianWrapper}" var="objCurrentPhysician" id="pbtPbUpdatePrimaryCPpopUp">
                        <apex:column >
                        <apex:inputHidden id="UpdatepcpId" value="{!objCurrentPhysician.id}" />
                        <apex:inputHidden id="UpdatepcpIdentifiertype" value="{!objCurrentPhysician.identifierType}" />
                        <apex:inputHidden id="UpdatePCPLocatorID" value="{!objCurrentPhysician.pcpLocatorId}" />
                        </apex:column>
                         <apex:column headerValue="First Name" id="UpdateFN" style="text-transform:capitalize" value="{!objCurrentPhysician.firstName}"></apex:column>
                     <apex:column headerValue="Last Name" id="UpdateLN" style="text-transform:capitalize" value="{!objCurrentPhysician.lastName}"></apex:column>
                     <apex:column headerValue="PCP Assignment Type" id="UpdatePCPType" style="text-transform:capitalize" value="{!objCurrentPhysician.pcpAssignmentType}"></apex:column>
                     <apex:column headerValue="Effective Date" id="UpdateEffDate" style="text-transform:capitalize" value="{!objCurrentPhysician.effectiveDate}"></apex:column>
                    <apex:column headerValue="End Date" >
                         <div class="slds-form-element">

                            <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">

                                <input id="updateEnddate" class="slds-input" type="text" placeholder="MM/DD/YYYY" label="DOB" onblur="document.getElementById('{!$Component.hiddenDOBVar}').value = this.value;"/>
                                <apex:inputHidden value="{!objCurrentPhysician.pcpInt.Member_Date_of_Birth__c}" id="hiddenDOBVar" />
                            </div>
                      </div>
                    </apex:column>

                    </apex:dataTable>
                </div>
            </apex:outputPanel>
            <!--<div class="slds-modal__footer slds-grid">
                <table>
                    <tbody>
                        <tr>
                            <td align="center">
                                <apex:commandButton value="Submit" id="submitPCPBtn" rerender="pageerr" style="float:inherit;height:2.5pc;width:9pc;margin-left:225px;background: rgb(0, 112, 210); padding: 4px;color:white;font-size:12px;" onclick="submitUpdatePCP();" styleClass="slds-button slds-button--brand slds-not-selected"/>                 
                     <apex:commandButton value="Cancel" id="cancelPCPBtn" rerender="dummyCancel" onclick="cancelFunction()" styleClass="slds-button slds-button--brand slds-not-selected" style="float:inherit;height:2.5pc;width:9pc;margin-left:28px;background: rgb(0, 112, 210); padding: 4px;color:white;font-size:12px;"/>                
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div> -->    
        </div>    
    </apex:outputPanel>
</div>



        <div class = "backgroundMask">
        </div>





    <script>
    var bookOfBusinessTypeCodeGlobal = '';
    $('.slds-tabs_scoped__link').click(function(){
          $(this).parent().parent().find('.slds-tabs_scoped__link').attr('aria-selected','false');
          $(this).attr('aria-selected','true');
          $(this).parent().parent().find('.slds-tabs_scoped__link').attr('tabindex','-1');
          $(this).attr('tabindex','0');
          $(this).parent().parent().children().removeClass('slds-active');
          $(this).parent().addClass('slds-active');
          $(this).parent().parent().parent().find('.'+$(this).parent().parent().parent().find('.slds-tabs_scoped__content')[0].classList[0]).removeClass('slds-show').addClass('slds-hide');
          $(this).parent().parent().parent().find('#'+$(this).attr('aria-controls')).removeClass('slds-hide').addClass('slds-show');
        });      

    var startTime = new Date();
        function printTime(){
        var currentTime = new Date();
        
        }    
    
    var defaultPageLoad;    
    
    function callDatePicker(){
     $( '#effectiveDatePicker' ).datepicker({
      changeMonth: true,
      format: 'mm/dd/yyyy',
      changeYear: true
    });
        $( '#effectiveDatePicker1' ).datepicker({
      changeMonth: true,
      format: 'mm/dd/yyyy',
      changeYear: true
    });
     $('#endDatePicker').datepicker({
         changeMonth: true,
      format: 'mm/dd/yyyy',
      changeYear: true
       });
     $('#endDatePicker1').datepicker({
         changeMonth: true,
      format: 'mm/dd/yyyy',
      changeYear: true
       });
    }

    function checkDate(dateFeild,$errorPos){
       var validformat=/^\d{2}\/\d{2}\/\d{4}$/;
        $("#errorMsgDiv").html("");
       if (!validformat.test(dateFeild)) {
                var errorMsg = "The format must be mm/dd/yyyy";
                $errorPos.addClass("error").parent().append('<span class="errorMsg"><p style="width:200px;margin-top:-0px;"><strong>Error:</strong> ' + errorMsg + '</p></span>');
                console.log(errorMsg);
                return false;
       }
        else{
          
      var monthfield=dateFeild.split("/")[0];
         var dayfield=dateFeild.split("/")[1];
         var yearfield=dateFeild.split("/")[2];

         var dayobj = new Date(yearfield, monthfield-1, dayfield);
            //alert('dayobj='+dayobj);
            if (dayobj=='Invalid Date' || (dayobj.getMonth()+1!=monthfield)|| (dayobj.getDate()!=dayfield)||(dayobj.getFullYear()!=yearfield)){
            //if (dayobj=='Invalid Date'){
                //alert('it came here222');
                
                var errorMsg = "The format must be mm/dd/yyyy";
                $errorPos.addClass("error").parent().append('<span class="errorMsg"><p style="width:200px;margin-top:-0px;"><strong>Error:</strong> ' + errorMsg + '</p></span>');
                console.log(errorMsg);
                return false;
             }
          }
        return true;
    }
     
    function toggleOff(){
       console.log('toggleOff');
        
        $("#errorMsgDiv").html("");
            
        $("[id$='endDatePicker']").parent().find('.errorMsg').remove();
        $("[id$='endDatePicker']").removeClass("error");
        $("[id$='endDatePicker1']").parent().find('.errorMsg').remove();
        $("[id$='endDatePicker1']").removeClass("error");
        $("[id$='effectiveDatePicker']").parent().find('.errorMsg').remove();
        $("[id$='effectiveDatePicker']").removeClass("error");
        $("[id$='effectiveDatePicker1']").parent().find('.errorMsg').remove();
        $("[id$='effectiveDatePicker1']").removeClass("error");
        var $endDateError;
        var $effectiveDateError;
        var endDateValue;
        var effectiveDateValue;
        var status=true;
        var endDatePicker = $("[id$='endDatePicker']").val();
        console.log('endDatePicker='+endDatePicker);
        if(endDatePicker){
            $endDateError=$("[id$='endDatePicker']");
            status=checkDate(endDatePicker,$endDateError);
            //if(!status)
            //return false;
            endDateValue=new Date(endDatePicker);
         }
        else{
            var endDatePicker1 = $("[id$='endDatePicker1']").val();
            console.log('endDatePicker1='+endDatePicker1);
            if(endDatePicker1){
                $endDateError=$("[id$='endDatePicker1']");
                status=checkDate(endDatePicker1,$endDateError);
                
                endDateValue=new Date(endDatePicker1);
            }
        }
        var effectiveDatePicker = $("[id$='effectiveDatePicker']").val();
        console.log('effectiveDatePicker='+effectiveDatePicker);
        if(effectiveDatePicker){
            $effectiveDateError=$("[id$='effectiveDatePicker']");
            status=checkDate(effectiveDatePicker,$effectiveDateError);
            console.log('status='+status);
            
            effectiveDateValue=new Date(effectiveDatePicker);
            console.log('effectiveDateValue='+effectiveDateValue);
         }
        else{
        var effectiveDatePicker1 = $("[id$='effectiveDatePicker1']").val();
        console.log('effectiveDatePicker1='+effectiveDatePicker1);
            if(effectiveDatePicker1){
                $effectiveDateError=$("[id$='effectiveDatePicker1']");
                status=checkDate(effectiveDatePicker1,$effectiveDateError);
                
                effectiveDateValue=new Date(effectiveDatePicker1);
             }
        }
        console.log('status='+status);
        if(!status)
              return false;
               
        if(effectiveDateValue && endDateValue && endDateValue<effectiveDateValue){
           
           var errorMsg = "End date cannot be before the effective date";
           $endDateError.addClass("error").parent().append('<span class="errorMsg"><p style="width:200px;margin-top:-0px;"><strong>Error:</strong> ' + errorMsg + '</p></span>');
            //console.log(errorMsg);
           return false;                
        }
        console.log('came here');
        toggleClicked =  false;
        afOnPageLoad();
        
        //RefreshTab();
        return true;
    }

    function refreshToggleChecked()
    {
        $('#toggleCheckbox').attr('checked',true).checkboxradio('refresh');

    }
    function refreshToggleUnChecked()
    {
        $("#toggleCheckbox").removeAttr('checked').checkboxradio('refresh');

    }
    function checkHoldCode(){
        var hold = $("[id$='memStatus']").children().eq(1).html();
        if('{!currentAgentProfile}' != 'ACET Member' && '{!currentAgentProfile}' != 'ACET Provider'){
            if(hold == 'PEND'){
                callHoldRestrictions();
    
             } 
        }
    }
    var scrollHighlightsPanel = function(){
        $(".highlights-panel-container").toggle("slide");
        //$("[id$='btnMisdirectCaseLds']").parent().parent().parent().parent().parent().parent().parent().parent().parent().toggle("slide");
        if($(".panel-arrow-down").hasClass("show-arrow")){
             $(".panel-arrow-down").addClass("hide-arrow").removeClass("show-arrow");
             $(".panel-arrow-up").addClass("show-arrow").removeClass("hide-arrow");
         }
         else{
             $(".panel-arrow-down").removeClass("hide-arrow").addClass("show-arrow");
             $(".panel-arrow-up").removeClass("show-arrow").addClass("hide-arrow");
         }
        }; 
    function callPhysicianOnLoad(){
        $('#toggleCheckbox').prop('checked', true);
        var isChecked = $('#toggleCheckbox').is(':checked');

        if(isChecked)
        {

            toggleShowPhysician();
        }
        else
        {
            selectPrimaryPhysician();

        }
    }

    function callPhysician(checkboxId){

        var isCheckedTog = document.getElementById(checkboxId).checked;
        if(isCheckedTog )
        {
           // //console.log('checked');
            toggleShowPhysician();

        }
        else
        {
            ////console.log('unchecked');
            selectPrimaryPhysician();
        }
    }

    function OpenCaseHistorySubTab(RecordId, RecordName) {
        sforce.console.getEnclosingPrimaryTabId(function(result) {
        sforce.console.openSubtab(result.id, '/' + RecordId, true, RecordName, null, OpenCaseHistorySubTabSuccess, RecordName);

        return false;
    });
    }
    function OpenCaseHistorySubTabLink(RecordId, RecordName,intId, intName) {
        sforce.console.getEnclosingPrimaryTabId(function(result) {
        sforce.console.openSubtab(result.id, '/' + RecordId+'?intId='+intId+'&intName='+intName, true, RecordName, null, OpenCaseHistorySubTabSuccess, RecordName);

        return false;
    });
    }

    var OpenCaseHistorySubTabSuccess = function OpenCaseHistorySubTabSuccess(result){
        //
    }

     function topFunction() {
        $("div.stage-main").scrollTop(0);
   }



</script>

    <script type="text/javascript">

    function UpdatePCPmodal(obj){

        $("#updatePrimaryCPpopUp").css("display","inline-block");
        $("[id$='datePicker']").css("z-index","9999");
        var currentRow = $(obj).parent().parent();
        $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdateFN']")).text($(currentRow).find($("[id$='pcpFN']")).text());
        $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdateLN']")).text($(currentRow).find($("[id$='pcpLN']")).text());
        $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdatePCPType']")).text($(currentRow).find($("[id$='pcpType']")).text());
        $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdateEffDate']")).text($(currentRow).find($("[id$='pcpEffDate']")).text());
        $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdatepcpId']")).val($(currentRow).find($("[id$='pcpId']")).val());
        $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdatepcpIdentifiertype']")).val($(currentRow).find($("[id$='pcpIdentifiertype']")).val());
        $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdatePCPLocatorID']")).val($(currentRow).find($("[id$='pcpLocatorID']")).val()); //Added by Avish

        $("#updatePrimaryCPpopUp").css("display","inline-block");
        showMask();
    }

    function submitUpdatePCP(){
        var UpdatePCPType = $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdatePCPType']")).text();
        var UpdateEffDate = $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdateEffDate']")).text();
        var updateEnddate = $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='updateEnddate']")).val();
        var UpdatepcpId = $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdatepcpId']")).val();
        var UpdatepcpIdentifiertype = $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdatepcpIdentifiertype']")).val();
        var UpdatepcpLocatorId = $("[id$='pbtPbUpdatePrimaryCPpopUp']").find($("[id$='UpdatePCPLocatorID']")).val(); //Added by Avish
        if(UpdatepcpLocatorId != '' && UpdatepcpLocatorId != 'undefined')
            UpdatepcpId = UpdatepcpLocatorId;

         console.log('UpdatepcpId@@@ ' + UpdatepcpId);
       // UpdatePCPOBGYN(UpdatepcpId, UpdatepcpIdentifiertype, UpdatePCPType,updateEnddate,UpdateEffDate);
    }

    function cancelFunction(){
        $("#updatePrimaryCPpopUp").css("display","none");
        hideMask();
        //RefreshTab();
    }

    function RefreshTab() {
        window.location.reload();
    }
    var isActive = true;
    var activeChecker = 0;
    function checkIsActive(){
        
        if(activeChecker == 0){
            isActive = true;
        } else if(activeChecker > 0){
            isActive = false;
        }
        activeChecker = activeChecker + 1;
        
    }

    function openTopicDetail(MemberDetailResultJson,additionalInfoStr,subjectId,memberId,surrogateKey,familyInfoStr,ssn,scr,clevel,city,zip,cptin,detailssn,EIDstring,listcustinfojson){
        let COEffectiveDate = $("[id$='coverage-table']").find(".active").find("[id$='COEffectiveDate']").val();
        let COEndDate = $("[id$='coverage-table']").find(".active").find("[id$='COEndDate']").val();
        let customerPurchaseId = $("[id$='coverage-table']").find(".active").find("[id$='customerPurchaseId']").val();

        activeChecker = 0;
        if(validateNew('',true) == false){
             $("[id$='callTopicType']").parent().find('.errorMsg').remove();
            $("[id$='callTopicType']").removeClass("error");

            var callTopicsList = '';
            $("#callTopicType_chosen").find(":nth-child(1)").find("li.search-choice").each(function(){
                if(callTopicsList == '' || callTopicsList == null){
                    callTopicsList = $(this).find("span").html();
                } else {
                    callTopicsList = callTopicsList + ',' + $(this).find("span").html();
                }
            });
            callTopicsList = callTopicsList.split(',');
            if(callTopicsList == '' || callTopicsList == null){
                var errorMsg = "You must enter a value.";
                $("[id$='callTopicType']").addClass("error").parent().append('<div class="errorMsg"><br/><br/><p style="width:200px;margin-top:-0px;"><strong>Error: ' + errorMsg + '</strong></p></div>');
            }
            return false;
        }else{
        var memberDetailObj ;
        var AdditionalInfoObj;
        var BundleOptionID;
        if(MemberDetailResultJson != '')
            memberDetailObj = JSON.parse(MemberDetailResultJson);
        if(additionalInfoStr != '')
            AdditionalInfoObj = JSON.parse(JSON.stringify(additionalInfoStr));
        ////console.log('AdditionalInfoObj >> '+AdditionalInfoObj);
        if(memberDetailObj != undefined && memberDetailObj != '' && memberDetailObj != null){
            BundleOptionID = memberDetailObj.BundleOptionID;
            ssn=memberDetailObj.SSN;
            }
        var CoverageType,onshoreRestriction,onshoreRestrictionCode,onshoreRestrictionError, coverageGroupNumber,coverageEffectiveDate,coverageSRK,SRK;
        onshoreRestrictionCode = '00';
        onshoreRestrictionError = 'false';
        if(memberDetailObj != undefined && memberDetailObj != null && memberDetailObj.PreferredCoverage != null){
            CoverageType = memberDetailObj.PreferredCoverage.CoverageTypeCode;
            onshoreRestriction = memberDetailObj.PreferredCoverage.OnshoreRestriction;
            onshoreRestrictionCode = memberDetailObj.PreferredCoverage.onshoreRestrictionCode;
            onshoreRestrictionError = memberDetailObj.PreferredCoverage.onshoreRestrictionError;
            console.log('>>>'+onshoreRestriction+ '<<<'+onshoreRestrictionCode+'<<<'+onshoreRestrictionError);
            coverageGroupNumber = memberDetailObj.PreferredCoverage.GroupNumber;
            coverageEffectiveDate = memberDetailObj.PreferredCoverage.EffectiveDate;
            coverageSRK = memberDetailObj.PreferredCoverage.SurrogateKey;
            SRK= memberDetailObj.PreferredCoverage.EnrolleeSurrogateKey;

         }
         console.log('!!!!!displayed onshore'+$("[id$='onshoreValue']").html());
         var onshoreValue = $("[id$='onshoreValue']").html();
      
         
        var EffectiveDate;
        var EndDate ;
        var GroupNumber;
        var benefitEffectivedate;// US2962032 
        var benefitEnddate ;
        var planOptionId;
            var sniEligibility;
        if(memberDetailObj != undefined && memberDetailObj != '' && memberDetailObj != null){
             EffectiveDate = memberDetailObj.EffectiveDate; 
              EndDate = memberDetailObj.EndDate;
            if(memberDetailObj.custPurchaseinfo){
                benefitEnddate = memberDetailObj.custPurchaseinfo.benefitEnddate;// US2962032  
                benefitEffectivedate =  memberDetailObj.custPurchaseinfo.benefitEffectivedate;
                planOptionId = memberDetailObj.custPurchaseinfo.planOptionId;
            }
        }
        if(AdditionalInfoObj != undefined && AdditionalInfoObj != '' && AdditionalInfoObj != null){
            GroupNumber = AdditionalInfoObj.GroupNumber;
        }
            $("#errorMsgDiv").html("");
            var Seloriginator = $("[id$='originator']").val();
            var $selOrig = $("[id$='originator']");
            var $selTop = $("[id$='callTopicType']");
            $selOrig.parent().find('.errorMsg').remove();
            $selOrig.removeClass("error");
            $selTop.parent().find('.errorMsg').remove();
            $selTop.removeClass("error");
            var callTopics = $("#callTopicType").chosen().val();

            var callTopicsList = '';
            $("#callTopicType_chosen").find(":nth-child(1)").find("li.search-choice").each(function(){
                if(callTopicsList == '' || callTopicsList == null){
                    callTopicsList = $(this).find("span").html();
                } else {
                    callTopicsList = callTopicsList + ',' + $(this).find("span").html();
                }
            });
            callTopicsList = callTopicsList.split(',');
            console.log('HERE calltopics ' +callTopicsList);
            var validation = true;
            var fastTrack = '{!JSENCODE($CurrentPage.parameters.fastTrack)}';
            if(callTopicsList == '' || callTopicsList == null){
                var errorMsg = "You must enter a value.";
                $selTop.addClass("error").parent().append('<div class="errorMsg"><br/><br/><p style="width:200px;margin-top:-0px;"><strong>Error: ' + errorMsg + '</strong></p></div>');
                validation = false;
            }
            if(callTopicsList){
                for(var i = 0; i < callTopicsList.length; i++){
                    var callTopic = callTopicsList[i];
                    if(callTopic == 'Enroll Member'){
                        if('{!IsGroupDetail}' != 'true'){
                            var errorMsg = "Must have Group in focus.";
                            $selTop.addClass("error").parent().append('<span class="errorMsg"><p style="width:200px;margin-top:-0px;"><strong>Error:</strong> ' + errorMsg + '</p></span>');
                            validation = false;
                        }
                    }
                }
            }
           
            console.log('>>>>>'+onshoreValue+'>>>' +onshoreRestriction);
            var mnf = '{!memNotFound}';
           
            if(onshoreValue != 'Yes' && onshoreValue !='No' && validation && mnf != '1'){
                var errorMsg = "Onshore Restriction value not found. Please refresh and try again.";
                $selTop.addClass("error").parent().append('<div class="errorMsg"><br/><br/><p style="width:200px;margin-top:-0px;"><strong>Error:</strong> ' + errorMsg + '</p></div>');
                validation = false;
            }

            
            if(callTopicsList && validation){
                sniEligibility = $('[id$="sniEligibilityText"]').html();
                localStorage.setItem(memberId+'sniEligibility',sniEligibility);
                for(var i = 0; i < callTopicsList.length; i++){
                    var callTopic = callTopicsList[i];

                    var hightlightPanelInfo = additionalInfoStr;
                    var selectedSurrKey = $("[id$='selectedSurrogateKey']").val();
                    
                    var urlParam = 'interactionId={!JSENCODE(Interaction.Id)}' +'&' + 'contactId='+subjectId+'&bookOfBusinessTypeCode='+bookOfBusinessTypeCodeGlobal+ '&' + 'sourceOriginator={!JSENCODE(sourceOriginator)}'; 
                    urlParam = urlParam + '&memberId='+memberId + '&fastTrack=' + fastTrack+'&accTypes='+memberDetailObj.accTypes+'&serviceGrp='+memberDetailObj.serviceGrp;
                    urlParam = urlParam + '&SRK=' + SRK + '&onshoreRestriction=' + onshoreRestriction + '&onshoreCode='+onshoreRestrictionCode+'&sniEligibility='+sniEligibility;
                    
                    var urlParam2 = 'interactionId={!JSENCODE(Interaction.Id)}' +'&' + 'contactId='+subjectId+ '&' + 'sourceOriginator={!JSENCODE(sourceOriginator)}'+'&bookOfBusinessTypeCode='+bookOfBusinessTypeCodeGlobal; 
                    console.log('----callTopic---->'+ callTopic );
                    //if(callTopic != 'View Member Eligibility'){
                        urlParam = urlParam + '&additionalInfo=' + additionalInfoStr;
                        console.log('----IN --- callTopic---->');
                    //}
                        urlParam2 = urlParam2 + '&memberId='+memberId + '&fastTrack=' + fastTrack;
                        urlParam2 = urlParam2 + '&SRK=' + SRK + '&onshoreRestriction=' + onshoreRestriction + '&onshoreCode='+onshoreRestrictionCode+'&bookOfBusinessTypeCode='+bookOfBusinessTypeCodeGlobal+'&sniEligibility='+sniEligibility;

                    if(callTopic=='Pharmacy Inquiry'){
                       sforce.console.getFocusedPrimaryTabId(function(result){
                        
                        var url = '/apex/ACETPharmacypage?'+ urlParam;
                        url = url + '&callTopic=Pharmacy Inquiry' + '&grpnum=' + groupNumber + '&EffectiveDate=' + EffectiveDate + '&EndDate=' + EndDate +'&coverageSRK='+coverageSRK + '&bundleOptionId='+BundleOptionID+ '&benefitEnddate='+COEndDate+ '&benefitEffectivedate='+COEffectiveDate+'&sniEligibility='+sniEligibility+'&cpid='+customerPurchaseId;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Pharmacy Inquiry', null,openedTabs);

                        });
                    }
                    else if(callTopic == 'Rx Enrollment')
                    {
                        sforce.console.getFocusedPrimaryTabId(function(result){
                        var url = '/apex/ACETPharmacyInquiry?'+ 'callTopic=Rx Enrollment' + '&' + urlParam;
                        checkIsActive();
                        sforce.console.openSubtab(result.id , url, isActive,'Rx Enrollment', null,openedTabs);
                        });
                    }
                    else if(callTopic == 'Provider Lookup'){
                        sforce.console.getFocusedPrimaryTabId(function(result){
                        //Added benefitPlanId as parameter by Avish as a part of US596131
                        var memberIdvar = '{!MemberDetail.MemberId}';
                        var groupNumber;
                        if(memberDetailObj != undefined && memberDetailObj != null && memberDetailObj.PreferredCoverage != null){
                            groupNumber  = memberDetailObj.PreferredCoverage.GroupNumber;
                        }
                        if(memberDetailObj != undefined && memberDetailObj != null && memberDetailObj != undefined && memberDetailObj != '' && memberDetailObj != null && customerPurchaseId != ''){
                           
                         
                        var url = '/apex/ACETProviderLookup?'+ urlParam +'&ProviderId={!ProviderId}'+'&Id='+memberId + '&SRK='+SRK +'&coverageSRK='+coverageSRK +'&grpnum='+groupNumber + '&benefitPlanId='+memberDetailObj.BenefitPlanId;
                            url = url + '&' + 'scrId=' + scr + '&' + 'rl=' + memberDetailObj.RelationShipCode + '&' + 'fn=' + memberDetailObj.FirstName + '&' + 'ln=' + memberDetailObj.LastName ;
                            url = url + '&' + 'gn=' + memberDetailObj.Gender + '&' + 'dob=' + memberDetailObj.DOB+ '&' + 'ssnId=' + ssn + '&' + 'grpno=' + groupNumber + '&EffectiveDate=' + EffectiveDate + '&EndDate=' + EndDate + '&bundleOptionId='+BundleOptionID +'&sniEligibility='+sniEligibility;
                            url = url + '&' + 'city='+city+'&cpid='+customerPurchaseId;
                            url = url + '&' + 'zipCode='+zip+ '&benefitEnddate='+COEndDate+ '&benefitEffectivedate='+COEffectiveDate;
                            ////console.log('providerurl'+url);

                        }
                        else{
                        var url = '/apex/ACETProviderLookup?'+ urlParam +'&ProviderId={!ProviderId}'+'&Id='+memberId + '&SRK='+SRK + '&grpnum='+groupNumber + '&benefitPlanId='+'';
                            url = url + '&' + 'scrId=' + scr + '&' + 'rl=' + '' + '&' + 'fn=' + '' + '&' + 'ln=' + '' ;
                            url = url + '&' + 'gn=' + '' + '&' + 'dob=' + '' + '&' + 'ssnId=' + ssn + '&' + 'grpno=' + groupNumber + '&EffectiveDate=' + COEffectiveDate+ '&EndDate=' + COEndDate+ '&bundleOptionId='+BundleOptionID+ '&benefitEnddate='+benefitEnddate+ '&benefitEffectivedate='+benefitEffectivedate;
                            ////console.log('----providerurl------>'+url);
                        }
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Provider Lookup', null,openedTabs);
                        });
                  }


                    else if(callTopic == 'Provider Other Inquiry'){
                        sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETProviderOtherInquiry?'+ urlParam;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, true,'Provider Other Inquiry', null,openedTabs);
                        });
                    }
                    else if(callTopic=='View Authorizations'){
                          sforce.console.getFocusedPrimaryTabId(function(result){
                            checkIsActive();
                            sforce.console.openSubtab(result.id, '/apex/ACETViewAuthorization?'+ urlParam + '&' +'DOB='+AdditionalInfoObj.DOB + '&' + 'SitusState='+AdditionalInfoObj.SitusState +'&vccdParams='+vccdParams, isActive,'View Authorizations', null,openedTabs);
                      });
                    }
                    else if(callTopic == 'Member Other Inquiry'){
                        sforce.console.getFocusedPrimaryTabId(function(result){
                        var url = 'apex/ACETMemberOtherInquiry?'+ urlParam;
                       ////console.log(url);
                        url = url + '&' +'Id={!JSENCODE(Subject.EID__c)}';
                            checkIsActive();
                            console.log('OPEN:member other inquiry');
                            sforce.console.openSubtab(result.id , url, isActive,'Member Other Inquiry', null,openedTabs);

                        });

                    }
                    else if(callTopic=='POC View Authorizations'){
                          sforce.console.getFocusedPrimaryTabId(function(result){
                        checkIsActive();
                        sforce.console.openSubtab(result.id, '/apex/ACETViewAuthorizationPOC?'+ urlParam + '&' +'DOB='+AdditionalInfoObj.DOB + '&' + 'SitusState='+AdditionalInfoObj.SitusState  +'&vccdParams='+vccdParams, isActive,'View Authorizations POC', null,openedTabs);

                      });
                    }
                    else if(callTopic=='View Payments'){
                         var url = 'apex/ACETClaimPayment?'+ urlParam;
                         url = url + '&' +'DOB='+AdditionalInfoObj.DOB + '&' + 'SitusState='+AdditionalInfoObj.SitusState  +'&'+ 'EffectiveDate='+AdditionalInfoObj.EffectiveDate+'&'+'EndDate='+AdditionalInfoObj.EndDate+'&EIDstring='+EIDstring;
                            sforce.console.getFocusedPrimaryTabId(function(result){
                            checkIsActive();
                            sforce.console.openSubtab(result.id,url, isActive,'Payment Search', null,openedTabs);

                        });
                    }
                    else if(callTopic=='View PCP Referrals'){
                    sforce.console.getFocusedPrimaryTabId(function(result){
                        checkIsActive();
                        sforce.console.openSubtab(result.id, '/apex/ACETReferralSearch?'+ urlParam + '&' +'DOB='+AdditionalInfoObj.DOB+ '&' +  'SitusState='+AdditionalInfoObj.SitusState   +'&vccdParams='+vccdParams, isActive,'View PCP Referrals', null,openedTabs);

                      });

                    }else if(callTopic == 'Consumer Accounts'){
                        sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETConsumerAccount?'+ urlParam;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Consumer Accounts', null,openedTabs);

                        });
                    }else if(callTopic == 'Consumer Accounts POC'){
                        sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETConsumerAccountPOC?'+ urlParam;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Consumer Accounts', null,openedTabs);

                        });
                    }else if(callTopic == 'View Claims'){

                        sforce.console.getFocusedPrimaryTabId(function(result){
                            checkIsActive();
                             sforce.console.openSubtab(result.id, '/apex/ACETClaimSearch?'+ urlParam + '&' +'DOB='+AdditionalInfoObj.DOB + '&' + 'SitusState='+AdditionalInfoObj.SitusState +'&vccdParams='+vccdParams+'&EIDstring='+EIDstring, isActive,'Claims Search', null,openedTabs);

                          });
                    }else if(callTopic == 'Coordination of Benefits'){

                        //initiateChildVFPage(MemberDetailResultJson,'COB',urlParam);
                        var paramCOB = 'groupNumber=' + memberDetailObj.PreferredCoverage.GroupNumber +'&' + 'SRKCOB='+memberDetailObj.PreferredCoverage.SurrogateKey + '&' + 'effectiveDate=' + coverageEffectiveDate +'&' +urlParam;
                           
                        sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETCordinationOfBenefits?'+paramCOB;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Coordination of Benefits', null,openedTabs);

                        });                              

                    }else if(callTopic == 'View Member Eligibility'){
                        var coverage = $("[id$='coverage-table']").find("tbody").find(".active").find("td:nth-child(2)").html();
                        var groupNumber = $("[id$='coverage-table']").find("tbody").find(".active").find("td:nth-child(4)").html();
                        var benPlanId = $("[id$='coverage-table']").find("tbody").find(".active").find("td:nth-child(10)").html();
                        var coverageStartDate = $("[id$='coverage-table']").find("tbody").find(".active").find("td:nth-child(6)").html();
                        var coverageEndDate = $("[id$='coverage-table']").find("tbody").find(".active").find("td:nth-child(7)").html();
                        //urlParam = urlParam + "&Id={!JSENCODE(IndividualIdentifier)}";
                        //urlParam = urlParam + "&CoverageType=" + coverage + "&CoverageGroupNumber=" + groupNumber + "&CoveragePlanId=" + benPlanId +"&coverageToggle=" + toggleCheckbox +"&coverageStartDate=" + coverageStartDate + "&coverageEndDate=" + coverageEndDate;
                        urlParam2 = urlParam2 + "&Id={!JSENCODE(IndividualIdentifier)}";
                        urlParam2 = urlParam2 + "&CoverageType=" + coverage + "&CoverageGroupNumber=" + groupNumber + "&CoveragePlanId=" + benPlanId +"&coverageToggle=" + toggleCheckbox +"&coverageStartDate=" + coverageStartDate + "&coverageEndDate=" + coverageEndDate+ '&benefitEnddate='+benefitEnddate+ '&benefitEffectivedate='+benefitEffectivedate+'&planOptionId='+planOptionId+'&sniEligibility='+sniEligibility;
                        
                        console.log('-----Open Subtab--->');
                        initiateMemberEligibiltyPage(additionalInfoStr,'View Member Eligibility',urlParam2, memberDetailObj.PreferredCoverage.SurrogateKey);
                        /*sforce.console.getFocusedPrimaryTabId(function(result){
                            sforce.console.openSubtab(result.id ,'/apex/ACETMemberEligibility?'+urlParam, true,'View Member Eligibility', null, openedTabs);
                          });*/
                        
                    }
                     else if(callTopic == 'View Consumer Dashboard'){
                       sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETLaunchConsumerDashboard?' + urlParam;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Consumer Dashboard', null,openedTabs);

                        });

                     }
                     else if(callTopic == 'Create Authorization'){
                       sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETCreateAuthorization?' + urlParam;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Create Authorization', null,openedTabs);
                       });

                     }
                     else if(callTopic == 'Create PCP Referral'){
                       sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETCreatePCPReferral?' + urlParam;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Create PCP Referral', null,openedTabs);


                        });

                     }

                     else if(callTopic == 'Enroll Member'){
                       sforce.console.getFocusedPrimaryTabId(function(result){
                        //Removed enrollag, rehirepolicy and group size parameters from below URL for US585208 -- by divya -- 04/05/17
                        var url = '/apex/ACETEnrollMember?'+ urlParam + '&' +'memberEnrollment=false'+ '&' + 'Id='+memberId + '&' + 'callTopic=Enroll Member&groupId={!JSENCODE(groupId)}';
                        checkIsActive();
                        sforce.console.openSubtab(result.id , url, isActive,'Enroll Member', null,openedTabs);

                        });

                     }
                     else if(callTopic == 'Reinstate Member'){
                       sforce.console.getFocusedPrimaryTabId(function(result){
                        var url = '/apex/ACETReinstateMember?'+ urlParam + '&' + 'Id='+memberId + '&' + 'Relationship='+memberDetailObj.Relationship+'&groupId={!JSENCODE(groupId)}&coverageGroupNumber='+coverageGroupNumber+'&coverageEffectiveDate='+coverageEffectiveDate+'&coverageSRK='+coverageSRK;
                        checkIsActive();
                        sforce.console.openSubtab(result.id , url, isActive,'Reinstate Member', null,openedTabs);

                        });

                     }

                     else if(callTopic == 'Terminate Member'){
                       sforce.console.getFocusedPrimaryTabId(function(result){
                        var url = '/apex/ACETTerminateMember?'+ urlParam + '&' + 'Id='+memberId + '&' + 'Relationship='+memberDetailObj.Relationship+'&groupId={!JSENCODE(groupId)}&coverageGroupNumber='+coverageGroupNumber+'&coverageEffectiveDate='+coverageEffectiveDate+'&coverageSRK='+coverageSRK;
                        checkIsActive();
                        sforce.console.openSubtab(result.id , url, isActive,'Terminate Member', null,openedTabs);

                        });

                     }
                     else if(callTopic == 'Plan Benefits'){
                     
                         if(memberDetailObj 
                            && memberDetailObj.PreferredCoverage)
                            
                          localStorage.setItem("listcustinfo_"+memberId, listcustinfojson);
                         var exType = $("[id$='exchangeType']").parent().text();
                         if(exType && exType.split('Type') && exType.split('Type').length>1)
                             exType = exType.split('Type')[1];
                 
                            sforce.console.getFocusedPrimaryTabId(function(result){
                            checkIsActive();
                            sforce.console.openSubtab(result.id, '/apex/ACETPlanBenefitSearchRedesign?'+ urlParam + '&' +'DOB='+AdditionalInfoObj.DOB+ '&' + 'SitusState='+AdditionalInfoObj.SitusState +'&vccdParams='+vccdParams +'&bundleOptionId='+BundleOptionID + '&CoverageType=' + CoverageType +'&coverageSRK='+coverageSRK+'&EffectiveDate=' + COEffectiveDate + '&EndDate=' + COEndDate +'&groupNumber='+coverageGroupNumber + '&clevel=' + clevel +'&exchangeType='+exType+'&fundingArrang='+$("[id$='cd2']").text()+ '&benefitEnddate='+COEndDate+ '&benefitEffectivedate='+COEffectiveDate+'&sniEligibility='+sniEligibility+'&cpid='+customerPurchaseId+'&bookOfBusinessTypeCode='+bookOfBusinessTypeCodeGlobal, isActive,'Plan Benefits', null,openedTabs);

                        });

                      }
                      else if(callTopic == 'Provider Fee Schedule'){

                            sforce.console.getFocusedPrimaryTabId(function(result){
                           // sforce.console.openSubtab(result.id, '/apex/ACETProviderFeeSchedule?'+ urlParam + '&' +'DOB='+AdditionalInfoObj.DOB+ '&' + 'SitusState='+AdditionalInfoObj.SitusState +'&vccdParams='+vccdParams +'&bundleOptionId='+BundleOptionID + '&CoverageType=' + CoverageType + '&EffectiveDate=' + EffectiveDate + '&EndDate=' + EndDate +'&groupNumber='+coverageGroupNumber + '&clevel=' + clevel, isActive,'Plan Benefits-Redesign', null,openedTabs);
                                              var url = '/apex/ACETProviderFeeSchedule?'+ urlParam + '&' + 'Id='+memberId + '&' + 'Relationship='+memberDetailObj.Relationship+'&groupId={!JSENCODE(groupId)}&coverageGroupNumber='+coverageGroupNumber+'&coverageEffectiveDate='+coverageEffectiveDate+'&coverageSRK='+coverageSRK+'&providerTINStatusCode={!JSENCODE(providerTINStatusCode)}'+'&ProviderTypeCode={!JSENCODE(ProviderTypeCode)}'+'&addressId={!JSENCODE(Interaction.Provider_Address_Id__c)}'+'&ProviderId={!JSENCODE(Interaction.Originator__r.EID__c)}'+'&ProvideraddressTypeCode={!JSENCODE(Interaction.Provider_Address_Type__c)}'+'&providerTINTypeCode={!JSENCODE(providerTINTypeCode)}'+'&TaxId={!JSENCODE(Interaction.Originator__r.Tax_ID__c)}';
                            
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Provider Fee Schedule', null,openedTabs);
                       });

                      }

                     else if(callTopic == 'Update Member Details' || callTopic == 'Update Member Detail'){

                       sforce.console.getFocusedPrimaryTabId(function(result){
                       var parentId = Math.floor((1 * 1000) + 500);
                       var listener = function(result){
                          console.log('Message received from event:'+result.message);
                           afOnPageLoadNew();
                       };
                       sforce.console.addEventListener('RequestUpdateInfoData_'.concat(parentId), listener);
                       var memberIdvar = '{!MemberDetail.MemberId}';
                       var groupNumber;
                       if(memberDetailObj.PreferredCoverage != null){
                           groupNumber  = memberDetailObj.PreferredCoverage.GroupNumber;
                           ////console.log('Mnz_groupNumber>>> ' + groupNumber);
                       }
                       var url = '/apex/ACETUpdateMemberInfo?'+ urlParam ;
                       url = url + '&' + 'Id='+ memberId + '&' +'&vccdParams='+vccdParams + '&'  +'&phn='+ JSON.stringify(memberDetailObj.Phones)+ '&'  +'&email='+ JSON.stringify(memberDetailObj.Email);
                       url = url + '&' + 'scrId=' + scr + '&' + 'rl=' + memberDetailObj.RelationShipCode + '&' + 'fn=' + memberDetailObj.FirstName + '&' + 'ln=' + memberDetailObj.LastName ;
                       url = url + '&' + 'gn=' + memberDetailObj.Gender + '&' + 'dob=' + memberDetailObj.DOB+ '&' + 'enrollmentMethod=' + memberDetailObj.enrollmentMethod+ '&'+'ssnId=' + ssn + '&' + 'grpno=' + groupNumber;
                       url = url + '&' + 'parentId='+parentId;
                           checkIsActive();
                           sforce.console.openSubtab(result.id , url, isActive,'Update Member Detail', null,openedTabs);
                       });

                     }

                    ///Added by Pavan for US549427
                         else if(callTopic == 'Communications'){
                             var effDate = memberDetailObj.coverageGroupContractOptionEffDate;
							var parentGrpNum = memberDetailObj.parentPEOId;												
                             sforce.console.getFocusedPrimaryTabId(function(result){
                                var url = '/apex/ACETCommunicationSearchPage?'+ urlParam+'&effDate='+effDate+'&parentPEOId='+parentGrpNum;
                                 checkIsActive();
                                 sforce.console.openSubtab(result.id , url, isActive,'Communications', null,openedTabs);
                                 ////console.log('communication--->'+url);
                             });
                         }
                    // Added by Pavan Mokkapati for US549399
                    else if(callTopic == 'Materials Request'){
                             sforce.console.getFocusedPrimaryTabId(function(result){
                                 var url = '/apex/ACETFormsHistory?'+ urlParam;
                                 checkIsActive();
                                 sforce.console.openSubtab(result.id , url, isActive,'Materials Request', null,openedTabs);

                             });
                         }
                    else if(callTopic == 'ID Card Request'){
                         ////console.log('familyInfoStr--->'+familyInfoStr);
                         sforce.console.getFocusedPrimaryTabId(function(result){
                             var url = '/apex/ACETIdCardRequest?'+urlParam+'&groupId={!JSENCODE(groupId)}&coverageGroupNumber='+coverageGroupNumber+'&coverageEffectiveDate='+coverageEffectiveDate+'&coverageSRK='+coverageSRK+'&BenBundleId='+BundleOptionID+ '&cptin=' + cptin + '&' + 'ssn=' + detailssn+'&sniEligibility='+sniEligibility  ;
                             ////console.log('<<<<<< Id card URL'+url);
                             checkIsActive();
                             sforce.console.openSubtab(result.id , url, isActive,'ID Card Request', null,openedTabs);

                         });
                    }
                    //getEmpGrp V3 changes
                    else if(callTopic == 'Group Eligibility')
                    {
                        var status = memberDetailObj.coverageGroupContractOptionStatus;
                        var contract = memberDetailObj.coverageGroupContractOptionId;
                        var effDate = memberDetailObj.coverageGroupContractOptionEffDate;
                        var covEffDate = memberDetailObj.PreferredCoverage.EffectiveDate ;
                        var covEndDate = memberDetailObj.PreferredCoverage.EndDate ;

                        sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETGroupEligibility?isMemberFlow=true' + '&groupId=' + coverageGroupNumber + '&' + urlParam+ '&contractId='+ contract +'&status='+ status +'&callTopic=Group Eligibility'+'&effDate='+ effDate+'&covEffDate='+ covEffDate+'&covEndDate='+ covEndDate ;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'Group Eligibility', null,openedTabs);
                        });
                    }
                    //US941814  added by Abhinav
                    else if(callTopic == 'HSA Bank Account')
                    {
                       if(Seloriginator=='currentTp'){
                       
                       }else{
                       sforce.console.getFocusedPrimaryTabId(function(result){
                            var url = '/apex/ACETHSAAccounts?callTopic=HSA Bank Account' + '&' + urlParam + '&' +'DOB='+AdditionalInfoObj.DOB + '&' + 'ssn=' + detailssn + '&cptin=' + cptin ;
                            checkIsActive();
                            sforce.console.openSubtab(result.id , url, isActive,'HSA Summary', null,openedTabs);
                        });
                       }
                    }
                }
                //clear selection
                $("#callTopicType").val('').trigger('chosen:updated');
            }

          }
            return false;
        }
        <!-- Added for continuation pattern User Story - US605469 -->

        <!-- For task -- TA2033833 -- By Rahul -->

         function testSetTabTitle() {

            if ('{!JSENCODE(Interaction.Originator_Type__c)}' == 'Other') {
                sforce.console.getFocusedPrimaryTabId(function(result) {
                   sforce.console.setTabTitle('Detail - ' +  '{!JSENCODE(Interaction.third_party__r.LastName__c)}', result.id);
                });

            }
         }

        var pageLoad = window.onload;
        window.onload = function() {
            if(pageLoad) {
                pageLoad();
            }
            testSetTabTitle();

        }



        function ShowLoader() {
            $('.loader').fadeIn('fast');
        }

        function HideLoader() {
            $('.loader').fadeOut('fast');
        }
        function loadVccdParams(){
            var vccdParams2;
            if('{!$CurrentPage.parameters.vccdParams}' != '' ) {
                vccdParams2 =  JSON.parse('{!$CurrentPage.parameters.vccdParams}');
                if (vccdParams2.callTopic != '') {
                    $("#callTopicType").val(vccdParams2.callTopic).trigger("chosen:updated");
                }
            }
        }
        function loadcalltopics(){
               var calltopicslst = $("[id$=theHiddenInputId]").val();
               if (calltopicslst != '') {
                    var str_array = calltopicslst.split(',');
                    $("#callTopicType").val(str_array);
                    $("#callTopicType").trigger("chosen:updated");
                    $("#callTopicType").setSelectionOrder(str_array);

                 }
            }  
        var vccdParams;
        $(document).ready(function(){
          var closeLink = $("#pcpcloselnk");
          $(closeLink).html("<a id='lnkClose' href = '#' style = 'float:right;'>Close</a>");
          ////console.log("lnkClose "+$(lnkClose).html());

          $(lnkClose).click(function(){
                $("#updatePrimaryCPpopUp").css("display","none");
                hideMask();
                //RefreshTab();
          });

            var temp = $("[id$='onshoreResheader']").children();
            $(temp).css("width","60px");
            //initCaseHistoryTable();


            if('{!$CurrentPage.parameters.vccdParams}' != '') {
                vccdParams =  JSON.parse('{!$CurrentPage.parameters.vccdParams}');
                if (vccdParams.callTopic != '') {
                    $("#callTopicType").val(vccdParams.callTopic).trigger("chosen:updated");
                }
            }

            //topic is passed from case fast track
            var topic = '{!JSENCODE($CurrentPage.parameters.topic)}';
            if(topic){
                $("#callTopicType").val(topic).trigger("chosen:updated");
            }

            $("#errorMsgDiv").html("");
            var Seloriginator = $("[id$='originator']").val();
            var $selOrig = $("[id$='originator']");
            $selOrig.parent().find('.errorMsg').remove();
            $selOrig.removeClass("error");
            var callTopics = $("#callTopicType").chosen().val();
             $('#updatePCPlnk').click(function(){
                $("#updatePrimaryCPpopUp").css("display","block");
                showmask();
                });

            //code snippet to restrict Open Topic button based on SRK
            var SRKFlag = '{!JSENCODE($CurrentPage.parameters.SRK)}';
            if(SRKFlag != ''){
                //$("[id$='btnopentopicdetail']").attr("disabled", "");
                $("[id$='btnopentopicdetail']")
                    .attr("disabled", "disabled")
                    .removeClass("btn")
                    .addClass("btnDisabled");
                    console.log('SRKFlag @@@ ' + SRKFlag);
            }else{
                $("[id$='btnopentopicdetail']")
                    .removeAttr("disabled")
                    .removeClass("btnDisabled")
                    .addClass("btn");
            }
            //End here

        });

    </script>
    <script>
    var defaultPageLoad;
    var toggled = false;
        var toggleClicked = false;
        var isRowClicked = false;
        var subtabIds = new Array();
        var openedTabs = function openedTabs(result) {
            //Report whether we succeeded in opening the subtab
            if (result.success == true) {
                subtabIds.push(result.id);
            } else {
            }
        };

         //added for User Story - US378010
         function initiateChildVFPage(MemberDetailResultJson,childVFpagename, url){
             var strjson = MemberDetailResultJson;
             var listener = function (result){
                        var childId = result.message;
                        sforce.console.fireEvent('ParentDataResponse_'.concat(childId), strjson ); };
                        var parentId = Math.floor((1 * 1000) + 500);
                        sforce.console.addEventListener('RequestParentData_'.concat(parentId), listener);
                        var openSubtab = function openSubtab(result) {
                        var primaryTabId = result.id;
                        if(childVFpagename == 'COB'){
                            checkIsActive();
                            sforce.console.openSubtab(primaryTabId ,'/apex/ACETCordinationOfBenefits?parentId='+parentId+'&'+url, isActive,'Coordination of Benefits', null, openedTabs);
                        }
                         if(childVFpagename == 'MemberEligibilty'){
                            checkIsActive();
                            sforce.console.openSubtab(primaryTabId ,'/apex/ACETMemberEligibility?parentId='+parentId+'&'+url, isActive,'View Member Eligibility', null, openedTabs);
                        }
                     };
                        sforce.console.getEnclosingPrimaryTabId(openSubtab);
                     }
           
           function initiateMemberEligibiltyPage(addJson,childVFpagename, url, srkk){
             var strjson = addJson;
             var listener = function (result){
                        var childId = result.message;
                        sforce.console.fireEvent('ParentDataResponse_'.concat(childId), strjson ); };
                        var parentId = srkk;
                        sforce.console.addEventListener('RequestParentData_'.concat(parentId), listener);
                        var openSubtab = function openSubtab(result) {
                        var primaryTabId = result.id;
                        if(childVFpagename == 'View Member Eligibility'){
                        checkIsActive();
                        sforce.console.openSubtab(primaryTabId ,'/apex/ACETMemberEligibility?parentId='+parentId+'&'+url, isActive,'View Member Eligibility', null, openedTabs);
                        }
                     };
                        sforce.console.getEnclosingPrimaryTabId(openSubtab);
            }

           var fireEventcallback = function(result) { 
            if (result.success) { 
                   console.log('The MemEligibilty event is fired!');
            } else { 
                   console.log('The MemEligibilty event could not be fired!');
            } 
           };

            function initCaseHistoryTable(){
                ////console.log('inside initCaseHistoryTable');
                $('[cid$="CaseHistoryTable"]').parent('table').eq(0).DataTable({

                    retrieve: true,
                    //enables results highlight
                    searchHighlight: true,
                    "pagingType": "full_numbers",
                    //sets record lengths to show in picklist
                    aLengthMenu: [
                        [10, 25, 50, 100, 200, -1],
                        [10, 25, 50, 100, 200, "All"]
                    ],
                    "iDisplayLength": 50,
                     order: [[4, 'desc']],

                });
            }
         function processCoverageTableAfterToggle(){
         ////console.log("toggled >> "+toggled);
            if(!toggled && !isRowClicked){
                toggled = true;

            }
            toggled = false;
            isRowClicked = false;

            ////console.log('coveragesSize :: ' + '{!coveragesSize}');
         }
         var guid = '';
         var isactive = false;
         var toggleCheckbox = "Active";
         var count = 0;
         function initCoverageTable(){
            var isSError = $("[id$='isServiceError']").val();

            ////console.log('is service error :: '+isSError);
                       
            $("input[type='checkbox'][name='showCoverage']").on("change", function(event){
                event.stopImmediatePropagation();
                isactive = $("[id$='coverage-table']").find(".active").find("[id$='clActive']").val() ;
                toggleClicked =  true;
                if($(this).is(':checked')){
                    $('#toggleCheckboxCoverage').attr('checked',true);
                }else{
                    $('#toggleCheckboxCoverage').attr('checked',true);
                }
                //if(!(isSError == 'true')){
                ////console.log("toggling coverages");
                var sectionIDs = ["otherContactInfo","CovDetInfo","pcpInfo","famInfo","coverages","covHis","splcov"];
                //addLoaderToSection(sectionIDs);
                //blank
                 ////console.log("toggled > "+toggled);
                    if(toggled != true)
                    toggleShowCoverages();//Bhanu: need to check this we need to call this here or not. As it is already called after first call out

                if(toggleCheckbox == "Active"){
                    toggleCheckbox = "All";
                } else {
                    toggleCheckbox = "Active";
                }
                //$("#callTopicType").val('').trigger("chosen:updated");

           });

            var activeSet = false;
            $("[id$='coverage-table']").find("tr").click(function(){
            isRowClicked = true;
                var sectionIDs = ["otherContactInfo","CovDetInfo","pcpInfo","famInfo","covHis","splcov"];


                //temp fix not to switch to none-cr coverage
                var isCR = false;
                $(this).find("td").each(function(){
                    if($(this).html().toLowerCase() == 'cr'){
                        isCR = true;
                    }
                });
               isactive = $("[id$='coverage-table']").find(".active").find("[id$='clActive']").val() ;
               if(isCR){
                    //addLoaderToSection(sectionIDs);
                    //highlight selected row
                    $(this).parent().children().removeClass('active');
                    $(this).addClass('active');

                    //assign Surrogate Key after postback and refresh higlight panel
                  //  var surrid = $(this).find("[id$='clSurrogateKey']").val();
                    var surrid = '{!JSENCODE(selectedSurrogateKey)}';
                    ////console.log('surrid@@ ' + surrid);
                    $("[id$='selectedSurrogateKey']").val(surrid);

                    //clear all onshore column
                    //$("[id$='coverage-table']").find("[id$='onshoreRes']").html("");
                    //add loader to current column
                    //var srcUrl = "{!URLFOR($Resource.ACETResources, '/img/m/loading16x16.gif')}";
                    //$(this).find("[id$='onshoreRes']").html("<img src= "+srcUrl+"/>");

                    //post back and refresh hightpanel and member family
                    //Added for selecting the preferred coverage - User Story - US605469
                    guid = $("[id$='coverage-table']").find(".active").find("[id$='clGUID']").val();
                    $("[id$='preferredCoverageGUID']").val(guid);
                    selectPreferredCoverage();
                    //toggleShowCoverages();
                    ////console.log("guid >> "+guid);
                }
                
                if($(this).hasClass('active')){
                    activeSet = true;
                    // showLevelFunded($(this));
                }
                else if(!activeSet){
                    $("[id$='levelFundingAndDualCoverageMessages']").hide();
                }
                
            });


           var coverages = $("[id$='CoveragesSize']").val();

            ////console.log('coverages size>> '+coverages);
           if(coverages != '' && coverages != '0'){
               $("[id$='coverage-table']").tablesorter({
                    sortList: [[1,0],[10,0],[6,0]]
                });
                defaultPageLoad = false;
                ////console.log('coverages size111>> '+coverages);
           }

        //   else{
        //    $("input[type='checkbox'][name='showCoverage']").click();
        //    //console.log('coverages size222>> '+coverages);
        //   }

            //highlight the first row of medical coverages as preferred coverage line
            var firstRowFound = false;
             //Code Added By Chandan
             var isAdvSearched=$("[id$='isAdvSearched']").val(); 
             console.log('isAdvSearched='+isAdvSearched);
             callDatePicker();
             if(isAdvSearched =='true' && toggleClicked !=  true){ // && toggleCheckbox != 'All'
                 
                 guid = '';
                 //toggleClicked =  true;
                  toggleCheckbox = "All";
                  console.log('came isAdvSearched');
                  
                  $('#toggleCheckboxCoverage').attr('checked',false);
                  //$('#toggleCheckboxCoverage').trigger('click');
                 //toggleShowCoverages();
             }//End
            var $firstRowTr;
            var isPreferredFound=false;
             var activeSet = false;
            $("[id$='coverage-table']").find("tbody tr").each(function(){
                console.log('33333');
                var $tr = $(this);
                var isInactive  = false;
                var isMedical = false;
                var isCR = false;
                ////console.log('row selected-1');
                $tr.find("td").each(function(){
                    ////console.log('row selected-2');
                    if($(this).html().toLowerCase() == 'medical'){
                        isMedical = true;
                        ////console.log('row selected-2.2');
                    }

                    if($(this).html().toLowerCase() == 'cr'){
                        ////console.log('row selected-2.3');
                        isCR = true;
                    }
                });
                ////console.log('-------isactive 1------->'+ isactive + '-----toggleClicked ---->'+ toggleClicked );
                if(isactive == 'false'){
                    guid = '';
                }
                if(guid == undefined){
                    guid = '';
                }
                //var isAdvanceSearched=$tr.find("td:eq(12)").text().toLowerCase();//Code Added By Chandan 
 
                
                
                var isPreferred=$tr.find("td:eq(11)").text().toLowerCase();//Code Added By Chandan -US1365690
                console.log('isPreferred======'+isPreferred);
                console.log('guid='+guid);
                console.log('firstRowFound='+firstRowFound);
                console.log('isMedical='+isMedical); 
                console.log('isCR======='+isCR);              
                if((isPreferred=='true' || isPreferred==true) && isMedical && isCR && !firstRowFound  && guid == ''){ //&& !firstRowFound Commented By Chandan
                    console.log('itcamehere111='+isPreferred);
                    var planBenefitCov = $tr.find("td:eq(9)").text().toLowerCase();
                    if(planBenefitCov.substring(0,2) != 'mr'){
                        console.log('itcamehere222='+isPreferred);
                        $tr.addClass('active');
                        if(toggleClicked == 'true' || toggleClicked == true ){
                            console.log('itcamehere333='+isPreferred);
                            $tr.click();
                        }
                        isPreferredFound=true;
                        firstRowFound = true; 
                    }
                
                }else if(guid != '' && guid == $tr.find("[id$='clGUID']").val() ){
                    $tr.addClass('active');
                }
                if($tr.hasClass('active') && !toggleClicked){
                    activeSet = true;
		    showLevelFunded();
                }
                else if(!activeSet){
                    $("[id$='levelFundingAndDualCoverageMessages']").hide();
                }
                

                /**
                $tr.find("td").each(function(){

                    var imgUrl = $(this).find("img").attr("src");
                    if(imgUrl){
                        isInactive = imgUrl.includes("inactive.jpg");
                    }

                    ////console.log($(this).html().toLowerCase());

                    if(($(this).html().toLowerCase() == 'medical') && firstRowFound == false){
                        ////console.log('medical found');
                        if($(this).html().toLowerCase() == 'cr'){
                            ////console.log('cr found');
                            $tr.addClass('active');
                            firstRowFound = true;
                        }
                    }
                });
                */
            });
             
             if($firstRowTr && !isPreferredFound){
                 console.log('Making row active');
                   $firstRowTr.addClass('active');
                   if(toggleClicked == 'true' || toggleClicked == true ){
                            $firstRowTr.click();
                   }
                }
               if(firstRowFound == false && (toggleClicked == 'false' || toggleClicked == false)){
                    $('#toggleCheckboxCoverage').attr('checked',false);
                     $('#toggleCheckboxCoverage').attr('disabled', true);
                     toggleClicked =  true;
                     toggleCheckbox = "All";
                     toggleShowCoverages();
                } 

            //highlight first row by default
            /*if(!firstRowFound){
                $("[id$='coverage-table']").find("tbody tr:first").addClass('active');
            }*/
            //post back and refresh hightpanel and member family
            //Added for selecting the preferred coverage - User Story - US605469
            //----------------------------

            guid = $("[id$='coverage-table']").find(".active").find("[id$='clGUID']").val();
            $("[id$='preferredCoverageGUID']").val(guid);
            isactive = $("[id$='coverage-table']").find(".active").find("[id$='clActive']").val() ;


         // var surrid = $("[id$='coverage-table']").find(".active").find("[id$='clSurrogateKey']").val();
            var surrid = '{!JSENCODE(selectedSurrogateKey)}';
            ////console.log('surrid111@@ ' + surrid);
            $("[id$='selectedSurrogateKey']").val(surrid);

           // selectPreferredCoverage();
           ////console.log("onChangeOrginator start");
           onChangeOrginator();
           ////console.log("onChangeOrginator");
           sortCovergeHistoryTable();
        }

        function initPCPTable(){
           $("tr").removeClass('last');
           //initially sort table by coverage, end date and effective date
           var primaryList = {!lstPrimaryCarePhysicianWrapper.size};
           if(primaryList != 0){
               $("[id$='coverage-table1']").tablesorter({
                    sortList: [[5,1]]
                });
            }
        }
        function sortCovergeHistoryTable(){
           //initially sort table by exp date
              $("[id$='coverageHis-table']").tablesorter({
                    sortList: [[3,1]]
                });
        }
        function addLoaderToSection(sectionIDs){
            var loaderImg = '<div style = "margin : 0 auto;width : 10%"><img src="{!URLFOR($Resource.ACETResources, '/img/m/loading16x16.gif')}" /></div>'
            for(var i = 0; i < sectionIDs.length; i++){
            ////console.log($("[id$='"+sectionIDs[i]+"']").is("div") +" >> "+$("[id$='"+sectionIDs[i]+"']").nodeName);
                if($("[id$='"+sectionIDs[i]+"']").is("select")){
                    //$(loaderImg).after(("[id$='"+sectionIDs[i]+"']"));
                }else{
                    $("[id$='"+sectionIDs[i]+"']").html(loaderImg);
                    }
            }
        }
        function showLevelFunded(element){
            var bookOfBusinessTypeCode = '';
            bookOfBusinessTypeCode =  $("[id$='BOBTypeCode']").val();
            var bookOfBusinessTypeDesc = '';
            bookOfBusinessTypeDesc = $("[id$='BOBTypeDesc']").val();
            console.log('bookOfBusinessTypeCode --> ' + bookOfBusinessTypeCode);
            console.log('bookOfBusinessTypeDesc --> ' + bookOfBusinessTypeDesc);
            var dualCoverage = $("[id$='affiliationIndicator']").html();
            $("[id$='levelFundingAndDualCoverageMessages']").hide();
            $("[id$='levelFundingAndDualCoverageMessages']").find('br').remove();
            $("[id$='levelFunding']").hide();
            if('{!memNotFound}'!='1'){
                $("[id$='btnopentopicdetail']").removeAttr("disabled").removeClass("btnDisabled").addClass("btn");
            }
            $('#bookOfBusinessErrorDiv').hide();
            $('#bookOfBusinessDiv').hide();
            if(bookOfBusinessTypeCode && bookOfBusinessTypeCode!='ER'){
                bookOfBusinessTypeCodeGlobal = bookOfBusinessTypeCode;
                bookOfBusinessTypeCode = bookOfBusinessTypeDesc;
                $("[id$='levelFunding']").html(bookOfBusinessTypeCode);
                $("[id$='levelFundingValue']").val(bookOfBusinessTypeCode);
                if(dualCoverage && dualCoverage.toLowerCase()=='true'){
                    $("[id$='levelFunding']").append('<br/>');
                    var iconWidth = $('.msgIcon').width();
                    var realWidth=15 + parseInt(iconWidth);
                    $(".dualCoverage").css('margin-left',realWidth+'px');
                }                    
                $("[id$='levelFunding']").show();
                $("[id$='levelFundingAndDualCoverageMessages']").show();
                $('#bookOfBusinessDiv').show();
                if(bookOfBusinessTypeCodeGlobal == 'TU' || bookOfBusinessTypeCodeGlobal == 'UH'){
                    $("[id$='callTopicType'] option[value='Materials Request']").remove();
                }
                $("#callTopicType").trigger("chosen:updated");
            }
            else if(bookOfBusinessTypeCode == '' ||bookOfBusinessTypeCode == 'ER'){
                bookOfBusinessTypeCodeGlobal = 'ER';
                $('.msgIcon[alt="error"]').parent().css('width','4%');
                if('{!memNotFound}'!='1'){
                    $("[id$='btnopentopicdetail']").attr("disabled", "disabled").removeClass("btn").addClass("btnDisabled");
                }
                $("[id$='levelFunding']").html('ER');
                $('#bookOfBusinessErrorDiv').show();
                $("[id$='levelFundingValue']").val('ER');
                if(dualCoverage && dualCoverage.toLowerCase()=='true'){
                    $("[id$='levelFunding']").append('<br/>');
                    var iconWidth = $('.msgIcon').width();
                    var realWidth=15 + parseInt(iconWidth);
                    $('.dualCoverage').css('margin-left',realWidth+'px');
                }                    
                $("[id$='levelFunding']").show();
                $("[id$='levelFundingAndDualCoverageMessages']").show();
            }
            else if(dualCoverage && dualCoverage.toLowerCase()=='true'){
                $("[id$='levelFundingAndDualCoverageMessages']").show();
                $('.dualCoverage').css('margin-left','15px');
                $("[id$='levelFundingValue']").val('');
                $('#bookOfBusinessDiv').show();
            } 
            else{
                $("[id$='levelFundingAndDualCoverageMessages']").hide();
                $("[id$='levelFundingValue']").val('');
                $('#bookOfBusinessDiv').show();
            }
       }
        function onChangeOrginator(){
            $("[id$='hippaPanel']").css('display','block');
            $("#selectedTPName").change(function(){
                var callTopicsList = '';
                $("#callTopicType_chosen").find(":nth-child(1)").find("li.search-choice").each(function(){
                    if(callTopicsList == '' || callTopicsList == null){
                        callTopicsList = $(this).find("span").html();
                    } else {
                        callTopicsList = callTopicsList + ',' + $(this).find("span").html();
                    }
                });
                callTopicsList = callTopicsList.split(',');
                $("[id$=theHiddenInputId]").val(callTopicsList);
            ////console.log("fired "+$(this).val());
                var currentTp = $(this).val();
                ////console.log('currentTp@@ ' + currentTp);
                var ODefault = $(this).attr("name");
                var oHtml = $("[id$='originator']").html();
                var existedTP = $("[id$='originator']").find("#currentTP");
                ////console.log('existedTP@@ ' + existedTP.val());
                var newOption;
                if($(existedTP).length != 0){
                    $("[id$='originator']").find("#currentTP").remove();
                }
                if(currentTp == ''){
                    $("[id$='originator']").val(defaultOriginator);
                }else if(ODefault == 'none'){
                    /*
                    newOption = "<option id = 'currentTP' value = 'currentTp' selected='selected'>"+currentTp+"</option>";
                    $("[id$='originator']").append(newOption );
                    */
                  var currentTporg = $("#selectedTPO").val();

                 $("[id$='hippaPanel']").css('display','block');
                }
                $("[id$='hippaPanel']").css('display','block');
            });
           //added for third party contact : Ends
           $("[id$='originator']").wrap('<div class="requiredInput"></div>').parent().prepend('<div class="requiredBlock"></div>');

           var defaultOriginator = $("[id$='originator']").val();
            ////console.log('in onChangeOrginator 32'+defaultOriginator );
            //$("[id$='originator']").on("change", function(){
            $(document.body).on("change","[id$='originator']", function(){
               ////console.log('in onChange');
               if($(this).val()){
               ////console.log('in onChange first');
                   $(this).parent().find('.errorMsg').remove();
                   $(this).removeClass("error");
               }
               if($(this).val() == 'thirdPartId'){
               ////console.log('in onChange second');
               $("[id$='hippaPanel']").css('display','block');
                checkThirdPartyContacts();
               }else if ($(this).val() == 'currentTp'){
               //console.log('in onChange third');
                   $("[id$='hippaPanel']").css('display','block');
                   changeOriginator();
               }else if($(this).val() == 'None'){
               //console.log('in onChange fourth');
                   var existedTP = $("[id$='originator']").find("#currentTP");
                   $(existedTP).remove();
                    $("[id$='hippaPanel']").css('display','none');
               }else{
               //console.log('in onChange fifth');
               var existedTP = $("[id$='originator']").find("#currentTP");
               //console.log('in onChange sixth');
               $(existedTP).remove();
               //console.log('in onChange sevonth');
               $("[id$='hippaPanel']").css('display','block');
               //console.log('in onChange eighth');
                   $("#originatorNameLabel").html('<label class="outputLabelPanel">Originator Name</label> <div style = "margin : 0 auto;width : 10%"><img src="{!URLFOR($Resource.ACETResources, '/img/m/loading16x16.gif')}" /></div>');
                   //console.log('in onChange ninth');
                var callTopicsList = '';
                $("#callTopicType_chosen").find(":nth-child(1)").find("li.search-choice").each(function(){
                    if(callTopicsList == '' || callTopicsList == null){
                        callTopicsList = $(this).find("span").html();
                    } else {
                        callTopicsList = callTopicsList + ',' + $(this).find("span").html();
                    }
                });
                callTopicsList = callTopicsList.split(',');
                console.log('-----callTopicsList --'+callTopicsList);
                console.log('$("#selectedTPName").val() ::--calltopic---- ' + $("#selectedTPName").val());
                $("[id$=theHiddenInputId]").val(callTopicsList);
                changeOriginator();

               }
            });
            $("#callTopicType").chosen();
        }

        function Misdirect(){
            var url = 'interactionId={!JSENCODE($CurrentPage.parameters.interactionId)}';
            url +='&contactId={!JSENCODE($CurrentPage.parameters.contactId)}';
            url +='&callTopic=Provider Other Inquiry';
            url +='&originatorRelationship={!wrapper.AdditionalInfo.OriginatorRelationship}';
            sforce.console.getFocusedPrimaryTabId(function(result){
                url = 'apex/ACETMemberOpenTopicMisdirect?'+url;
                sforce.console.openSubtab(result.id , url, true,'Cancel', null);
                });
            //console.log(url);
            return false;
        }

        function validateAddThirdpartyForm(){

        }

        function checkFlags(){
            var flag =$("#misdirectFlag").val();
            if(flag == 'true'){
               var strError = $("#errorMsg").val();
               var defaultValue = $("#defaultValue").val();
               createCaseMisdirect('ACETMisdirectedCall',strError,defaultValue);
            }
        }


      function openConsumerDashboard(){
            var provTpyeCode = '{!JSENCODE(ProvTypeCode)}';
            var LoggedInAgentProfile = "{!currentAgentProfile}";
            var Origenatortype = "{!Interaction.Originator_Type__c}";
            console.log('profile is '+LoggedInAgentProfile);
            if ((LoggedInAgentProfile == 'ACET Member' && (provTpyeCode == " " || provTpyeCode == null))||(LoggedInAgentProfile == 'ACET Provider' && Origenatortype =='Member')){  //Removed research user condition for user story US929974
                var consumerDashURL = $("#cduId").val();
                var Condash = consumerDashURL;
                if(Condash){
                    console.log('inside before window.load');
                    //mywindow = window.open(Condash ,'_blank','toolbars=0, width=800, height=600 ,left=0 ,top=0 ,scrollbars=1 ,resizable=1');
                    //window.open(Condash,'_blank', 'width=' + windowSize.width + ', height=' + windowSize.height + ', left=' + windowLocation.left + ', top=' + windowLocation.top);
                    if(window.screenLeft == 0){
                        //mywindow.moveTo(window.screen.width,0);
                        window.open(Condash ,'_blank','toolbars=0, width=800, height=600 ,left='+window.screen.width+' ,top=0 ,scrollbars=1 ,resizable=1');
                    }
                    else{
                        //mywindow.moveTo(0,0);
                        window.open(Condash ,'_blank','toolbars=0, width=800, height=600 ,left=0 ,top=0 ,scrollbars=1 ,resizable=1');
                    }
                    //window.open(Condash ,'_blank','toolbars=0, width=1200, height=800 ,left=0 ,top=0 ,scrollbars=1 ,resizable=1');

                }
            }
        }
        function processResponsePageLoad(){
            openConsumerDashboard();
            $('#callTopicType').chosen();
            var coveragesLst = $("[id$='CoveragesSize']").val();
            if(coveragesLst == '' || coveragesLst == '0' ){
                 $('#toggleCheckboxCoverage').attr('checked',false);
                 $('#toggleCheckboxCoverage').attr('disabled', true);
                 toggleClicked =  true;
                 toggleCheckbox = "All";
                 toggleShowCoverages();
                 
            }
            if('{!$CurrentPage.parameters.vccdParams}' != '') {
                var vccdParams =  JSON.parse('{!$CurrentPage.parameters.vccdParams}');
                if (vccdParams.callTopic != '') {
                    $("#callTopicType").val(vccdParams.callTopic).trigger("chosen:updated");
                }
            }
            initCoverageTable();
            initPCPTable();
        }
        function makeSecondCallOut(){
        var isSError = $("[id$='isServiceError']").val();
        //console.log('is service error ::-----> '+isSError);
            //if(!(isSError == 'true')){
                CallGetMembership();
            //}else{
                //rerenderAllSection();
            //}

        }
        function setFocusOnLoad(){}

        function navigateToProvider(MemberDetailResultJson,additionalInfoStr,subjectId,memberId,surrogateKey,coverageSRK,familyInfoStr,ssn,scr,clevel,city,zip,cptin,detailssn,locationAffiliationID){
            if(validateNew('',true) == false){
                setTimeout(function(){
                    topFunction();
                 }, 100);
                return false;
            }else{
            var locationAffiliationIDVar = locationAffiliationID;
            console.log('pcp.locationAffiliationID@@ ' + locationAffiliationIDVar);
            var memberDetailObj ;
            var AdditionalInfoObj;
            var BundleOptionID;
            if(MemberDetailResultJson != '')
                memberDetailObj = JSON.parse(MemberDetailResultJson);
            if(additionalInfoStr != '')
                AdditionalInfoObj = JSON.parse(JSON.stringify(additionalInfoStr));
            ////console.log('AdditionalInfoObj >> '+AdditionalInfoObj);
            if(memberDetailObj != undefined && memberDetailObj != '' && memberDetailObj != null){
                BundleOptionID = memberDetailObj.BundleOptionID;
                ssn=memberDetailObj.SSN;
                }
            var CoverageType,onshoreRestriction,onshoreRestrictionCode,coverageGroupNumber,coverageEffectiveDate,coverageSRK,SRK;
            onshoreRestrictionCode = '00';
            if(memberDetailObj != undefined && memberDetailObj != null && memberDetailObj.PreferredCoverage != null){
                CoverageType = memberDetailObj.PreferredCoverage.CoverageTypeCode;
                onshoreRestriction = memberDetailObj.PreferredCoverage.OnshoreRestriction;
                onshoreRestrictionCode = memberDetailObj.PreferredCoverage.onshoreRestrictionCode;
                ////console.log('>>>'+onshoreRestriction+ '<<<'+onshoreRestrictionCode);
                coverageGroupNumber = memberDetailObj.PreferredCoverage.GroupNumber;
                coverageEffectiveDate = memberDetailObj.PreferredCoverage.EffectiveDate;
                coverageSRK = memberDetailObj.PreferredCoverage.SurrogateKey;
                SRK= memberDetailObj.PreferredCoverage.EnrolleeSurrogateKey;

             }
            var EffectiveDate;
            var EndDate ;
            var locationAffiliationID;
            var GroupNumber;
            var benefitEnddate;
            var benefitEffectivedate;
            if(memberDetailObj != undefined && memberDetailObj != '' && memberDetailObj != null){
                EffectiveDate = memberDetailObj.EffectiveDate;
                EndDate = memberDetailObj.EndDate;
                if(memberDetailObj.custPurchaseinfo){
                    benefitEffectivedate = memberDetailObj.custPurchaseinfo.benefitEffectivedate;//US2931631
                    benefitEnddate = memberDetailObj.custPurchaseinfo.benefitEnddate;
                }
                locationAffiliationID = memberDetailObj.locationAffiliationID;
            }
            if(AdditionalInfoObj != undefined && AdditionalInfoObj != '' && AdditionalInfoObj != null){
                GroupNumber = AdditionalInfoObj.GroupNumber;
            }

            sniEligibility = $('[id$="sniEligibilityText"]').html();
            var isActive = true;
            //var urlParam = 'interactionId={!JSENCODE(Interaction.Id)}';
            var urlParam = 'interactionId={!JSENCODE(Interaction.Id)}' +'&' + 'contactId='+subjectId+ '&' + 'sourceOriginator={!JSENCODE(sourceOriginator)}' + '&' + 'additionalInfo=' + additionalInfoStr;
            urlParam = urlParam + '&memberId='+memberId;
            urlParam = urlParam + '&SRK=' + SRK + '&onshoreRestriction=' + onshoreRestriction + '&onshoreCode='+onshoreRestrictionCode;


            var url = '/apex/ACETProviderLookup?'+ urlParam +'&ProviderId={!ProviderId}'+'&Id='+memberId + '&SRK='+SRK + '&coverageSRK='+coverageSRK+ '&grpnum='+GroupNumber;
                url = url + '&' + 'scrId=' + scr + '&' + 'pcpFlag=true' + '&' + 'rl=' + memberDetailObj.RelationShipCode + '&' + 'pcpLocatorId=' + locationAffiliationIDVar;
                url = url + '&' + 'ssnId=' + ssn + '&' + 'grpno=' + GroupNumber + '&EffectiveDate=' + EffectiveDate + '&EndDate=' + EndDate + '&bundleOptionId='+BundleOptionID+ '&benefitEnddate='+benefitEnddate+ '&benefitEffectivedate='+benefitEffectivedate+'&sniEligibility='+sniEligibility;

            sforce.console.getFocusedPrimaryTabId(function(result){
                sforce.console.openSubtab(result.id , url, isActive,'Provider Lookup', null,openedTabs);
            });

            return false;
            }
        }

        ///functions for change subject
        function onFamilyMemberClicked(el){
            //subject is already open
            if($(el).attr("data-memberId") == '{!JSENCODE($CurrentPage.parameters.Id)}'){
                showChangeSubjectDialog('Member detail page is already open.', 'Info');
                return false;
            }

            sforce.console.getSubtabIds(
                '' ,
                function(result){
                    var hasTopicSubTabOpened = false;
                    for(var i = 0; i < result.ids.length; i++){
                        //console.log('subtab: ' + result.ids[i]);
                        for(var j = 0; j < subtabIds.length; j++){
                            if(result.ids[i] == subtabIds[j]){
                                 hasTopicSubTabOpened = true;
                            }
                        }
                    }
                    //console.log('hasTopicSubTabOpened: ' + hasTopicSubTabOpened);

                    //prevent to open new subject detail page if there is topic tab open
                    if(hasTopicSubTabOpened){
                        showChangeSubjectDialog('Close all Topics before changing Subjects.', 'Info');
                        return false;
                    }else{
                        Visualforce.remoting.Manager.invokeAction(
                            '{!$RemoteAction.ACETMemberDetailController.findMember}',
                            $(el).attr("data-memberId"),
                            $(el).attr("data-firstName"),
                            $(el).attr("data-lastName"),
                            $(el).attr("data-dob"),
                            function(result, event){
                               //console.log("find member result:");
                               //console.log(result);

                               processFindFamilyMemberResult(result);
                            },
                            {escape: true}
                        );
                    }

            });
            return false;
        }

        function processFindFamilyMemberResult(result){
            if(result.Success){
                if(result.Response && result.Response.length > 0){
                    var msr = result.Response[0];
                    if(msr){
                        var tabName = 'Detail' + ' - ' + msr.LastName.replace('&#39;',"'");
                        var urlParams = {'lastName':encodeURIComponent(msr.LastName), 'firstName':encodeURIComponent(msr.FirstName), 'Id':msr.Id, 'ssn':msr.SSNum, 'scr':msr.SCRId, 'SRK':(msr.SurrogateKey ? msr.SurrogateKey : ''), 'subjectdob':msr.DOB, 'individualIdentifier':msr.individualIdentifier};

                        //replace url param with params from current subject
                        var url = replaceUrlParam(urlParams);
                        var tabIdUsngClntId = msr.Id ? msr.Id : msr.SurrogateKey;
                        //console.log(url);

                        sforce.console.getEnclosingPrimaryTabId(function(result){
                            var primaryTabId = result.id;
                            sforce.console.getSubtabIds(
                                primaryTabId,
                                function(result){
                                    if(result.ids.length > 1){
                                        //member detail tab is opened as sub tab
                                        sforce.console.openSubtab(primaryTabId, url, true, tabName, null, function(){}, tabIdUsngClntId);
                                        sforce.console.getEnclosingTabId(function(result){
                                            sforce.console.closeTab(result.id);
                                        });
                                    }else{
                                        sforce.console.openPrimaryTab(null, url, true, tabName, function(){}, tabIdUsngClntId);
                                        sforce.console.getEnclosingTabId(function(result){
                                            sforce.console.closeTab(result.id);
                                        });
                                    }
                                }
                            );
                        });
                    }
                }
            }
        }

        function showChangeSubjectDialog(message, title){
            $('<div>' + message + '</div>').dialog({
                autoOpen: true,
                height: 160,
                width: 350,
                modal: true,
                closeOnEscape: true,
                title: title,
                resizable: false,
                buttons: {
                  "OK": function(){
                      $(this).dialog("close");
                  }
                },
                close: function(ev,ui){
                    $(this).remove();
                }
            });
        }

        function replaceUrlParam(urlParams){
            var url = window.location.href.slice(0,window.location.href.indexOf('?') + 1);
            var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for (var i = 0; i < hashes.length; i++) {
                var hash = hashes[i].split('=');
                var param = hash[0].replace('+',' ').trim();
                if(hash.length == 2){
                    if(typeof urlParams[param] != 'undefined'){
                        if(i == 0){
                            url = url + hash[0] + '=' + urlParams[param]; 
                            console.log('urlParams[param]@@ ' + urlParams[param] + ' @@111@@@ ' + url);  
                        }else{
                            url = url + '&' + hash[0] + '=' + urlParams[param];                            
                            if(i == hashes.length - 1){
                               url = url + '&familyRelationshipCheck=1';
                            }
                        }
                    }else{
                        if(i == 0){
                            url = url + hash[0] + '=' + hash[1];    
                        }else{
                            url = url + '&' + hash[0] + '=' + hash[1];
                        }
                    }    
                } 
            }
            return url;
        }
        function updateOnshoreIndicator(){
            var onshoreIndicator = $("#onshoreIndicator").val();
            var onshoreVerbiage = $("#onshoreVerbiage").val();
            //console.log(onshoreIndicator  +" :: " +onshoreVerbiage );
            var activeRow = $("[id$='coverage-table']").find("tr.active");
            var onshoreRestrictionCol = $(activeRow).find("[id$='onshoreRes']");
            $(onshoreRestrictionCol).html("<span title = '"+onshoreVerbiage+"' style = 'color:blue;'>"+onshoreIndicator+"</span>");

        }
        function unhideROI(){
            var rowCount = $("[id$='tblROI'] tbody tr").length;
            if(rowCount == 0){
                $("[id$='lnkOtherContact']").addClass('changeText collapsed');
                $("[id$='otherContactInfo']").removeClass("in");
                $("[id$='otherContactInfo']").addClass('form-element__group fieldLayout collapse');
            }
            //console.log(rowCount);
        }

        function resetTable(){
       //   $("#originalDrilldowns tr.pleaseHideMe").hide();
         // $("#originalDrilldowns tr:first-child").show();
          $("[id$='originalDrilldowns']").find("tr.pleaseHideMe").hide();
          $("[id$='originalDrilldowns']").find("tr:first-child").show();
          
          $("[id$='originalDrilldowns']").find("tr.odd").click(function()  
          {
             $(this).next("tr").toggle();
             $(this).find(".arrow").toggleClass("up");
          });
          mesgeRef();
     }
        
    </script>

  <!-- Commented by Bhanu : Below CSS is minified and moved to memberdetail.css -->
  <!-- If need to be modify then use below css and save to memberdetail.css after minification -->
    <apex:outputPanel id="scriptPanel">

    <script type="text/javascript">
         var restrict = '{!isRestrict}';
         if(restrict == 'true')
         {
             redirectTo();
         }
    </script>
    </apex:outputPanel>
    <style type="text/css">
        .imgclass:hover {
            background-image: url('/img/help/helpOrbs.gif');
            background-repeat: no-repeat;
            width: 16px;
            height: 15px;
            background-position: right;
        }

        .imgclass {
            background-image: url('/img/help/helpOrbs.gif');
            background-repeat: no-repeat;
            width: 16px;
            height: 15px;
        }
        .hideBenefitPlanIdClass {
            display : none;
        } 
        <!-- Code Added by Chandan -US1365690 -->
        .hideColumn {
            display : none;
        } 
        <!--End-->
    </style>
      <style type="text/css">
         body { font-family:Arial, Helvetica, Sans-Serif; font-size:0.8em;}
         #originalDrilldowns { border-collapse:collapse;}
         #originalDrilldowns h4 { margin:0px; padding:0px;}
         #originalDrilldowns img { float:right;}
         #originalDrilldowns ul { margin:10px 0 10px 40px; padding:0px;}  
         #originalDrilldowns th { repeat-x scroll center left; padding:7px 15px; text-align:left;}
         #originalDrilldowns div.arrow { background:transparent url({!URLFOR($Resource.ACETJExpand, '/jExpand/RightArrow.jpg')}) no-repeat scroll 0px 0px; width:21px; height:23px; display:block;}
         #originalDrilldowns div.up { background:transparent url({!URLFOR($Resource.ACETJExpand, '/jExpand/DownArrow.jpg')}) no-repeat scroll 0px 0px; width:21px; height:23px; display:block;}
     </style>
    
</apex:form>
<apex:form >
    <div class="slds-scope">
        <apex:outputPanel id="casedetailpopupPanel">
            <c:ACETCaseDetail />
        </apex:outputPanel>
    </div>
</apex:form>
    </html>

    <!-- resources  for multiple selection dropdown -->
    <apex:stylesheet value="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
    <apex:stylesheet value="{!URLFOR($Resource.ACETResources, '/css/vendor/chosen.min.css')}" />
    <!-- <apex:includeScript value="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></apex:includeScript> -->
    <Script type="text/javascript" src="{!URLFOR($Resource.ACETResources, '/js/vendor/chosen.jquery.min.js')}" />
    <Script type="text/javascript" src="{!URLFOR($Resource.ACETResources, '/js/main.js')}" />
    <Script type="text/javascript" src="{!URLFOR($Resource.ACETUIResources, '/JS/moment.js')}"></Script>
    <Script type="text/javascript" src="{!URLFOR($Resource.ACETUIResources, '/JS/jquery-ui.js')}"></Script>
    <!-- Below stylesheet are moved from line 1019 to here-->
    <!-- <apex:stylesheet value="{!URLFOR($Resource.jQueryDatatableResources,'jquery-ui.css')}" /> -->

    <script type="text/javascript" src="{!URLFOR($Resource.jQueryDatatableResources,'jquery.dataTables.min.js')}" />
    <apex:stylesheet value="{!URLFOR($Resource.jQueryDatatableResources,'jquery.dataTables.min.css')}" />
    <Script type="text/javascript" src="{!$Resource.JqueryChosenOrder}"/>

</apex:page>